name = "spawner-mcp"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Custom domain routes
routes = [
  { pattern = "mcp.vibeship.co/*", zone_name = "vibeship.co" }
]

[vars]
ENVIRONMENT = "production"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "spawner-db"
database_id = "a2dae866-9e54-4d49-98a3-1078f089bd9f"

# KV Namespaces
[[kv_namespaces]]
binding = "SKILLS"
id = "3649d5fa5e2c41fcbb981503f4438e05"

[[kv_namespaces]]
binding = "SHARP_EDGES"
id = "14ba2c76f0ee4cd289d70918c5b001ad"

[[kv_namespaces]]
binding = "CACHE"
id = "29f1dcbc2f994faf8e49d6fa5d7c2a2e"

# Optional: Workers AI for embeddings
# [ai]
# binding = "AI"

[dev]
port = 8787
local_protocol = "http"
