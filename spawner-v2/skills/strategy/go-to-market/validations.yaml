# Go-to-Market Validations
# Checks for patterns related to GTM implementation

validations:
  - id: missing-analytics-tracking
    name: Launch Without Analytics
    severity: warning
    type: regex
    pattern:
      - "launch|Launch|release|Release"
      - "production|Production"
      - "deploy|Deploy"
    message: "Launch/deployment code without visible analytics setup."
    fix_action: "Ensure analytics tracking (Mixpanel, Amplitude, GA) is set up before launch"
    applies_to:
      - "**/index.tsx"
      - "**/app.tsx"
      - "**/main.tsx"
    exceptions:
      - "analytics|Analytics|mixpanel|amplitude|segment|gtag|track"

  - id: no-conversion-tracking
    name: Signup Without Conversion Tracking
    severity: warning
    type: regex
    pattern:
      - "signup|signUp|register|createAccount"
      - "onSubmit.*form|handleSubmit"
    message: "User signup without conversion tracking."
    fix_action: "Add conversion event tracking for signup funnel analysis"
    applies_to:
      - "**/*.tsx"
      - "**/*.jsx"
    exceptions:
      - "track|conversion|event|analytics|gtag"

  - id: no-referral-attribution
    name: Signup Without Referral Attribution
    severity: info
    type: regex
    pattern:
      - "signup|signUp|register|createUser"
    message: "User signup without referral attribution tracking."
    fix_action: "Track utm_source, referral codes, and attribution for channel analysis"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "utm|referral|source|attribution|ref=|campaign"

  - id: missing-onboarding-tracking
    name: Onboarding Without Tracking
    severity: info
    type: regex
    pattern:
      - "onboarding|Onboarding|welcome|Welcome"
      - "getStarted|getting-started"
    message: "Onboarding flow without step completion tracking."
    fix_action: "Track each onboarding step for funnel analysis and drop-off identification"
    applies_to:
      - "**/*.tsx"
      - "**/*.jsx"
    exceptions:
      - "track|step|progress|complete|analytics"

  - id: no-activation-metric
    name: User Creation Without Activation Tracking
    severity: info
    type: regex
    pattern:
      - "createUser|newUser|registerUser"
      - "first.*login|firstLogin"
    message: "User creation without activation metric tracking."
    fix_action: "Define and track activation metric (key value moment)"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "activated|activation|milestone|valueRealized"

  - id: no-invite-mechanism
    name: Team Feature Without Invite Flow
    severity: info
    type: regex
    pattern:
      - "team|Team|workspace|Workspace"
      - "organization|Organization|org"
    message: "Team/workspace feature without visible invite mechanism."
    fix_action: "Add team invite flow for product-led expansion"
    applies_to:
      - "**/*.tsx"
      - "**/*.jsx"
    exceptions:
      - "invite|Invite|addMember|joinTeam"

  - id: no-trial-tracking
    name: Trial Without Usage Tracking
    severity: warning
    type: regex
    pattern:
      - "trial|Trial|freeTrial"
      - "trialEnd|trialExpir"
    message: "Trial functionality without usage tracking."
    fix_action: "Track trial engagement to identify conversion likelihood"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "track|usage|engaged|activity"

  - id: upgrade-without-trigger
    name: Upgrade CTA Without Trigger Context
    severity: info
    type: regex
    pattern:
      - "upgrade|Upgrade|premium|Premium"
      - "pricing|Pricing|plans|Plans"
    message: "Upgrade prompts without contextual trigger tracking."
    fix_action: "Track what triggered upgrade interest for PQL analysis"
    applies_to:
      - "**/*.tsx"
      - "**/*.jsx"
    exceptions:
      - "track|trigger|source|reason|context"

  - id: no-feature-flag-for-launch
    name: Feature Without Feature Flag
    severity: info
    type: regex
    pattern:
      - "newFeature|NewFeature|feature.*launch"
      - "experimentalFeature|betaFeature"
    message: "New feature without feature flag for controlled rollout."
    fix_action: "Use feature flags for gradual rollout and easy rollback"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "featureFlag|launchDarkly|unleash|flagsmith|growthbook"

  - id: no-self-serve-path
    name: Product Without Self-Serve Path
    severity: info
    type: regex
    pattern:
      - "demo|Demo|contact.*sales"
      - "scheduleCall|bookDemo"
    message: "Demo/sales path without visible self-serve alternative."
    fix_action: "Offer self-serve option for PLG alongside sales path"
    applies_to:
      - "**/*.tsx"
      - "**/*.jsx"
    exceptions:
      - "freeTrial|selfServe|tryFree|getStarted"

  - id: pricing-page-no-cta
    name: Pricing Display Without Clear CTA
    severity: warning
    type: regex
    pattern:
      - "pricing|Pricing|price|Price"
      - "plan|Plan|tier|Tier"
    message: "Pricing display without clear call-to-action."
    fix_action: "Add clear CTA buttons for each pricing tier"
    applies_to:
      - "**/pricing*.tsx"
      - "**/plans*.tsx"
    exceptions:
      - "button|Button|cta|CTA|onClick|subscribe"

  - id: no-waitlist-mechanism
    name: Coming Soon Without Waitlist
    severity: info
    type: regex
    pattern:
      - "comingSoon|coming-soon|launching.*soon"
      - "notYetAvailable|underConstruction"
    message: "Coming soon page without email capture."
    fix_action: "Add waitlist signup to capture interested users for launch"
    applies_to:
      - "**/*.tsx"
      - "**/*.jsx"
    exceptions:
      - "waitlist|email|subscribe|notify|signup"

  - id: no-social-proof
    name: Landing Page Without Social Proof
    severity: info
    type: regex
    pattern:
      - "hero|Hero|landing|Landing"
      - "homepage|HomePage"
    message: "Landing/hero section without social proof elements."
    fix_action: "Add testimonials, logos, or user count for credibility"
    applies_to:
      - "**/hero*.tsx"
      - "**/landing*.tsx"
      - "**/home*.tsx"
    exceptions:
      - "testimonial|logo|users|customers|trusted"

  - id: no-urgency-element
    name: CTA Without Urgency
    severity: info
    type: regex
    pattern:
      - "signUp|getStarted|startTrial"
      - "subscribe|Subscribe"
    message: "Sign up CTA without urgency or value reinforcement."
    fix_action: "Add value proposition or urgency near CTAs"
    applies_to:
      - "**/*.tsx"
      - "**/*.jsx"
    exceptions:
      - "free|instant|today|now|immediately|trial"

  - id: checkout-no-guarantee
    name: Checkout Without Trust Elements
    severity: info
    type: regex
    pattern:
      - "checkout|Checkout|payment|Payment"
      - "purchase|Purchase|buy|Buy"
    message: "Checkout flow without trust/guarantee elements."
    fix_action: "Add money-back guarantee, security badges, or support info"
    applies_to:
      - "**/checkout*.tsx"
      - "**/payment*.tsx"
    exceptions:
      - "guarantee|refund|secure|ssl|support|help"

  - id: no-churn-tracking
    name: Cancellation Without Reason Tracking
    severity: warning
    type: regex
    pattern:
      - "cancel|Cancel|unsubscribe|Unsubscribe"
      - "deleteAccount|closeAccount"
    message: "Cancellation flow without churn reason tracking."
    fix_action: "Add exit survey to understand churn reasons"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "reason|survey|feedback|why|churnReason"
