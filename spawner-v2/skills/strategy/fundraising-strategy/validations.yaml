# Fundraising Strategy Validations
# Checks for patterns related to investor-grade products

validations:
  - id: no-metrics-dashboard
    name: Product Without Metrics Dashboard
    severity: info
    type: regex
    pattern:
      - "dashboard|Dashboard|analytics|Analytics"
      - "metrics|Metrics|reporting|Reporting"
    message: "Dashboard/analytics reference without visible metrics implementation."
    fix_action: "Ensure key metrics are tracked for investor reporting"
    applies_to:
      - "**/*.tsx"
      - "**/*.jsx"
    exceptions:
      - "track|log|event|measure|count"

  - id: no-revenue-tracking
    name: Payment Without Revenue Tracking
    severity: warning
    type: regex
    pattern:
      - "payment|Payment|checkout|Checkout"
      - "subscribe|Subscribe|purchase|Purchase"
    message: "Payment flow without visible revenue tracking."
    fix_action: "Track MRR, ARR, and revenue metrics for fundraising"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "revenue|Revenue|mrr|MRR|arr|ARR|track"

  - id: no-customer-count
    name: User System Without Customer Tracking
    severity: info
    type: regex
    pattern:
      - "createUser|newUser|signup"
      - "registerUser|addUser"
    message: "User creation without customer count tracking."
    fix_action: "Track customer counts and growth for investor updates"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "count|total|track|metric|analytics"

  - id: no-churn-tracking
    name: Subscription Without Churn Tracking
    severity: warning
    type: regex
    pattern:
      - "cancel|Cancel|unsubscribe|Unsubscribe"
      - "churn|Churn|downgrade|Downgrade"
    message: "Cancellation flow without churn rate tracking."
    fix_action: "Track churn rate for investor unit economics"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "churnRate|churn.*track|metric|analytics"

  - id: no-cohort-tracking
    name: User Registration Without Cohort
    severity: info
    type: regex
    pattern:
      - "signup|signUp|register|createUser"
    message: "User creation without cohort tracking."
    fix_action: "Track signup cohorts for retention analysis"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "cohort|Cohort|signupDate|createdAt"

  - id: no-ltv-calculation
    name: Revenue Without LTV Calculation
    severity: info
    type: regex
    pattern:
      - "revenue|Revenue|payment|Payment"
      - "subscription|Subscription"
    message: "Revenue tracking without LTV calculation."
    fix_action: "Calculate and track LTV for unit economics"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "ltv|LTV|lifetime|lifetimeValue"

  - id: no-cac-tracking
    name: Acquisition Without CAC Tracking
    severity: info
    type: regex
    pattern:
      - "utm|referral|source|campaign"
      - "attribution|acquisition"
    message: "Attribution tracking without CAC calculation."
    fix_action: "Calculate CAC by channel for unit economics"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "cac|CAC|cost.*acquisition|acquisitionCost"

  - id: no-retention-metrics
    name: User Activity Without Retention Tracking
    severity: info
    type: regex
    pattern:
      - "lastActive|lastLogin|lastSeen"
      - "activeUser|dailyActive|monthlyActive"
    message: "Activity tracking without retention metrics."
    fix_action: "Calculate DAU, MAU, retention for investor metrics"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "retention|dau|DAU|mau|MAU|d7|d30"

  - id: no-nrr-tracking
    name: Revenue Changes Without NRR
    severity: info
    type: regex
    pattern:
      - "upgrade|Upgrade|downgrade|Downgrade"
      - "expansion|Expansion|contraction"
    message: "Revenue changes without net revenue retention tracking."
    fix_action: "Track NRR (expansion - churn) for SaaS metrics"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "nrr|NRR|netRevenue|revenueRetention"

  - id: hardcoded-financials
    name: Hardcoded Financial Values
    severity: warning
    type: regex
    pattern:
      - "price.*=.*\\d+\\.\\d+"
      - "amount.*=.*\\d{3,}"
    message: "Hardcoded financial values. Consider configuration."
    fix_action: "Move financial values to configuration for easy updates"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "config|Config|env|ENV|process\\.env"

  - id: no-runway-calculation
    name: Financial Dashboard Without Runway
    severity: info
    type: regex
    pattern:
      - "financials|Financials|dashboard|Dashboard"
      - "burn|Burn|expenses|Expenses"
    message: "Financial tracking without runway calculation."
    fix_action: "Calculate runway (cash / monthly burn) for planning"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "runway|Runway|monthsLeft|cashRunway"

  - id: no-growth-rate
    name: Metrics Without Growth Rate
    severity: info
    type: regex
    pattern:
      - "revenue|Revenue|users|Users"
      - "customers|Customers|mrr|MRR"
    message: "Metrics tracking without growth rate calculation."
    fix_action: "Calculate MoM and YoY growth rates for investor reporting"
    applies_to:
      - "**/*.ts"
      - "**/*.tsx"
    exceptions:
      - "growth|Growth|rate|percent|yoy|mom"
