id: technical-analysis
skill: Technical Analysis
version: "1.0"

sharp_edges:
  - id: survivorship-bias-patterns
    severity: CRITICAL
    title: You Only See Patterns That Worked
    description: Charts shared on social media show successful patterns, not the failures
    symptoms:
      - Pattern win rate seems higher than reality
      - Frustration when "perfect" patterns fail
      - Overconfidence in pattern recognition
    detection_pattern: "pattern.*100%|always.*works|never.*fails"
    solution: |
      Reality Check by Pattern (Bulkowski's Encyclopedia):

      | Pattern           | Success Rate | Avg Move |
      |-------------------|--------------|----------|
      | Head & Shoulders  | 63%          | 16%      |
      | Double Bottom     | 65%          | 18%      |
      | Cup & Handle      | 65%          | 20%      |
      | Bull Flag         | 63%          | 15%      |
      | Triangle (sym)    | 54%          | 12%      |

      Key Insight: Even "reliable" patterns fail 35-45% of the time.

      Action Items:
      1. Study failed patterns as much as successful ones
      2. Always use stop losses assuming failure
      3. Size positions for the failure rate, not success rate
      4. Backtest on your own data, don't trust screenshots
    references:
      - "Encyclopedia of Chart Patterns" - Thomas Bulkowski

  - id: indicator-lag-trap
    severity: CRITICAL
    title: All Indicators Lag - You're Trading the Past
    description: Indicators are derived from past prices, they don't predict future
    symptoms:
      - Entering trades late after moves already happened
      - Stop losses hit by retracements
      - "Why did it reverse right after my signal?"
    detection_pattern: "indicator.*predict|signal.*before"
    solution: |
      Indicator Reality:

      Moving Averages: Most lagging (smooth past data)
      - 200 MA: ~100 days of lag
      - 50 MA: ~25 days of lag

      MACD: Lagging (MA of MAs)
      - Signal line crossover is already 5-10 bars old

      RSI: Less lag but still reactive
      - Measures past momentum, not future

      Better Approach:
      1. Use indicators for CONTEXT, not signals
         - "We're in uptrend" not "buy now"

      2. Lead with price action
         - Price structure changes before indicators

      3. Use indicators to FILTER, not TRIGGER
         - Only take price action longs when RSI > 50

      4. Anticipate indicator signals
         - When RSI approaching 30 + support, prepare
         - Don't wait for indicator to confirm
    references:
      - https://www.investopedia.com/terms/l/laggingindicator.asp

  - id: divergence-persistence
    severity: CRITICAL
    title: Divergence Can Persist Far Longer Than Your Account
    description: RSI/MACD divergence is not a timing tool - trends continue despite divergence
    symptoms:
      - Multiple losing trades betting on divergence
      - "Divergence doesn't work anymore"
      - Account drawdown from fading strong trends
    detection_pattern: "divergence.*reversal|divergence.*signal"
    solution: |
      Divergence Reality:
      - Divergence shows slowing momentum, NOT reversal
      - Trends can make 5-10 divergences before reversing
      - In 2021 BTC: Divergence from $30k, didn't reverse until $69k

      Rules for Divergence:
      1. NEVER trade divergence alone
         - Requires structure break confirmation

      2. Divergence is context, not signal
         - "Momentum weakening" not "reversal imminent"

      3. Only trade divergence at key levels
         - Major support/resistance
         - Key Fibonacci levels
         - Previous swing highs/lows

      4. Wait for price confirmation
         - Bullish div + break above prior high = valid
         - Bullish div alone = early and dangerous

      Safer Divergence System:
      - Divergence appears: Alert, don't trade
      - Price breaks structure: Prepare
      - Retest of break point: Enter with stop
    references:
      - Countless blown accounts trading divergence in trends

  - id: support-resistance-precision
    severity: HIGH
    title: Support/Resistance Are Zones, Not Exact Prices
    description: S/R levels are probability zones, not magic lines where price reverses
    symptoms:
      - Stop losses hit by "wicks through support"
      - Missing entries waiting for exact level
      - Frustration when price goes "through" level
    detection_pattern: "exact.*support|precise.*resistance|touch.*level"
    solution: |
      S/R Zone Reality:

      Why Levels Are Zones:
      - Different traders draw levels differently
      - Orders cluster around area, not single price
      - Liquidity hunters run stops beyond levels

      Better Approach:
      1. Draw zones, not lines
         - Support ZONE from $45,000-$45,500
         - Not "support at $45,250"

      2. Wait for reaction, not touch
         - Price enters zone = watch
         - Price reacts with volume = signal
         - Price acceptance in zone = level broken

      3. Place stops beyond zones
         - If zone is $45,000-$45,500
         - Stop below $44,800 (below zone + buffer)

      4. Enter in zones, not at edges
         - Scale in as price moves through zone
         - Average entry in middle of zone

      Zone Width Guidelines:
      - Crypto: 1-3% price range
      - Forex: 20-50 pips
      - Stocks: Depends on ATR
    references:
      - Al Brooks price action methodology

  - id: multiple-timeframe-conflict
    severity: HIGH
    title: Different Timeframes Give Conflicting Signals
    description: 1H says buy, 4H says sell, daily says hold - analysis paralysis
    symptoms:
      - Confusion about which timeframe to follow
      - Missed trades due to conflicting signals
      - Taking signals against higher timeframe trend
    detection_pattern: "timeframe.*conflict|which.*timeframe"
    solution: |
      Timeframe Hierarchy (Higher TF Dominates):

      Structure:
      - Position trading: Weekly → Daily → 4H
      - Swing trading: Daily → 4H → 1H
      - Day trading: 4H → 1H → 15M
      - Scalping: 1H → 15M → 5M

      Rules:
      1. NEVER trade against two-higher timeframe
         - If Weekly bearish, don't go long
         - Period.

      2. Higher TF = Trend direction
         - "What's the path of least resistance?"

      3. Middle TF = Setup identification
         - "Where's the opportunity?"

      4. Lower TF = Entry timing
         - "When exactly do I click?"

      Conflict Resolution:
      - Higher TF bullish + Lower TF bearish = Wait
      - Higher TF bearish + Lower TF bullish = Short setup
      - All aligned = High conviction trade
    references:
      - Multiple timeframe analysis best practices

  - id: hindsight-pattern-clarity
    severity: HIGH
    title: Patterns Are Obvious in Hindsight, Ambiguous in Real-Time
    description: Easy to see patterns on historical charts, hard to identify live
    symptoms:
      - "Why didn't I see that head and shoulders forming?"
      - Patterns only clear after completion
      - Analysis paralysis on live charts
    detection_pattern: "obvious|clearly.*forming|should.*have.*seen"
    solution: |
      Hindsight Bias Reality:

      In hindsight: "Clear head and shoulders pattern"
      In real-time: "Is this a head? Or continuation? Or just noise?"

      Solutions:
      1. Trade the completion, not the formation
         - H&S: Trade neckline break, not head
         - Triangle: Trade breakout, not anticipation

      2. Define pattern BEFORE it completes
         - "If price does X, pattern confirmed"
         - "If price does Y, pattern invalidated"
         - Write it down in advance

      3. Accept ambiguity as normal
         - Not every pattern resolves cleanly
         - Skip unclear setups

      4. Use partial positions
         - 50% on pattern setup
         - 50% on confirmation

      5. Trade what you see, not what you think
         - Price above key level = bullish
         - Price below key level = bearish
         - Everything else = unclear, wait
    references:
      - Common trading psychology research

  - id: volume-interpretation-errors
    severity: HIGH
    title: High Volume Doesn't Always Confirm - Context Matters
    description: Volume meaning depends on price action, not just volume level
    symptoms:
      - Buying breakouts that fail despite "high volume"
      - Missing reversals because "volume was low"
      - Misreading climactic volume events
    detection_pattern: "high.*volume.*confirm|volume.*breakout"
    solution: |
      Volume Contexts:

      1. High Volume + Breakout Success
         - Strong institutions driving move
         - Follow the move

      2. High Volume + Failed Breakout
         - Climactic exhaustion
         - Often reversal setup
         - VERY BEARISH despite high volume

      3. Low Volume + Breakout
         - Lack of participation
         - Likely failure or slow development

      4. Low Volume + Pullback in Trend
         - Healthy consolidation
         - Continuation likely

      5. Climactic Volume + Reversal Candle
         - Selling/buying exhaustion
         - High probability reversal zone

      Better Volume Rules:
      - Breakout volume should be 1.5x+ average
      - If breakout fails on high volume = bearish
      - Declining volume in correction = healthy
      - Rising volume in correction = concerning
    references:
      - Wyckoff volume analysis principles

  - id: optimization-overfitting
    severity: HIGH
    title: Your Optimized System Won't Work in Live Trading
    description: Backtesting optimization finds parameters that fit past noise, not future edge
    symptoms:
      - Amazing backtest results, terrible live results
      - System works for one asset but not others
      - Frequent parameter changes "to adapt"
    detection_pattern: "optimiz|best.*parameter|backtest.*profit"
    solution: |
      Overfitting Signs:
      - Many parameters (more = more overfitting)
      - Specific values (RSI 23 vs RSI 20)
      - Works on one asset only
      - Sharp equity curve changes at specific dates

      Anti-Overfitting Rules:
      1. Use standard parameters
         - RSI 14, MACD 12/26/9
         - If edge requires specific params, edge is weak

      2. Out-of-sample testing
         - Optimize on 2019-2021
         - Test on 2022-2023
         - If it fails, no edge

      3. Walk-forward analysis
         - Optimize on period 1, test on period 2
         - Optimize on period 2, test on period 3
         - Continuous validation

      4. Cross-asset testing
         - Works on BTC? Try ETH, SPY, Gold
         - Real edge transfers across markets

      5. Fewer is better
         - 2-3 parameters max
         - Simple systems are robust systems
    references:
      - "Advances in Financial Machine Learning" - Marcos Lopez de Prado

  - id: news-event-technical-conflict
    severity: MEDIUM
    title: Technical Analysis Fails at News Events
    description: Charts don't predict FOMC, earnings, or black swans
    symptoms:
      - "Perfect setup" destroyed by news
      - Large gap moves invalidate analysis
      - Stop losses gapped through
    detection_pattern: "FOMC|earnings|news.*event|gap"
    solution: |
      News Event Protocol:

      High-Impact Events:
      - FOMC (8x/year)
      - NFP (monthly)
      - CPI/PPI (monthly)
      - Earnings (quarterly)
      - Unexpected: War, pandemic, political

      Rules:
      1. No new positions 24-48h before major events
         - Technical analysis = probability
         - News = binary unpredictable outcome

      2. Reduce position size if holding through
         - Max 50% normal size
         - Use options for defined risk

      3. Let dust settle after news
         - Wait 1-2 hours after release
         - Let algorithms stop firing
         - Then analyze new structure

      4. Use news as invalidation, not signal
         - If bullish setup + bearish news = wait
         - Don't fight narrative even if chart says buy
    references:
      - Risk management best practices

  - id: pattern-morphing
    severity: MEDIUM
    title: Patterns Transform into Different Patterns
    description: That "bull flag" might become a "descending channel" if it fails
    symptoms:
      - Holding losing trades hoping pattern completes
      - Rationalizing why pattern is still valid
      - Pattern changes name 3 times before completion
    detection_pattern: "still.*valid|pattern.*developing"
    solution: |
      Pattern Evolution Reality:

      Bull flag → Descending channel → Bearish breakdown
      Cup & handle → Failed breakout → M top
      H&S → Failed neckline → Continuation

      Solution: Pre-Define Invalidation

      Before Entry:
      - "This is a bull flag"
      - "Invalid if: closes below $X"
      - "Valid if: breaks above $Y with volume"

      After Entry:
      - Pattern invalidated? Exit. Don't rename.
      - Don't let bull flag become "accumulation"
      - Don't let M top become "complex bottom"

      Rule: If you have to rename pattern to stay in trade,
      you're rationalizing a loss. Exit.
    references:
      - Common pattern failure analysis

  - id: indicator-combo-complexity
    severity: MEDIUM
    title: Complex Indicator Systems Don't Outperform Simple Ones
    description: Adding more indicators adds complexity without adding edge
    symptoms:
      - Conflicting signals from many indicators
      - Analysis takes too long
      - "I need all 5 indicators to agree"
    detection_pattern: "5.*indicators|multiple.*confirm"
    solution: |
      Complexity Curve:

      Indicators: 1 → Edge improves
      Indicators: 2-3 → Marginally better
      Indicators: 4+ → No improvement, more confusion

      Studies show:
      - Adding indicators beyond 2-3 doesn't improve returns
      - Simple systems are more robust
      - Complex systems overfit

      Minimalist Approach:
      1. One trend indicator (MA or price structure)
      2. One momentum indicator (RSI or MACD)
      3. Volume (not an oscillator)

      That's it. Three things max.

      If your system needs 7 confirmations:
      - You're not confident in any of them
      - Simplify until you trust 1-2 things
    references:
      - Trading system research literature
