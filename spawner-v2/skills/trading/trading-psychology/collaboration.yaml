id: trading-psychology
skill: Trading Psychology
version: "1.0"

receives_context_from:
  - skill: risk-management-trading
    receives:
      - Position sizing rules
      - Drawdown thresholds
      - Risk parameters
    provides:
      - Emotional readiness assessment
      - Rule adherence analysis
      - Psychological capacity to take risk

  - skill: quantitative-research
    receives:
      - Strategy statistics
      - Expected win rate
      - Drawdown expectations
    provides:
      - Psychological preparation for drawdowns
      - Realistic expectation setting
      - Variance tolerance assessment

  - skill: technical-analysis
    receives:
      - Entry/exit rules
      - Signal criteria
      - Pattern definitions
    provides:
      - Discipline framework for signals
      - Emotional filter assessment
      - Decision quality analysis

  - skill: sentiment-analysis-trading
    receives:
      - Crowd sentiment data
      - Fear/greed indicators
      - Market psychology context
    provides:
      - Personal emotional state assessment
      - Crowd psychology interpretation
      - Contrarian readiness

delegation_triggers:
  - pattern: "strategy|edge|backtest|statistics"
    delegate_to: quantitative-research
    context: "Need objective data to counter emotional bias"

  - pattern: "risk|size|drawdown|limit"
    delegate_to: risk-management-trading
    context: "Implement systematic risk management"

  - pattern: "entry|exit|signal|pattern"
    delegate_to: technical-analysis
    context: "Define objective entry/exit criteria"

  - pattern: "sentiment|crowd|fear|market.*emotion"
    delegate_to: sentiment-analysis-trading
    context: "Analyze crowd psychology"

common_combinations:
  - name: Psychological Trading System
    skills:
      - trading-psychology
      - risk-management-trading
      - technical-analysis
    workflow: |
      1. Emotional state assessment (trading-psychology)
      2. Technical signal identification (technical-analysis)
      3. Risk-based position sizing (risk-management-trading)
      4. Post-trade journaling (trading-psychology)

  - name: Discipline Framework
    skills:
      - trading-psychology
      - quantitative-research
      - risk-management-trading
    workflow: |
      1. Set realistic expectations from backtests (quantitative-research)
      2. Define maximum tolerable drawdowns (risk-management-trading)
      3. Build psychological tolerance (trading-psychology)

  - name: Contrarian Trading
    skills:
      - trading-psychology
      - sentiment-analysis-trading
      - technical-analysis
    workflow: |
      1. Identify extreme sentiment (sentiment-analysis-trading)
      2. Confirm with technical setup (technical-analysis)
      3. Manage contrarian position psychology (trading-psychology)

cross_domain_insights:
  - domain: Clinical Psychology
    insight: Cognitive behavioral techniques change thought patterns
    application: Use CBT techniques to manage trading emotions

  - domain: Sports Psychology
    insight: Pre-performance routines enhance consistency
    application: Develop pre-trade and post-trade routines

  - domain: Behavioral Economics
    insight: We are predictably irrational
    application: Build systems that account for biases

  - domain: Mindfulness Research
    insight: Present-moment awareness reduces reactive behavior
    application: Practice mindfulness for trading clarity

  - domain: Addiction Medicine
    insight: Variable rewards are most addictive
    application: Monitor for gambling-like trading patterns

ecosystem_alternatives:
  journaling_tools:
    - name: Tradervue
      when: Automated import, detailed analytics
      tradeoff: Monthly cost
    - name: Edgewonk
      when: Psychology-focused, detailed tracking
      tradeoff: Steeper learning curve
    - name: Spreadsheet
      when: Free, customizable
      tradeoff: Manual entry, no analytics

  psychology_resources:
    - name: Trading in the Zone (Book)
      when: Classic, fundamental concepts
      tradeoff: Conceptual, not practical
    - name: Trading Psychology 2.0 (Book)
      when: Evidence-based, practical
      tradeoff: Dense, requires time
    - name: Therapy/Coaching
      when: Personalized, accountable
      tradeoff: Expensive, time commitment

  community_support:
    - name: Trading Forums
      when: Free, diverse perspectives
      tradeoff: Low quality, noise
    - name: Trading Groups
      when: Accountability, shared learning
      tradeoff: Groupthink risk
    - name: Solo Trading
      when: Independence, no influence
      tradeoff: No accountability

feedback_loops:
  - from: risk-management-trading
    incorporates:
      - Drawdown experiences
      - Position sizing outcomes
      - Rule adherence data
    into: Psychological tolerance adjustment

  - from: quantitative-research
    incorporates:
      - Strategy performance data
      - Variance experiences
      - Losing streak statistics
    into: Expectation calibration

  - from: technical-analysis
    incorporates:
      - Signal quality outcomes
      - Entry/exit discipline
      - Pattern recognition accuracy
    into: Decision process improvement

prerequisites:
  required_knowledge:
    - Self-awareness
    - Basic trading knowledge
    - Willingness to be honest
    - Commitment to improvement

  recommended_tools:
    - Trade journal (paper or digital)
    - Emotion tracking app
    - Timer for breaks
    - Accountability partner

  environment_setup: |
    # Python trading psychology tools
    pip install pandas numpy matplotlib

    # Simple trade journal structure
    from dataclasses import dataclass
    from datetime import datetime
    import json

    @dataclass
    class TradeEntry:
        # Pre-trade
        date: datetime
        emotional_state: int  # 1-10
        setup_quality: int  # 1-10
        thesis: str

        # Trade
        symbol: str
        entry: float
        stop: float
        target: float
        size: float

        # Post-trade
        exit: float = 0.0
        pnl: float = 0.0
        followed_plan: bool = True
        lesson: str = ""

    class TradeJournal:
        def __init__(self, filepath="journal.json"):
            self.filepath = filepath
            self.entries = []

        def add_entry(self, entry: TradeEntry):
            self.entries.append(entry.__dict__)
            self.save()

        def save(self):
            with open(self.filepath, 'w') as f:
                json.dump(self.entries, f, default=str, indent=2)

        def weekly_review(self):
            if not self.entries:
                return "No entries"

            wins = sum(1 for e in self.entries if e['pnl'] > 0)
            followed = sum(1 for e in self.entries if e['followed_plan'])

            return {
                'total_trades': len(self.entries),
                'win_rate': f"{wins/len(self.entries):.0%}",
                'plan_adherence': f"{followed/len(self.entries):.0%}",
                'avg_emotional_state': sum(e['emotional_state'] for e in self.entries) / len(self.entries)
            }

    # Usage
    journal = TradeJournal()
    print("Journal ready. Use journal.add_entry() to log trades.")
