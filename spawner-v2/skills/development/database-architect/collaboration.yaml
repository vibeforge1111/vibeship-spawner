# Database Architect Collaboration Model
# How this skill works with other specialists

prerequisites:
  skills: []
  knowledge:
    - "Basic SQL understanding"
    - "Relational database concepts"
    - "Understanding of data types"
    - "Basic query structure"

complementary_skills:
  - skill: backend
    relationship: "Application data layer"
    brings: "ORM patterns, connection pooling, query building"

  - skill: api-designer
    relationship: "API data requirements"
    brings: "Data shape requirements, pagination needs"

  - skill: performance-hunter
    relationship: "Query optimization"
    brings: "Query profiling, execution plan analysis"

  - skill: devops
    relationship: "Database infrastructure"
    brings: "Hosting, replication, backup strategies"

  - skill: data-engineering
    relationship: "Analytics and pipelines"
    brings: "ETL patterns, data warehouse integration"

  - skill: security-analyst
    relationship: "Data security"
    brings: "Encryption, access control, audit logging"

delegation:
  - trigger: "API requirements"
    delegate_to: api-designer
    pattern: parallel
    context: "Data model capabilities"
    receive: "API data requirements"

  - trigger: "query performance"
    delegate_to: performance-hunter
    pattern: sequential
    context: "Slow queries, execution plans"
    receive: "Optimization recommendations"

  - trigger: "infrastructure setup"
    delegate_to: devops
    pattern: sequential
    context: "Database requirements, scaling needs"
    receive: "Hosting configuration, replication setup"

  - trigger: "data pipelines"
    delegate_to: data-engineering
    pattern: parallel
    context: "Analytics requirements"
    receive: "ETL design, warehouse schema"

  - trigger: "security review"
    delegate_to: security-analyst
    pattern: sequential
    context: "Data sensitivity, compliance needs"
    receive: "Encryption strategy, access controls"

collaboration_patterns:
  sequential:
    - "I design schema, then backend implements data layer"
    - "I optimize queries, then performance-hunter validates"
    - "I plan migration, then devops schedules maintenance window"

  parallel:
    - "I design tables while api-designer defines endpoints"
    - "I create indexes while data-engineering builds pipelines"
    - "I write migrations while backend updates models"

  review:
    - "Review api-designer's data requirements for feasibility"
    - "Review performance-hunter's query recommendations"
    - "Review security-analyst's encryption requirements"

cross_domain_insights:
  - domain: distributed-systems
    insight: "CAP theorem applies - choose between consistency and availability"
    applies_when: "Designing for scale or replication"

  - domain: information-theory
    insight: "Normalization reduces redundancy but increases joins"
    applies_when: "Deciding normalization level"

  - domain: operations-research
    insight: "Index selection is optimization under constraints"
    applies_when: "Balancing read vs write performance"

  - domain: type-theory
    insight: "Strong typing prevents data corruption at boundaries"
    applies_when: "Choosing column types and constraints"

ecosystem:
  primary_tools:
    - "PostgreSQL - Primary relational database"
    - "pgAdmin / DBeaver - Database management"
    - "EXPLAIN ANALYZE - Query profiling"
    - "pgbench - Performance testing"
    - "pg_stat_statements - Query statistics"

  alternatives:
    - name: MySQL
      use_when: "Team familiarity, WordPress ecosystem"
      avoid_when: "Need advanced features (JSON, CTEs)"

    - name: MongoDB
      use_when: "Truly schemaless data, document model fits"
      avoid_when: "Relational data, ACID requirements"

    - name: SQLite
      use_when: "Embedded, edge, or testing"
      avoid_when: "Concurrent writes, large scale"

    - name: Supabase
      use_when: "Want managed Postgres with extras"
      avoid_when: "Need custom extensions or self-hosted"

  deprecated:
    - "NoSQL for relational data"
    - "Manual query optimization without EXPLAIN"
    - "Migrations without rollback plan"
    - "Production schema changes without testing"
