id: logging-strategies-collaboration
skill: logging-strategies
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: backend
    context: "Backend needs logging setup"
    receives:
      - "Application structure"
      - "Framework choice"
      - "Error handling patterns"
    provides: "Structured logging configuration with correlation IDs"

  - skill: frontend
    context: "Frontend needs client-side logging"
    receives:
      - "Framework choice"
      - "Error boundary patterns"
      - "User interaction tracking needs"
    provides: "Client-side logging with error reporting"

  - skill: observability-sre
    context: "Observability needs log integration"
    receives:
      - "Monitoring requirements"
      - "Alerting rules"
      - "SLO definitions"
    provides: "Log format and aggregation configuration"

  - skill: security-hardening
    context: "Security needs audit logging"
    receives:
      - "Audit requirements"
      - "Compliance needs"
      - "Sensitive data list"
    provides: "Audit log patterns with proper redaction"

  - skill: ci-cd-pipeline
    context: "Pipeline needs build and deploy logging"
    receives:
      - "Build process"
      - "Deployment stages"
      - "Artifact handling"
    provides: "CI/CD logging configuration"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "monitoring|observability|alerting"
    delegate_to: observability-sre
    pattern: parallel
    context: "Logs need monitoring integration"
    handoff_data:
      - "Log format"
      - "Log aggregation service"
      - "Alert-worthy log patterns"
    receive: "Monitoring dashboards and alerts"

  - trigger: "security|audit|compliance"
    delegate_to: security-hardening
    pattern: parallel
    context: "Logs need security review"
    handoff_data:
      - "Log samples"
      - "Redaction configuration"
      - "Audit requirements"
    receive: "Security-approved logging patterns"

  - trigger: "backend|api|service"
    delegate_to: backend
    pattern: sequential
    context: "Need backend implementation for logging"
    handoff_data:
      - "Logging requirements"
      - "Correlation ID strategy"
      - "Error handling needs"
    receive: "Backend code with logging integration"

  - trigger: "performance|throughput|latency"
    delegate_to: performance-optimization
    pattern: parallel
    context: "Logging impacting performance"
    handoff_data:
      - "Current log volume"
      - "Logging hot paths"
      - "Performance requirements"
    receive: "Optimized logging configuration"

  - trigger: "tracing|distributed|microservices"
    delegate_to: observability-sre
    pattern: parallel
    context: "Need distributed tracing beyond logging"
    handoff_data:
      - "Service architecture"
      - "Current correlation strategy"
      - "Trace requirements"
    receive: "Distributed tracing setup (Jaeger, Zipkin, etc.)"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: observability-sre
      signal: "Log query performance issues"
      action: "Optimize log structure, add indexes, reduce volume"

    - skill: security-hardening
      signal: "Sensitive data found in logs"
      action: "Add redaction rules, review log statements"

    - skill: performance-optimization
      signal: "Logging causing latency"
      action: "Move to async logging, reduce log volume, sample"

    - skill: backend
      signal: "Debugging difficult with current logs"
      action: "Add context, improve correlation, adjust levels"

  sends_feedback_to:
    - skill: backend
      signal: "Missing context in logs"
      action: "Add correlation IDs, include more context"

    - skill: security-hardening
      signal: "Audit logging incomplete"
      action: "Add missing audit events, verify redaction"

    - skill: observability-sre
      signal: "Log format incompatible with monitoring"
      action: "Adjust log format, add required fields"

    - skill: performance-optimization
      signal: "Log volume impacting storage"
      action: "Implement sampling, adjust retention"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Site Reliability Engineering
    insight: |
      SREs know logs are first line of incident response:
      - Mean time to detect depends on log quality
      - Correlation IDs cut debugging time by 10x
      - Structured logs enable automated alerting
      - Missing logs = flying blind during outages
      Good logs are good reliability.
    applies_when: "Setting up production logging"

  - domain: Security Engineering
    insight: |
      Security engineers see logs as forensic evidence:
      - Logs are audit trail for compliance
      - Leaked secrets in logs are breaches
      - Tamper-proof logs are legal requirement
      - Retention policies are compliance requirements
      Logs are security artifacts.
    applies_when: "Implementing audit logging"

  - domain: DevOps Engineering
    insight: |
      DevOps engineers manage log infrastructure:
      - Log aggregation costs scale with volume
      - Retention is storage cost
      - Structured logs reduce query costs
      - Sampling reduces costs without losing signal
      Logging is an operational expense.
    applies_when: "Optimizing log infrastructure"

  - domain: Software Architecture
    insight: |
      Architects understand logging as cross-cutting concern:
      - Correlation IDs must span all services
      - Log format must be consistent across stack
      - Context propagation is architectural decision
      - Centralized logging is infrastructure requirement
      Logging is an architectural pattern.
    applies_when: "Designing distributed systems"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Full Observability Stack
    skills:
      - logging-strategies
      - observability-sre
      - performance-optimization
    workflow: |
      1. Set up structured logging (logging-strategies)
      2. Configure log aggregation (observability-sre)
      3. Add metrics and tracing (observability-sre)
      4. Optimize for performance (performance-optimization)
      5. Create dashboards and alerts

  - name: Secure Production Logging
    skills:
      - logging-strategies
      - security-hardening
      - observability-sre
    workflow: |
      1. Set up structured logging (logging-strategies)
      2. Configure redaction (security-hardening)
      3. Add audit logging (security-hardening)
      4. Set up monitoring (observability-sre)
      5. Verify compliance requirements

  - name: Microservices Logging
    skills:
      - logging-strategies
      - backend
      - observability-sre
    workflow: |
      1. Design correlation ID strategy (logging-strategies)
      2. Implement in all services (backend)
      3. Configure distributed tracing (observability-sre)
      4. Set up log aggregation (observability-sre)
      5. Create service dashboards

  - name: High-Performance Logging
    skills:
      - logging-strategies
      - performance-optimization
      - backend
    workflow: |
      1. Benchmark current logging impact (performance-optimization)
      2. Configure async logging (logging-strategies)
      3. Implement sampling (logging-strategies)
      4. Optimize hot paths (backend)
      5. Verify performance improvement

# ============================================================================
# ECOSYSTEM
# ============================================================================
ecosystem:
  primary_tools:
    - "Pino - Fast structured logging for Node.js"
    - "Winston - Flexible logging for Node.js"
    - "Bunyan - JSON logging for Node.js"
    - "Logrus - Structured logging for Go"
    - "Log4j2 - Logging for Java"
    - "Serilog - Structured logging for .NET"

  alternatives:
    - name: Pino
      use_when: "Node.js, need high performance, JSON logging"
      avoid_when: "Need complex formatting, team prefers Winston"

    - name: Winston
      use_when: "Node.js, need multiple transports, complex formatting"
      avoid_when: "Need maximum performance, simple JSON logging"

    - name: Bunyan
      use_when: "Node.js, need bunyan CLI for log viewing"
      avoid_when: "Need active maintenance, pino is faster"

    - name: Logrus
      use_when: "Go, need structured logging with hooks"
      avoid_when: "Need maximum performance (use zerolog)"

    - name: Zerolog
      use_when: "Go, need maximum performance"
      avoid_when: "Need complex hooks, prefer logrus API"

  aggregation_services:
    - name: DataDog
      use_when: "Full observability platform, APM integration"
      cost: "Per GB ingested, can be expensive"

    - name: Splunk
      use_when: "Enterprise, security focus, complex queries"
      cost: "Per GB/day, enterprise pricing"

    - name: Elastic/ELK
      use_when: "Self-hosted, full-text search, visualization"
      cost: "Free self-hosted, managed options available"

    - name: Loki/Grafana
      use_when: "Prometheus users, cost-conscious, simple queries"
      cost: "Free self-hosted, very cost-effective"

    - name: CloudWatch Logs
      use_when: "AWS-native, Lambda/ECS integration"
      cost: "Per GB ingested + stored"

    - name: Axiom
      use_when: "Modern alternative, good pricing, fast"
      cost: "Per GB ingested, competitive pricing"

  tracing_tools:
    - name: OpenTelemetry
      use_when: "Standard, vendor-neutral, future-proof"

    - name: Jaeger
      use_when: "Self-hosted, Kubernetes-native"

    - name: Zipkin
      use_when: "Simple, widely supported"

    - name: AWS X-Ray
      use_when: "AWS-native, Lambda/ECS integration"

    - name: DataDog APM
      use_when: "Full observability platform"

