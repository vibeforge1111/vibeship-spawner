id: analytics-architecture-collaboration
skill: analytics-architecture
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: product-management
    context: "Product needs analytics strategy"
    receives:
      - "Business questions"
      - "Success metrics"
      - "Feature goals"
    provides: "Analytics architecture and event schema"

  - skill: marketing
    context: "Marketing needs tracking implementation"
    receives:
      - "Campaign tracking needs"
      - "Attribution requirements"
      - "Conversion goals"
    provides: "Marketing analytics implementation"

  - skill: growth-strategy
    context: "Growth needs measurement"
    receives:
      - "Growth metrics"
      - "Experiment needs"
      - "Funnel definitions"
    provides: "Analytics for growth experiments"

  - skill: backend
    context: "Backend needs event tracking"
    receives:
      - "API events"
      - "Server-side tracking needs"
      - "Data requirements"
    provides: "Server-side analytics patterns"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "frontend|client|tracking implementation"
    delegate_to: frontend
    pattern: parallel
    context: "Analytics needs frontend implementation"
    handoff_data:
      - "Event schema"
      - "Tracking points"
      - "SDK integration"
    receive: "Frontend tracking"

  - trigger: "backend|server|api events"
    delegate_to: backend
    pattern: parallel
    context: "Analytics needs backend implementation"
    handoff_data:
      - "Event schema"
      - "Server events"
      - "Data pipeline"
    receive: "Backend tracking"

  - trigger: "privacy|gdpr|consent"
    delegate_to: security
    pattern: sequential
    context: "Analytics needs privacy review"
    handoff_data:
      - "Data collected"
      - "Storage location"
      - "Retention policy"
    receive: "Privacy requirements"

  - trigger: "dashboard|visualization|reporting"
    delegate_to: product-management
    pattern: parallel
    context: "Analytics needs visualization"
    handoff_data:
      - "Available data"
      - "Metrics definitions"
      - "Export formats"
    receive: "Dashboard requirements"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: product-management
      signal: "Data gaps or questions"
      action: "Add new tracking points"

    - skill: marketing
      signal: "Attribution issues"
      action: "Improve tracking accuracy"

    - skill: growth-strategy
      signal: "Experiment results"
      action: "Refine analytics approach"

  sends_feedback_to:
    - skill: frontend
      signal: "Tracking issues"
      action: "Fix event implementations"

    - skill: backend
      signal: "Data pipeline issues"
      action: "Fix server-side tracking"

    - skill: product-management
      signal: "Analytics insights"
      action: "Inform product decisions"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Scientific Method
    insight: |
      Scientists know measurement:
      - Measurement affects behavior
      - Control groups are essential
      - Correlation is not causation
      - Sample size matters
      - Reproducibility is key
      Analytics is applied science.
    applies_when: "Designing experiments and metrics"

  - domain: Epidemiology
    insight: |
      Epidemiologists know tracking:
      - Cohort analysis reveals patterns
      - Attribution is complex
      - Lead time matters
      - Selection bias is real
      User analytics follows epidemiology patterns.
    applies_when: "Building cohort and retention analysis"

  - domain: Accounting
    insight: |
      Accountants know numbers:
      - Reconciliation catches errors
      - Audit trails are essential
      - Definitions must be precise
      - Timeliness matters
      Analytics needs accounting rigor.
    applies_when: "Building reliable metrics"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Product Analytics Setup
    skills:
      - analytics-architecture
      - frontend
      - backend
      - product-management
    workflow: |
      1. Event schema design (analytics-architecture)
      2. Frontend implementation (frontend)
      3. Backend implementation (backend)
      4. Dashboard setup (analytics-architecture)
      5. Team training (product-management)

  - name: Experimentation Platform
    skills:
      - analytics-architecture
      - growth-strategy
      - frontend
      - backend
    workflow: |
      1. Experiment framework (analytics-architecture)
      2. Feature flag integration (backend)
      3. Client-side assignment (frontend)
      4. Analysis pipeline (analytics-architecture)
