id: codebase-optimization-collaboration
skill: codebase-optimization
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: frontend
    context: "Frontend needs performance optimization"
    receives:
      - "Performance metrics"
      - "Bundle analysis"
      - "Render profiles"
    provides: "Optimization strategy and implementation"

  - skill: backend
    context: "Backend needs performance optimization"
    receives:
      - "Query profiles"
      - "API latency data"
      - "Resource usage"
    provides: "Backend optimization plan"

  - skill: code-review
    context: "Code review found optimization opportunity"
    receives:
      - "Performance concerns"
      - "Code complexity"
      - "Refactoring scope"
    provides: "Optimization recommendations"

  - skill: devops
    context: "Infrastructure showing performance issues"
    receives:
      - "Monitoring data"
      - "Resource bottlenecks"
      - "Scaling patterns"
    provides: "Application-level optimizations"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "infrastructure|scaling|resources"
    delegate_to: devops
    pattern: parallel
    context: "Optimization needs infrastructure support"
    handoff_data:
      - "Resource requirements"
      - "Scaling recommendations"
      - "Caching needs"
    receive: "Infrastructure improvements"

  - trigger: "test|verify|regression"
    delegate_to: qa-engineering
    pattern: sequential
    context: "Optimization needs validation"
    handoff_data:
      - "Changed components"
      - "Performance benchmarks"
      - "Regression risks"
    receive: "Test coverage"

  - trigger: "frontend component|bundle|render"
    delegate_to: frontend
    pattern: parallel
    context: "Frontend optimization implementation"
    handoff_data:
      - "Optimization strategy"
      - "Target metrics"
      - "Implementation guidance"
    receive: "Optimized frontend"

  - trigger: "query|database|api"
    delegate_to: backend
    pattern: parallel
    context: "Backend optimization implementation"
    handoff_data:
      - "Optimization strategy"
      - "Query improvements"
      - "Caching strategy"
    receive: "Optimized backend"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: devops
      signal: "Performance monitoring data"
      action: "Identify optimization targets"

    - skill: qa-engineering
      signal: "Performance test results"
      action: "Validate optimizations"

    - skill: code-review
      signal: "Technical debt concerns"
      action: "Prioritize refactoring"

  sends_feedback_to:
    - skill: frontend
      signal: "Performance patterns to follow"
      action: "Improve frontend code"

    - skill: backend
      signal: "Query optimization patterns"
      action: "Improve backend code"

    - skill: code-review
      signal: "Performance anti-patterns"
      action: "Update review standards"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Mechanical Engineering
    insight: |
      Engineers know efficiency:
      - Friction is the enemy
      - Simplify mechanisms
      - Reduce moving parts
      - Maintenance matters
      - Measure, don't guess
      Code optimization is applied engineering.
    applies_when: "Reducing complexity and overhead"

  - domain: Lean Manufacturing
    insight: |
      Lean knows waste:
      - Eliminate muda (waste)
      - Value stream mapping
      - Just-in-time delivery
      - Continuous improvement
      - Respect for people
      Dead code is inventory waste.
    applies_when: "Removing unused code and features"

  - domain: Architecture
    insight: |
      Architects know structure:
      - Form follows function
      - Load-bearing elements
      - Modularity enables change
      - Beauty in simplicity
      Code architecture follows similar principles.
    applies_when: "Refactoring system architecture"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Performance Sprint
    skills:
      - codebase-optimization
      - frontend
      - backend
      - devops
    workflow: |
      1. Profiling and analysis (codebase-optimization)
      2. Frontend optimizations (frontend)
      3. Backend optimizations (backend)
      4. Infrastructure tuning (devops)
      5. Verification (codebase-optimization)

  - name: Technical Debt Reduction
    skills:
      - codebase-optimization
      - code-review
      - qa-engineering
    workflow: |
      1. Debt inventory (codebase-optimization)
      2. Prioritization (codebase-optimization)
      3. Refactoring (codebase-optimization)
      4. Review (code-review)
      5. Testing (qa-engineering)
