id: security-collaboration
skill: security
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: backend
    context: "Backend implementing security features"
    receives:
      - "Auth requirements"
      - "Data protection needs"
      - "API security concerns"
    provides: "Secure coding patterns"

  - skill: frontend
    context: "Frontend needs security guidance"
    receives:
      - "Client-side security"
      - "XSS prevention"
      - "CSRF protection"
    provides: "Frontend security patterns"

  - skill: code-review
    context: "Code review needs security expertise"
    receives:
      - "Security-sensitive code"
      - "Auth implementations"
      - "Input handling"
    provides: "Security review feedback"

  - skill: product-management
    context: "Feature has security implications"
    receives:
      - "Feature requirements"
      - "User data handling"
      - "Compliance needs"
    provides: "Security requirements"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "infrastructure|network|firewall"
    delegate_to: devops
    pattern: sequential
    context: "Security needs infrastructure work"
    handoff_data:
      - "Security requirements"
      - "Network policies"
      - "Access controls"
    receive: "Infrastructure security"

  - trigger: "penetration|audit|assessment"
    delegate_to: cybersecurity
    pattern: sequential
    context: "Need security testing"
    handoff_data:
      - "Scope"
      - "Assets"
      - "Concerns"
    receive: "Security assessment"

  - trigger: "implement|code|fix"
    delegate_to: backend
    pattern: sequential
    context: "Security fix needs implementation"
    handoff_data:
      - "Security requirement"
      - "Implementation pattern"
      - "Test criteria"
    receive: "Secure implementation"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: cybersecurity
      signal: "Vulnerabilities found in audit"
      action: "Update security patterns"

    - skill: backend
      signal: "Implementation challenges"
      action: "Adjust recommendations"

    - skill: devops
      signal: "Security incidents"
      action: "Strengthen defenses"

  sends_feedback_to:
    - skill: backend
      signal: "Security patterns to follow"
      action: "Improve secure coding"

    - skill: frontend
      signal: "Client-side security rules"
      action: "Improve input handling"

    - skill: code-review
      signal: "Security checklist updates"
      action: "Enforce in reviews"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Locksmithing
    insight: |
      Locksmiths know access:
      - Locks only delay
      - Master keys are risky
      - Physical bypass exists
      - Layers slow attackers
      Digital locks follow physical principles.
    applies_when: "Designing authentication"

  - domain: Banking
    insight: |
      Banks know value:
      - Separation of duties
      - Audit everything
      - Time delays prevent fraud
      - Insurance for residual risk
      Protecting data like protecting money.
    applies_when: "Handling sensitive data"

  - domain: Immunology
    insight: |
      Immune systems know defense:
      - Multiple recognition layers
      - Rapid response to threats
      - Memory improves future response
      - Self vs non-self distinction
      Application security is digital immunity.
    applies_when: "Building defense systems"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Secure Feature Development
    skills:
      - security
      - backend
      - frontend
      - code-review
    workflow: |
      1. Threat modeling (security)
      2. Secure design (security)
      3. Implementation (backend/frontend)
      4. Security review (security + code-review)

  - name: Authentication Implementation
    skills:
      - security
      - backend
      - frontend
    workflow: |
      1. Auth requirements (security)
      2. Backend implementation (backend)
      3. Frontend integration (frontend)
      4. Security verification (security)
