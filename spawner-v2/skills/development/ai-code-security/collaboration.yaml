id: ai-code-security-collaboration
skill: ai-code-security
version: 1.0.0

receives_from:
  - skill: code-review
    context: "AI-generated code needs security review"
    receives:
      - "Code to review"
      - "AI model used"
      - "Context of generation"
    provides: "Security vulnerabilities and fixes"

  - skill: mcp-server-development
    context: "MCP tools generate code that needs security validation"
    receives:
      - "Tool-generated code"
      - "Execution context"
    provides: "Security validation results"

  - skill: llm-game-development
    context: "Game AI generates content needing security checks"
    receives:
      - "Generated game content"
      - "Execution environment"
    provides: "Security assessment for game AI outputs"

delegation_triggers:
  - trigger: "prompt injection|jailbreak"
    delegate_to: prompt-injection-defense
    pattern: sequential
    context: "Need specialized prompt injection defense"

  - trigger: "security audit|penetration test|pentest"
    delegate_to: llm-security-audit
    pattern: sequential
    context: "Need comprehensive security assessment"

  - trigger: "mcp tool security|tool permissions"
    delegate_to: mcp-security
    pattern: sequential
    context: "Need MCP-specific security patterns"

feedback_loops:
  receives_feedback_from:
    - skill: llm-security-audit
      signal: "Common vulnerability patterns found"
      action: "Update validation rules and detection patterns"

    - skill: prompt-injection-defense
      signal: "New injection vectors discovered"
      action: "Add output validation for new patterns"

  sends_feedback_to:
    - skill: code-review
      signal: "AI-specific vulnerability patterns"
      action: "Inform code review focus areas"

    - skill: mcp-server-development
      signal: "Common tool security issues"
      action: "Improve tool development guidelines"

cross_domain_insights:
  from_domains:
    - domain: traditional-appsec
      insight: "OWASP Top 10 still applies to AI-generated code"
      application: "Apply same validation patterns, but at higher volume"

    - domain: ml-security
      insight: "Model outputs should be treated as untrusted input"
      application: "All AI output goes through input validation pipeline"

    - domain: supply-chain-security
      insight: "AI models are dependencies with security implications"
      application: "Verify model provenance and integrity"

common_combinations:
  - name: Complete AI Security Stack
    skills:
      - ai-code-security
      - prompt-injection-defense
      - llm-security-audit
    workflow: |
      1. Implement prompt injection defenses at input layer
      2. Validate and sandbox all AI outputs
      3. Conduct regular security audits
      4. Monitor for emerging vulnerabilities

  - name: AI-Powered Development Security
    skills:
      - ai-code-security
      - code-review
      - mcp-server-development
    workflow: |
      1. Generate code with AI assistance
      2. Run automated security scans on output
      3. Human review for business logic issues
      4. Deploy with monitoring

  - name: Secure AI Agent Development
    skills:
      - ai-code-security
      - autonomous-agents
      - mcp-security
    workflow: |
      1. Design agent with least privilege
      2. Implement tool-level security controls
      3. Validate all agent-generated content
      4. Monitor agent actions in production
