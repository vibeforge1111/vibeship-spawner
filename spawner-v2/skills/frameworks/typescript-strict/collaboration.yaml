id: typescript-strict-collaboration
skill: typescript-strict
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: frontend
    context: "Frontend needs type safety"
    receives:
      - "Component requirements"
      - "API contracts"
      - "State types"
    provides: "Type definitions"

  - skill: backend
    context: "Backend needs type safety"
    receives:
      - "API schemas"
      - "Database types"
      - "Validation needs"
    provides: "Type definitions"

  - skill: react-patterns
    context: "React needs types"
    receives:
      - "Component props"
      - "Hook types"
      - "Context types"
    provides: "React type patterns"

  - skill: supabase-backend
    context: "Database needs types"
    receives:
      - "Schema"
      - "Query types"
      - "RLS types"
    provides: "Database types"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "component|react|hook"
    delegate_to: react-patterns
    pattern: parallel
    context: "Types need React context"
    handoff_data:
      - "Type definitions"
      - "Generic patterns"
      - "Utility types"
    receive: "React patterns"

  - trigger: "api|backend|server"
    delegate_to: backend
    pattern: parallel
    context: "Types need API context"
    handoff_data:
      - "Request types"
      - "Response types"
      - "Error types"
    receive: "API implementation"

  - trigger: "validation|zod|schema"
    delegate_to: backend
    pattern: parallel
    context: "Types need runtime validation"
    handoff_data:
      - "Type definitions"
      - "Validation needs"
      - "Runtime checks"
    receive: "Zod schemas"

  - trigger: "database|supabase|query"
    delegate_to: supabase-backend
    pattern: parallel
    context: "Types need database context"
    handoff_data:
      - "Query patterns"
      - "Type generation config"
      - "Schema"
    receive: "Database types"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: backend
      signal: "API changes"
      action: "Update types"

    - skill: supabase-backend
      signal: "Schema changes"
      action: "Regenerate types"

    - skill: react-patterns
      signal: "Component patterns"
      action: "Add utility types"

  sends_feedback_to:
    - skill: frontend
      signal: "Type improvements"
      action: "Adopt strict types"

    - skill: backend
      signal: "Type constraints"
      action: "Align API design"

    - skill: react-patterns
      signal: "Type patterns"
      action: "Use in components"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Type Theory
    insight: |
      Type theorists know correctness:
      - Types are proofs
      - Inference reduces annotation
      - Generics enable reuse
      - Constraints prevent bugs
      TypeScript applies type theory.
    applies_when: "Designing type systems"

  - domain: Contract Design
    insight: |
      Contract designers know interfaces:
      - Contracts are documentation
      - Versioning matters
      - Backwards compatibility
      - Clear boundaries
      Types are code contracts.
    applies_when: "Defining interfaces"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Type-Safe Stack
    skills:
      - typescript-strict
      - supabase-backend
      - nextjs-app-router
      - react-patterns
    workflow: |
      1. Database types (supabase-backend)
      2. API types (typescript-strict)
      3. Component types (react-patterns)
      4. Integration (nextjs-app-router)

  - name: API Type Contract
    skills:
      - typescript-strict
      - backend
      - frontend
    workflow: |
      1. Define API types (typescript-strict)
      2. Implement backend (backend)
      3. Consume in frontend (frontend)
