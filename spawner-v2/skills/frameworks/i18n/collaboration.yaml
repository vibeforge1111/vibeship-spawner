# Collaboration - Internationalization
version: 1.0.0
skill_id: i18n

prerequisites:
  recommended:
    - skill: nextjs-app-router
      reason: "App Router integration"
      what_to_know:
        - "Middleware"
        - "Dynamic routes"

delegation_triggers:
  - trigger: "RTL styling"
    delegate_to: tailwind-ui
    context: "RTL CSS patterns"

  - trigger: "locale SEO"
    delegate_to: nextjs-app-router
    context: "Hreflang and metadata"

provides_context_to:
  - skill: forms-validation
    provides:
      - "Translated error messages"
      - "Locale-aware validation"

collaboration_patterns:
  with_nextjs:
    when: "Next.js App Router i18n"
    approach: |
      ## next-intl Setup

      // i18n.ts
      import { getRequestConfig } from "next-intl/server";

      export default getRequestConfig(async ({ locale }) => ({
        messages: (await import("./messages/" + locale + ".json")).default,
      }));


      // middleware.ts
      import createMiddleware from "next-intl/middleware";

      export default createMiddleware({
        locales: ["en", "es", "de"],
        defaultLocale: "en",
        localePrefix: "as-needed",
      });


      // app/[locale]/layout.tsx
      import { NextIntlClientProvider } from "next-intl";
      import { getMessages } from "next-intl/server";

      export default async function Layout({ children, params }) {
        const messages = await getMessages();
        return (
          <NextIntlClientProvider messages={messages}>
            {children}
          </NextIntlClientProvider>
        );
      }

ecosystem:
  libraries:
    - name: "next-intl"
      use_when: "Next.js App Router"
    - name: "react-i18next"
      use_when: "React SPA or custom setup"
    - name: "FormatJS"
      use_when: "ICU message format"

  tools:
    - name: "Crowdin"
      use_when: "Translation management"
    - name: "Lokalise"
      use_when: "Team translation workflow"
