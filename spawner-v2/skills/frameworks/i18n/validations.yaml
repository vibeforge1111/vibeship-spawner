# Validations - Internationalization
version: 1.0.0
skill_id: i18n

validations:
  - id: hardcoded-string
    name: Hardcoded user-facing string
    severity: info
    type: regex
    pattern:
      - '<(button|h[1-6]|p|span|label)>[A-Z][a-z]+'
    message: "User-facing strings should use translations"
    fix_action: "Replace with t('key')"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: manual-date-format
    name: Manual date formatting
    severity: warning
    type: regex
    pattern:
      - 'getMonth\(\).*getDate\(\)'
      - 'toLocaleDateString\(\)'
    message: "Use Intl.DateTimeFormat for locale-aware dates"
    fix_action: "Use useFormatter() or Intl.DateTimeFormat"
    applies_to:
      - "*.tsx"
      - "*.ts"

  - id: string-concatenation
    name: String concatenation in translations
    severity: warning
    type: regex
    pattern:
      - 't\([^)]+\)\s*\+\s*'
      - '\+\s*t\([^)]+\)'
    message: "Use ICU message format instead of concatenation"
    fix_action: "Use interpolation: t('key', { var })"
    applies_to:
      - "*.tsx"
      - "*.jsx"

best_practices:
  translation_keys:
    recommendation: |
      ## Translation Key Conventions

      // Hierarchical by feature
      {
        "auth": {
          "login": {
            "title": "Sign In",
            "submit": "Log In",
            "forgotPassword": "Forgot your password?"
          }
        },
        "common": {
          "submit": "Submit",
          "cancel": "Cancel",
          "save": "Save"
        }
      }

      // Descriptive keys
      "userProfile.settings.emailNotifications"
      NOT: "btn1" or "text123"
