id: ai-ad-creative-validations
skill: ai-ad-creative
version: 1.0.0

validations:
  # Critical: Compliance
  - id: no-unsubstantiated-claims
    name: Ad copy must not make unsubstantiated claims
    severity: critical
    description: Advertising claims need evidence or disclaimers
    pattern:
      file_glob: "**/*.{ts,js,py,yaml,md}"
      match: "ad.*(guarantee|proven|will make|definitely|always works)"
      exclude: "disclaimer|typical|may|can|results vary"
    message: "Ad copy may contain unsubstantiated claims. Add disclaimer or revise."
    autofix: false

  - id: platform-specs-checked
    name: Ads must specify platform-appropriate dimensions
    severity: critical
    description: Wrong dimensions cause rejection or poor performance
    pattern:
      file_glob: "**/*.{ts,js,py}"
      match: "(create|generate).*ad.*image"
      exclude: "(1:1|4:5|9:16|16:9)|aspect|ratio|size|dimension|platform"
    message: "Ad generation without dimension specification. Add platform-specific aspect ratio."
    autofix: false

  - id: disclosure-for-ai-content
    name: AI-generated ads may require disclosure
    severity: high
    description: Some platforms require labeling AI-generated content
    pattern:
      file_glob: "**/*.{ts,js,py}"
      match: "(publish|upload|launch).*ad.*(ai|generated|synthetic)"
      exclude: "disclosure|label|ai.generated|synthetic.media"
    message: "Publishing AI-generated ad without disclosure check. Verify platform requirements."
    autofix: false

  # High: Performance
  - id: hook-in-prompt
    name: Video ad prompts should specify hook
    severity: high
    description: First 3 seconds are critical for video ads
    pattern:
      file_glob: "**/*.{ts,js,py,yaml}"
      match: "(video|ad|tiktok|reel).*prompt"
      exclude: "hook|first.*second|opening|attention|scroll.stop"
    message: "Video ad without hook specification. Define first 3 seconds strategy."
    autofix: false

  - id: cta-specified
    name: Ads should have clear call-to-action
    severity: medium
    description: Ads without CTA don't drive action
    pattern:
      file_glob: "**/*.{ts,js,py,yaml}"
      match: "ad.*(copy|text|message)"
      exclude: "CTA|call.to.action|shop.now|learn.more|sign.up|get.started"
    message: "Ad copy without CTA. Add clear call-to-action."
    autofix: false

  - id: single-variable-test
    name: A/B tests should isolate single variable
    severity: medium
    description: Multiple variable changes invalidate test results
    pattern:
      file_glob: "**/*.{ts,js,py}"
      match: "test.*variant|ab.test|split.test"
      exclude: "single.*variable|isolate|one.*change|control"
    message: "A/B test may change multiple variables. Isolate single variable for valid results."
    autofix: false

  # Medium: Best Practices
  - id: refresh-pipeline-exists
    name: Ad campaign should have refresh strategy
    severity: medium
    description: Creative fatigue requires proactive refresh
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "campaign|ad.strategy"
      exclude: "refresh|fatigue|new.*creative|variant|pipeline"
    message: "Campaign without refresh strategy. Plan for creative fatigue."
    autofix: false

  - id: testing-budget-limited
    name: New creative should have limited test budget
    severity: medium
    description: Unproven creative shouldn't get full spend
    pattern:
      file_glob: "**/*.{ts,js,py}"
      match: "launch.*ad|new.*creative.*budget"
      exclude: "test|limited|small|trial|minimum"
    message: "Launching creative without test budget limits. Start small, scale winners."
    autofix: false

  - id: brand-consistency-check
    name: Ad creative should match brand guidelines
    severity: medium
    description: Performance ads should still be on-brand
    pattern:
      file_glob: "**/*.{ts,js,py,yaml}"
      match: "(generate|create).*ad"
      exclude: "brand|style|guidelines|colors|font"
    message: "Ad generation without brand reference. Include brand guidelines in prompt."
    autofix: false

  - id: performance-tracking
    name: Ads should have conversion tracking
    severity: high
    description: Without tracking, you can't optimize
    pattern:
      file_glob: "**/*.{ts,js,py}"
      match: "launch|publish.*ad"
      exclude: "track|pixel|conversion|analytics|utm"
    message: "Launching ad without tracking reference. Ensure conversion tracking is set up."
    autofix: false

  - id: test-documentation
    name: Ad tests should be documented for learning
    severity: low
    description: Undocumented tests waste learning opportunities
    pattern:
      file_glob: "**/*.{ts,js,py}"
      match: "test.*complete|test.*result"
      exclude: "document|log|record|save.*learning"
    message: "Test completion without documentation. Record learnings for future use."
    autofix: false

  - id: platform-native-content
    name: Ads should be adapted per platform
    severity: medium
    description: Generic ads underperform vs platform-native
    pattern:
      file_glob: "**/*.{ts,js,py}"
      match: "(meta|tiktok|linkedin|youtube).*same.*creative"
      exclude: "adapt|native|platform.specific|recreate"
    message: "Using same creative across platforms. Adapt for each platform context."
    autofix: false

  - id: ugc-style-for-social
    name: Social ads should consider UGC-style
    severity: low
    description: Authentic content often outperforms polished
    pattern:
      file_glob: "**/*.{ts,js,py,yaml}"
      match: "(tiktok|instagram|facebook).*ad.*polished|professional.*ad"
      exclude: "ugc|authentic|native|casual|organic"
    message: "Social ad may be too polished. Consider UGC-style for better performance."
    autofix: false

# Pre-commit checks
pre_commit:
  - id: no-unsubstantiated-claims
  - id: platform-specs-checked
  - id: performance-tracking

# CI/CD checks
ci_checks:
  - id: no-unsubstantiated-claims
  - id: disclosure-for-ai-content
  - id: platform-specs-checked
  - id: hook-in-prompt

# Quality gates for ad campaigns
ad_campaign_checks:
  - id: hook-in-prompt
  - id: cta-specified
  - id: brand-consistency-check
  - id: refresh-pipeline-exists
  - id: single-variable-test
