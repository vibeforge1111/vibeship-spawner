# SEO Validations
# Automated checks to catch SEO anti-patterns in content and code

validations:
  - id: seo-missing-meta-title
    name: Missing or Generic Meta Title
    severity: error
    type: regex
    pattern:
      - '<title>\s*</title>'
      - '<title>Home</title>'
      - '<title>Untitled</title>'
      - '<title>Document</title>'
    message: "Missing or generic meta title. Title is the most important on-page SEO element."
    fix_action: "Add unique, descriptive title: <title>Primary Keyword - Brand | Value Proposition</title>"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"

  - id: seo-missing-meta-description
    name: Missing Meta Description
    severity: warning
    type: regex
    pattern:
      - '<head>(?!.*meta.*description).*</head>'
    message: "Missing meta description. Google uses this for search snippets. Controls your click-through rate."
    fix_action: "Add compelling meta description (150-160 chars) with target keyword and clear value prop"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"

  - id: seo-keyword-stuffing
    name: Keyword Stuffing Detected
    severity: error
    type: regex
    pattern:
      - '(\b\w{5,}\b)(?:[^.]*\1){4,}'
    message: "Same word repeated excessively. Google penalizes keyword stuffing. Write naturally."
    fix_action: "Use variations, synonyms, and natural language. If it sounds robotic, rewrite."
    applies_to:
      - "*.md"
      - "*.html"
      - "*.txt"

  - id: seo-missing-h1
    name: Missing H1 Tag
    severity: error
    type: regex
    pattern:
      - '<body>(?!.*<h1).*</body>'
    message: "Missing H1 tag. Each page needs exactly one H1 with the primary keyword."
    fix_action: "Add single H1 at top of content with primary keyword"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"

  - id: seo-multiple-h1
    name: Multiple H1 Tags
    severity: warning
    type: regex
    pattern:
      - '<h1[^>]*>.*<h1[^>]*>'
    message: "Multiple H1 tags detected. Use only one H1 per page."
    fix_action: "Keep primary H1, convert others to H2 or H3"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"

  - id: seo-img-no-alt
    name: Image Without Alt Text
    severity: error
    type: regex
    pattern:
      - '<img[^>]*(?!.*alt=)[^>]*/>'
      - "<img[^>]*alt=[\"'][\"'][^>]*/>"
    message: "Image without alt text. Bad for accessibility and misses SEO opportunity."
    fix_action: "Add descriptive alt text with relevant keywords where natural"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"
      - "*.md"

  - id: seo-thin-content
    name: Thin Content Warning
    severity: warning
    type: regex
    pattern:
      - '^.{0,300}$'
    message: "Content appears thin. Pages with less than 300 words rarely rank well."
    fix_action: "Expand with valuable content: examples, details, FAQs, related topics"
    applies_to:
      - "*.md"
      - "*.html"

  - id: seo-broken-internal-link
    name: Potentially Broken Internal Link
    severity: warning
    type: regex
    pattern:
      - 'href=["\047]/[^"\047]*\s[^"\047]*["\047]'
      - 'href=["\047]#["\047]'
    message: "Suspicious internal link pattern. Broken links hurt SEO and user experience."
    fix_action: "Verify link works. Use relative paths or proper absolute URLs."
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"
      - "*.md"

  - id: seo-no-canonical
    name: Missing Canonical URL
    severity: warning
    type: regex
    pattern:
      - '<head>(?!.*rel=["\047]canonical["\047]).*</head>'
    message: "Missing canonical URL. Duplicate content can split ranking authority."
    fix_action: "Add <link rel='canonical' href='https://yoursite.com/page' />"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"

  - id: seo-non-descriptive-link
    name: Non-Descriptive Link Text
    severity: warning
    type: regex
    pattern:
      - '>click.?here<'
      - '>read.?more<'
      - '>learn.?more<'
      - '>here<'
    message: "Non-descriptive link text. Anchor text should describe destination content."
    fix_action: "Use descriptive anchor: 'click here' â†’ 'view our pricing plans'"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"
      - "*.md"

  - id: seo-slow-image
    name: Unoptimized Image Format
    severity: warning
    type: regex
    pattern:
      - 'src=["\047][^"\047]*\.(?:bmp|tiff|gif)["\047]'
      - 'src=["\047][^"\047]*\.png["\047](?!.*loading)'
    message: "Potentially unoptimized image format. Use WebP or compressed JPEG for better performance."
    fix_action: "Convert to WebP, add loading='lazy' for below-fold images"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"

  - id: seo-no-schema
    name: Missing Structured Data
    severity: info
    type: regex
    pattern:
      - '<head>(?!.*application/ld\+json).*</head>'
    message: "No structured data found. Schema markup enables rich snippets in search results."
    fix_action: "Add JSON-LD schema: Organization, Product, FAQ, HowTo as relevant"
    applies_to:
      - "*.html"
      - "*.tsx"
      - "*.jsx"
