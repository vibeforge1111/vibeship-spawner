id: video-production-validations
skill: video-production
version: 1.0.0

validations:
  # Critical: Script and Pre-Production
  - id: script-approved
    name: Video script should be approved before production
    severity: critical
    description: Shooting without approved script causes expensive problems
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "video|shoot|production|filming"
      exclude: "script|approved|signed.off|locked"
    message: "Video production may lack approved script. Script must be locked before shooting."
    autofix: false

  - id: shot-list-exists
    name: Shot list should be documented before production
    severity: critical
    description: No shot list means forgotten shots and wasted time
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "shoot|filming|production.*day"
      exclude: "shot.*list|shots.*needed|shooting.*schedule"
    message: "Production may lack shot list. Document every shot needed before the shoot."
    autofix: false

  # High: Audio and Technical
  - id: audio-plan-defined
    name: Audio capture plan should be defined
    severity: high
    description: Bad audio destroys video regardless of visual quality
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "video|shoot|interview|talking.*head"
      exclude: "audio|lavalier|microphone|sound"
    message: "Audio plan may not be defined. Plan microphone setup before shooting."
    autofix: false

  - id: backup-recording
    name: Backup recording should be planned
    severity: high
    description: Equipment fails; backups are insurance
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "record|shoot|production"
      exclude: "backup|redundant|secondary|safety"
    message: "Backup recording may not be planned. Always have secondary audio/video capture."
    autofix: false

  - id: multi-take-planned
    name: Multiple takes should be planned
    severity: high
    description: Best performances come from options
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "record|shoot|talent|interview"
      exclude: "take|multiple|variation|option"
    message: "Multiple takes may not be planned. Record 3-5 takes minimum per setup."
    autofix: false

  # Medium: Workflow and Organization
  - id: release-forms-required
    name: Release forms should be collected
    severity: medium
    description: No release means footage can't be used
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "talent|interview|on.*camera|person"
      exclude: "release|consent|permission|waiver"
    message: "Release forms may not be addressed. Collect signed releases before filming."
    autofix: false

  - id: platform-formats-defined
    name: Delivery formats should be defined before production
    severity: medium
    description: Different platforms need different formats
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "video|social|youtube|instagram|tiktok"
      exclude: "format|aspect.*ratio|16:9|9:16|1:1"
    message: "Delivery formats may not be defined. Plan for all platform formats upfront."
    autofix: false

  - id: post-workflow-defined
    name: Post-production workflow should be defined
    severity: medium
    description: Clear workflow prevents bottlenecks
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "edit|post.*production|video.*project"
      exclude: "workflow|process|rough.*cut|approval"
    message: "Post-production workflow may not be defined. Establish edit → review → revise cycle."
    autofix: false

  # Low: Quality Assurance
  - id: storage-planned
    name: Storage and backup should be planned
    severity: low
    description: Running out of storage stops production
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "shoot|production|filming"
      exclude: "storage|cards|backup|capacity"
    message: "Storage capacity may not be planned. Calculate and prepare sufficient storage."
    autofix: false

  - id: quality-checkpoints
    name: Quality review checkpoints should be defined
    severity: low
    description: Catching issues early is cheaper than late
    pattern:
      file_glob: "**/*.{yaml,md}"
      match: "video|production|project"
      exclude: "review|checkpoint|approval|QC"
    message: "Quality checkpoints may not be defined. Establish rough cut and fine cut reviews."
    autofix: false

# Pre-commit checks
pre_commit:
  - id: script-approved
  - id: shot-list-exists
  - id: audio-plan-defined

# CI/CD checks
ci_checks:
  - id: script-approved
  - id: audio-plan-defined
  - id: release-forms-required

# Quality gates for video production
video_production_quality_gates:
  - id: script-approved
  - id: shot-list-exists
  - id: audio-plan-defined
  - id: backup-recording
  - id: multi-take-planned
  - id: release-forms-required
  - id: platform-formats-defined
  - id: post-workflow-defined

# Pre-production checklist
pre_production_checklist:
  script:
    - "Script written and complete"
    - "Stakeholder approval received (in writing)"
    - "Script locked 48+ hours before shoot"
    - "Table read completed with talent"

  planning:
    - "Shot list documented"
    - "Storyboard created for key scenes"
    - "Location scouted"
    - "Equipment list confirmed"
    - "Backup equipment planned"

  logistics:
    - "Talent confirmed and prepped"
    - "Release forms ready"
    - "Call sheet distributed"
    - "Storage capacity calculated and ready"

# Production day checklist
production_checklist:
  equipment:
    - "Cameras charged and tested"
    - "Audio equipment tested"
    - "Cards formatted and labeled"
    - "Backup equipment available"

  audio:
    - "Lavalier/boom positioned"
    - "Backup audio recording"
    - "Audio monitoring active"
    - "Room tone recorded"

  shooting:
    - "Shot list visible on set"
    - "Minimum 3 takes per setup"
    - "Takes noted with preferences"
    - "B-roll shot list covered"

# Post-production checklist
post_production_checklist:
  organization:
    - "Footage backed up to 2+ locations"
    - "Project organized by scene/day"
    - "Best takes marked"
    - "Sync audio/video verified"

  edit_workflow:
    - "Rough cut assembled"
    - "Rough cut review completed"
    - "Fine cut with audio"
    - "Picture lock confirmed"
    - "Color grade applied"
    - "Final export and QC"

