# Content Strategy Validations
# Automated checks to catch content strategy anti-patterns

validations:
  - id: content-missing-headline
    name: Missing or Weak Headline
    severity: error
    type: regex
    pattern: '^(?!#\s+.{10,})|(?i)^#\s+(untitled|draft|new post|placeholder)'
    message: "Content appears to be missing a strong headline or uses placeholder text"
    fix_action: "Add a compelling, descriptive headline that clearly communicates the content's value proposition"
    applies_to:
      - "*.md"
      - "*.html"

  - id: content-thin-content
    name: Thin Content (Less than 300 words)
    severity: warning
    type: regex
    pattern:
      - '^(?:(?:\s*\w+\s*){1,299})$'
    message: "Content appears to be thin (under 300 words), which may not provide sufficient value"
    fix_action: "Expand content with detailed information, examples, or actionable insights to reach at least 300-500 words"
    applies_to:
      - "*.md"

  - id: content-no-structure
    name: Missing Content Structure (No Subheadings)
    severity: warning
    type: regex
    pattern:
      - '^(?!.*^##\s+)'
    message: "Content lacks structural hierarchy - no H2 subheadings detected for scanability"
    fix_action: "Break content into logical sections using H2 and H3 subheadings to improve readability and SEO"
    applies_to:
      - "*.md"
      - "*.html"

  - id: content-no-internal-links
    name: Missing Internal Links
    severity: info
    type: regex
    pattern:
      - '^(?!.*\[.+\]\(.+\))'
    message: "No internal links detected - missing opportunity for content interconnection and SEO"
    fix_action: "Add 2-5 relevant internal links to related content to improve site architecture and user engagement"
    applies_to:
      - "*.md"
      - "*.html"

  - id: content-no-cta
    name: Missing Call-to-Action
    severity: warning
    type: regex
    pattern:
      - '^(?!.*(?i)(subscribe|download|learn more|get started|sign up|try|join|contact|book|register))'
    message: "No clear call-to-action detected in content"
    fix_action: "Add at least one clear CTA that guides readers to the next step in their journey"
    applies_to:
      - "*.md"
      - "*.html"

  - id: content-missing-meta-description
    name: Missing Meta Description
    severity: error
    type: regex
    pattern: "^(?!.*<meta\\s+name=[\"']description)|^(?!.*description:\\s*.{50,})"
    message: "Meta description is missing or too short for SEO optimization"
    fix_action: "Add a meta description between 150-160 characters that summarizes the content and includes target keywords"
    applies_to:
      - "*.html"
      - "*.md"

  - id: content-keyword-stuffing
    name: Potential Keyword Stuffing
    severity: warning
    type: regex
    pattern:
      - '(\b\w+\b)(?:\s+\1){3,}'
    message: "Detected repeated keywords that may indicate keyword stuffing"
    fix_action: "Use natural language and synonyms instead of repeating the same keyword multiple times in succession"
    applies_to:
      - "*.md"
      - "*.html"

  - id: content-no-images
    name: Missing Visual Content
    severity: info
    type: regex
    pattern:
      - '^(?!.*(?:<img|!\[))'
    message: "No images or visual content detected - may reduce engagement"
    fix_action: "Add relevant images, infographics, or visual elements to break up text and increase engagement"
    applies_to:
      - "*.md"
      - "*.html"

  - id: content-broken-links
    name: Potential Broken Link Patterns
    severity: warning
    type: regex
    pattern: '\[.+\]\((?:localhost|127\.0\.0\.1|example\.com|test\.com|placeholder)\)|\[.+\]\(#\)'
    message: "Detected placeholder or test links that may be broken"
    fix_action: "Replace placeholder links with actual URLs or remove them before publishing"
    applies_to:
      - "*.md"
      - "*.html"

  - id: content-no-mobile-optimization
    name: Missing Mobile Viewport Meta Tag
    severity: error
    type: regex
    pattern:
      - '^(?!.*<meta\s+name=["\']viewport)'
    message: "Missing viewport meta tag - content may not be mobile-optimized"
    fix_action: "Add <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> to the HTML head"
    applies_to:
      - "*.html"

  - id: content-excessive-length
    name: Excessively Long Paragraphs
    severity: warning
    type: regex
    pattern:
      - '(?m)^(?!#|\*|-|>|```|\|).{500,}$'
    message: "Detected paragraphs exceeding 500 characters - may reduce readability"
    fix_action: "Break long paragraphs into smaller chunks (3-4 sentences max) for better readability and scanability"
    applies_to:
      - "*.md"

  - id: content-missing-schema
    name: Missing Structured Data (Schema.org)
    severity: info
    type: regex
    pattern:
      - '^(?!.*(?:application/ld\+json|itemscope|schema\.org))'
    message: "No structured data markup detected - missing SEO enhancement opportunity"
    fix_action: "Add relevant Schema.org markup (Article, BlogPosting, etc.) to enhance search engine understanding"
    applies_to:
      - "*.html"
