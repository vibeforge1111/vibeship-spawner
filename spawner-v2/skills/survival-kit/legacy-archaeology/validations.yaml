# Legacy Archaeology Validations

validations:
  - id: no-context-removal
    name: Removing Code Without Context
    severity: high
    type: conceptual
    check: "Should understand code before removing"
    indicators:
      - "Removing unused code"
      - "Cleaning up dead code"
      - "Deleting old code"
    message: "Removing code without understanding why it exists."
    fix_action: "Git blame, find context, add logging before removing"

  - id: assumption-not-verified
    name: Unverified Assumptions
    severity: medium
    type: conceptual
    check: "Understanding should be verified by running"
    indicators:
      - "I think it does"
      - "It should"
      - "It looks like"
    message: "Assumption not verified by running code."
    fix_action: "Add test or logging to verify actual behavior"

  - id: no-documentation
    name: Learning Not Documented
    severity: medium
    type: conceptual
    check: "Discoveries should be documented"
    indicators:
      - "Now I understand"
      - "Finally figured out"
      - "This actually does"
    message: "Understanding not being documented."
    fix_action: "Write down discoveries in repo docs"

  - id: knowledge-silo
    name: Single Person Knowledge
    severity: high
    type: conceptual
    check: "Knowledge should be shared"
    indicators:
      - "Only I know"
      - "Ask Bob"
      - "She wrote it"
    message: "Knowledge siloed to one person."
    fix_action: "Document and share knowledge, create backup"

  - id: fear-driven-freeze
    name: Fear Preventing Changes
    severity: medium
    type: conceptual
    check: "Fear should be addressed, not avoided"
    indicators:
      - "Don't touch that"
      - "It's scary"
      - "We never change"
    message: "Fear preventing necessary changes."
    fix_action: "Add tests, monitoring, feature flags for safe changes"

  - id: missing-characterization
    name: Changing Without Tests
    severity: medium
    type: conceptual
    check: "Should have tests before modifying legacy code"
    indicators:
      - "Modifying untested code"
      - "No test coverage"
      - "Tests don't exist"
    message: "Changing legacy code without characterization tests."
    fix_action: "Write tests documenting current behavior first"
