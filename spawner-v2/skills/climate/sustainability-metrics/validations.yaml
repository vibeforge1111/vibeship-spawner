validations:

  - id: unsubstantiated-claim
    name: ESG Claim Without Supporting Data
    severity: error
    type: regex
    pattern:
      - "sustainable|eco-friendly|green(?!.*metric|data|evidence)"
      - "committed to|pledge(?!.*target|timeline)"
    message: "ESG claims must be backed by measurable data."
    fix_action: "Add: specific metric, timeframe, baseline, and verification status."
    applies_to:
      - "**/*.py"
      - "**/*.md"

  - id: single-materiality-only
    name: Materiality Without Impact Dimension
    severity: warning
    type: regex
    pattern:
      - "materiality.*financial(?!.*impact|society)"
      - "material.*=.*financial_score(?!.*impact)"
    message: "CSRD requires double materiality (financial AND impact)."
    fix_action: "Add: impact_score = assess_impact_on_society(topic)"
    applies_to:
      - "**/*.py"

  - id: metric-no-methodology
    name: Metric Without Methodology Documentation
    severity: warning
    type: regex
    pattern:
      - "esg_metric.*=.*(?!.*methodology|source|boundary)"
      - "report.*value(?!.*method)"
    message: "Document metric methodology for comparability and audit."
    fix_action: "Add: methodology='GRI 305-1', boundary='operational control'"
    applies_to:
      - "**/*.py"

  - id: target-no-baseline
    name: Target Without Baseline Year
    severity: warning
    type: regex
    pattern:
      - "target.*=.*percent.*reduction(?!.*baseline|base_year)"
      - "reduce.*by.*20(?!.*from|vs|versus)"
    message: "Targets must specify baseline year for meaningful comparison."
    fix_action: "Add: target='30% reduction vs 2020 baseline'"
    applies_to:
      - "**/*.py"

  - id: no-scope3-coverage
    name: GHG Reporting Without Scope 3
    severity: warning
    type: regex
    pattern:
      - "scope_?1.*scope_?2(?!.*scope_?3)"
      - "emissions.*=.*direct.*indirect(?!.*value.chain)"
    message: "Scope 3 typically 70-90% of footprint. Include for completeness."
    fix_action: "Add: scope3_emissions = calculate_value_chain_emissions()"
    applies_to:
      - "**/*.py"

  - id: tcfd-incomplete
    name: TCFD Without All Pillars
    severity: info
    type: regex
    pattern:
      - "tcfd.*governance(?!.*strategy|risk|metric)"
      - "climate_risk(?!.*scenario|financial)"
    message: "TCFD requires all four pillars: governance, strategy, risk management, metrics."
    fix_action: "Include: tcfd_disclosure = {governance, strategy, risk_mgmt, metrics_targets}"
    applies_to:
      - "**/*.py"

  - id: sdg-no-evidence
    name: SDG Alignment Without Quantification
    severity: info
    type: regex
    pattern:
      - "sdg.*contribut(?!.*measure|quantif|impact)"
      - "align.*sdg(?!.*metric|indicator)"
    message: "SDG claims should be quantified with specific indicators."
    fix_action: "Add: sdg13_contribution = {metric: 'tCO2e avoided', value: 50000}"
    applies_to:
      - "**/*.py"

  - id: offset-heavy-net-zero
    name: Net Zero Relying on Offsets
    severity: warning
    type: regex
    pattern:
      - "net.zero.*offset(?!.*residual|<10%)"
      - "carbon.neutral.*credit(?!.*reduc)"
    message: "SBTi requires 90%+ actual reduction before offsets."
    fix_action: "Add: reduction_plan = {...}; offsets_for_residual_only()"
    applies_to:
      - "**/*.py"

  - id: no-verification-flag
    name: Metric Without Verification Status
    severity: info
    type: regex
    pattern:
      - "metric.*=.*value(?!.*verified|assured|audited)"
      - "report.*emissions(?!.*assurance)"
    message: "Flag verification status for key metrics."
    fix_action: "Add: verified=True, assurance_provider='Auditor Name', standard='ISAE 3410'"
    applies_to:
      - "**/*.py"

  - id: rating-gaming
    name: Optimizing for ESG Ratings Over Impact
    severity: info
    type: regex
    pattern:
      - "msci.*score|sustainalytics.*rating(?!.*actual.*impact)"
      - "improve.*rating(?!.*performance)"
    message: "Focus on actual ESG performance, not rating optimization."
    fix_action: "Track: actual_impact alongside rating_score"
    applies_to:
      - "**/*.py"

  - id: cherry-pick-metrics
    name: Selective Metric Reporting
    severity: warning
    type: regex
    pattern:
      - "if.*positive.*report(?!.*negative)"
      - "exclude.*negative|hide.*poor"
    message: "Report all material metrics regardless of performance."
    fix_action: "Report: all_material_metrics including challenges"
    applies_to:
      - "**/*.py"

  - id: no-trend-analysis
    name: Metrics Without Historical Trend
    severity: info
    type: regex
    pattern:
      - "current_year.*only(?!.*trend|history)"
      - "report.*=.*\\{.*2023(?!.*2022|trend)"
    message: "Include historical trend for context (3-5 years)."
    fix_action: "Add: trend = [value_2019, value_2020, value_2021, value_2022, value_2023]"
    applies_to:
      - "**/*.py"
