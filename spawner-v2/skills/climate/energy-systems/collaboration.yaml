id: energy-systems-collaboration
skill: energy-systems
version: 1.0.0

receives_from:
  - skill: renewable-energy
    context: "Renewable generation integration"
    receives:
      - "Solar and wind generation profiles"
      - "Renewable capacity and location"
      - "Variability and forecast uncertainty"
    provides: "Curtailment, grid constraints, integration costs"

  - skill: climate-modeling
    context: "Climate impacts on energy system"
    receives:
      - "Temperature projections for demand"
      - "Extreme weather events"
      - "Heating/cooling degree days"
    provides: "Load scenarios, system stress events"

  - skill: carbon-accounting
    context: "Grid emissions calculation"
    receives:
      - "Emission factor requirements"
      - "Reporting boundaries"
    provides: "Generation mix, hourly emissions intensity"

  - skill: monte-carlo
    context: "Uncertainty and reliability"
    receives:
      - "Probabilistic methods"
      - "Sampling strategies"
    provides: "FOR rates, demand distributions, wind/solar variability"

delegation_triggers:
  - trigger: "solar|wind|pv|renewable|generation"
    delegate_to: renewable-energy
    context: "Renewable resource assessment"

  - trigger: "emission|carbon|ghg|scope"
    delegate_to: carbon-accounting
    context: "Emissions accounting"

  - trigger: "climate|scenario|temperature|projection"
    delegate_to: climate-modeling
    context: "Climate projections"

  - trigger: "probability|uncertainty|monte carlo|lolp"
    delegate_to: monte-carlo
    context: "Probabilistic analysis"

  - trigger: "finance|npv|lcoe|investment"
    delegate_to: quantitative-finance
    context: "Economic analysis"

feedback_loops:
  receives_feedback_from:
    - skill: renewable-energy
      signal: "Generation profiles and variability"
      action: "Update dispatch, assess curtailment"

    - skill: climate-modeling
      signal: "Demand changes from temperature"
      action: "Update load forecasts, plan capacity"

    - skill: carbon-accounting
      signal: "Emission reduction targets"
      action: "Adjust generation mix, clean energy dispatch"

  sends_feedback_to:
    - skill: renewable-energy
      signal: "Curtailment rates, grid constraints"
      action: "Inform siting and sizing decisions"

    - skill: carbon-accounting
      signal: "Hourly generation mix"
      action: "Calculate time-matched emissions"

    - skill: quantitative-finance
      signal: "Energy prices, capacity value"
      action: "Use in project valuation"

common_combinations:
  - name: Renewable Integration Study
    skills:
      - energy-systems
      - renewable-energy
      - monte-carlo
    workflow: |
      1. Model existing grid (power flow)
      2. Add renewable generation scenarios
      3. Run production cost simulation
      4. Assess curtailment and congestion
      5. Identify transmission upgrades
      6. Calculate integration costs

  - name: Resource Adequacy Assessment
    skills:
      - energy-systems
      - monte-carlo
    workflow: |
      1. Define load and resource data
      2. Model generator outages (FOR)
      3. Run Monte Carlo simulations
      4. Calculate LOLE, LOLP, EUE
      5. Determine capacity need
      6. Evaluate capacity market design

  - name: Battery Storage Valuation
    skills:
      - energy-systems
      - quantitative-finance
    workflow: |
      1. Model storage technical parameters
      2. Simulate arbitrage dispatch
      3. Stack ancillary service revenue
      4. Model capacity value
      5. Include degradation costs
      6. Calculate project NPV

  - name: Grid Decarbonization Pathway
    skills:
      - energy-systems
      - carbon-accounting
      - renewable-energy
    workflow: |
      1. Establish baseline emissions
      2. Model renewable scenarios
      3. Optimize generation mix
      4. Calculate emissions by year
      5. Assess reliability constraints
      6. Determine least-cost pathway

  - name: Demand Response Program Design
    skills:
      - energy-systems
      - quantitative-finance
    workflow: |
      1. Characterize flexible loads
      2. Model DR availability by hour
      3. Simulate DR dispatch
      4. Calculate avoided capacity costs
      5. Design incentive structure
      6. Evaluate program economics

ecosystem:
  simulation_tools:
    power_flow:
      - "pandapower - Python power flow"
      - "PyPSA - Power system analysis"
      - "MATPOWER - MATLAB power systems"
      - "PowerWorld - Commercial"
      - "PSS/E - Industry standard"

    production_cost:
      - "PLEXOS - Market simulation"
      - "Aurora - Energy market modeling"
      - "GridPath - Capacity expansion"
      - "GenX - MIT capacity planning"
      - "SWITCH - Open source planning"

    distribution:
      - "OpenDSS - Distribution analysis"
      - "GridLAB-D - Distribution simulation"
      - "CYME - Commercial distribution"

  optimization:
    - "Pyomo - Python optimization"
    - "CVXPY - Convex optimization"
    - "Gurobi - Commercial MIP"
    - "CPLEX - IBM optimization"
    - "HiGHS - Open source solver"

  data_sources:
    - "EIA 860 - Generator data"
    - "EIA 923 - Generation and fuel"
    - "FERC Form 1 - Utility financials"
    - "ISO market data (CAISO, PJM, ERCOT)"
    - "NREL ATB - Technology costs"

  standards:
    reliability:
      - "NERC TPL Standards"
      - "NERC BAL Standards"
      - "IEEE 493 - Design of Reliable Systems"

    interconnection:
      - "IEEE 1547 - DER Interconnection"
      - "FERC Order 2222 - DER markets"

    test_systems:
      - "IEEE 14-bus"
      - "IEEE 118-bus"
      - "IEEE RTS-96"
      - "WECC planning cases"

references:
  textbooks:
    - "Power System Analysis - Grainger & Stevenson"
    - "Power System Economics - Kirschen & Strbac"
    - "Convex Optimization of Power Systems - Molzahn"
    - "Renewable and Efficient Electric Power Systems - Masters"

  best_practices:
    - "Use per-unit system for power flow"
    - "Verify power balance after simulation"
    - "Include losses in economic analysis"
    - "Validate against historical operations"
    - "Check convergence and numerical stability"

  industry_resources:
    - "NERC Reliability Standards"
    - "EPRI Research Reports"
    - "IEEE Power & Energy Society"
    - "FERC Technical Conferences"
