id: physics-simulation-collaboration
skill: physics-simulation
version: 1.0.0

receives_from:
  - skill: digital-twin
    context: "Physics model for digital twin"
    receives:
      - "System parameters and geometry"
      - "Real-time sensor data for validation"
    provides: "Calibrated physics simulation"

  - skill: control-systems
    context: "Model for control simulation"
    receives:
      - "System dynamics requirements"
      - "Control interface specifications"
    provides: "Plant model for controller testing"

delegation_triggers:
  - trigger: "digital twin|real-time|sensor data"
    delegate_to: digital-twin
    context: "Need real-world integration"

  - trigger: "Monte Carlo|uncertainty|probabilistic"
    delegate_to: monte-carlo
    context: "Need uncertainty quantification"

  - trigger: "agent|multi-agent|population"
    delegate_to: agent-based-modeling
    context: "Need agent-based simulation"

feedback_loops:
  receives_feedback_from:
    - skill: digital-twin
      signal: "Simulation diverges from reality"
      action: "Recalibrate model parameters, add missing physics"

    - skill: control-systems
      signal: "Model too slow for real-time"
      action: "Reduce fidelity, use reduced-order model"

  sends_feedback_to:
    - skill: digital-twin
      signal: "Sensor data inconsistent with physics"
      action: "Check sensor calibration"

common_combinations:
  - name: Robotics Simulation
    skills:
      - physics-simulation
      - control-systems
      - ros2-robotics
    workflow: |
      1. Build robot rigid body model
      2. Add joint constraints and motors
      3. Integrate with ROS2 Gazebo
      4. Validate against real robot
      5. Use for control development

  - name: Structural Analysis
    skills:
      - physics-simulation
      - monte-carlo
    workflow: |
      1. Build FEM model
      2. Define material properties
      3. Apply loads and constraints
      4. Run Monte Carlo on material variability
      5. Compute failure probability

  - name: Fluid-Structure Interaction
    skills:
      - physics-simulation
    workflow: |
      1. Set up fluid domain (CFD)
      2. Set up structural domain (FEM)
      3. Define coupling interface
      4. Iterate between solvers
      5. Validate coupling stability

ecosystem:
  physics_engines:
    - "PyBullet - Robotics physics"
    - "MuJoCo - Contact-rich simulation"
    - "NVIDIA PhysX - Real-time physics"
    - "Box2D/Pymunk - 2D physics"

  fem_tools:
    - "FEniCS - Python FEM"
    - "deal.II - C++ FEM library"
    - "CalculiX - Open source FEA"
    - "ANSYS - Commercial FEA"

  cfd_tools:
    - "OpenFOAM - Open source CFD"
    - "PyFR - GPU CFD"
    - "SU2 - Aerodynamics"
    - "Fluent - Commercial CFD"

  molecular_dynamics:
    - "LAMMPS - General MD"
    - "GROMACS - Biomolecular"
    - "OpenMM - GPU-accelerated"

references:
  books:
    - "Computational Physics - Landau"
    - "Numerical Recipes - Press et al."
    - "Game Physics Engine Development - Millington"
