validations:

  - id: no-liability-cap
    name: Missing Liability Cap
    severity: error
    type: regex
    pattern:
      - "indemnif.*(?!limit|cap|not exceed|maximum)"
      - "liable.*(?!limit|cap|exceed)"
    message: "Indemnification or liability clause may lack cap."
    fix_action: "Add liability cap tied to contract value"
    applies_to:
      - "**/*contract*.txt"
      - "**/*agreement*.txt"

  - id: unlimited-language
    name: Unlimited Liability Language
    severity: error
    type: regex
    pattern:
      - "unlimited liability"
      - "any and all.*damages"
      - "shall be liable for.*without limit"
    message: "Contract contains unlimited liability language."
    fix_action: "Negotiate for reasonable caps"
    applies_to:
      - "**/*contract*.txt"

  - id: no-termination-convenience
    name: No Termination for Convenience
    severity: warning
    type: regex
    pattern:
      - "terminat.*(?!convenience)"
    message: "Review if termination for convenience is available."
    fix_action: "Add termination for convenience with reasonable notice"
    applies_to:
      - "**/*contract*.txt"

  - id: auto-renewal
    name: Automatic Renewal Clause
    severity: info
    type: regex
    pattern:
      - "auto.*renew"
      - "automatically.*extend"
      - "successive.*term"
    message: "Contract has auto-renewal. Note cancellation window."
    fix_action: "Calendar cancellation deadline"
    applies_to:
      - "**/*contract*.txt"

  - id: no-dpa
    name: Data Processing Without DPA
    severity: warning
    type: regex
    pattern:
      - "personal data|customer data(?!.*data processing|.*dpa|.*addendum)"
    message: "Contract involves data but may lack Data Processing Addendum."
    fix_action: "Add DPA with breach notification and security requirements"
    applies_to:
      - "**/*contract*.txt"

  - id: broad-ip-assignment
    name: Broad IP Assignment Language
    severity: warning
    type: regex
    pattern:
      - "assigns? all.*right.*title.*interest"
      - "work product.*belongs to"
    message: "Review IP assignment scope - may include background IP."
    fix_action: "Carve out background IP and define work product narrowly"
    applies_to:
      - "**/*contract*.txt"
