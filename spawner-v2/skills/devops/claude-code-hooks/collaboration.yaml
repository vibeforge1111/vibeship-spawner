id: claude-code-hooks-collaboration
skill: claude-code-hooks
version: 1.0.0

receives_from:
  - skill: claude-code-commands
    context: "Commands need lifecycle hooks"
    receives:
      - "Workflow requirements"
      - "Command execution patterns"
    provides: "Hook configuration for command workflows"

  - skill: claude-code-cicd
    context: "CI/CD needs hook enforcement"
    receives:
      - "Pipeline requirements"
      - "Quality gates needed"
    provides: "Pre-commit and pre-push hook patterns"

  - skill: testing-patterns
    context: "Tests need enforcement"
    receives:
      - "Test runner configuration"
      - "Quality thresholds"
    provides: "Test-gate hooks for commits"

  - skill: linting-formatting
    context: "Style needs auto-application"
    receives:
      - "Linter/formatter commands"
      - "File patterns to format"
    provides: "PostToolUse hooks for auto-formatting"

delegation_triggers:
  - trigger: "slash command|custom command|workflow"
    delegate_to: claude-code-commands
    pattern: sequential
    context: "Need reusable workflow commands"

  - trigger: "CI/CD|pipeline|GitHub Actions|GitLab"
    delegate_to: claude-code-cicd
    pattern: sequential
    context: "Need CI/CD integration"

  - trigger: "test strategy|testing framework"
    delegate_to: testing-patterns
    pattern: sequential
    context: "Need comprehensive testing approach"

  - trigger: "linting|formatting|code style"
    delegate_to: linting-formatting
    pattern: sequential
    context: "Need style configuration"

feedback_loops:
  receives_feedback_from:
    - skill: claude-code-cicd
      signal: "Pipeline integration requirements"
      action: "Configure hooks for CI compatibility"

    - skill: testing-patterns
      signal: "Test execution patterns"
      action: "Adjust hook timing for tests"

  sends_feedback_to:
    - skill: claude-code-commands
      signal: "Hook enforcement patterns"
      action: "Commands can rely on hook guarantees"

    - skill: claude-code-cicd
      signal: "Local enforcement status"
      action: "CI can skip checks done by hooks"

cross_domain_insights:
  from_domains:
    - domain: git-hooks
      insight: "Pre-commit hooks enforce standards"
      application: "Claude hooks are more granular than git hooks"

    - domain: event-driven-architecture
      insight: "Events trigger actions"
      application: "Hooks are events in Claude's lifecycle"

    - domain: middleware-patterns
      insight: "Middleware intercepts requests"
      application: "Hooks intercept tool calls"

common_combinations:
  - name: Complete Quality Enforcement
    skills:
      - claude-code-hooks
      - testing-patterns
      - linting-formatting
    workflow: |
      1. Configure auto-format on Write (PostToolUse)
      2. Configure test-gate on commit (PreToolUse)
      3. Configure security scan on push (PreToolUse)
      4. Add CLAUDE.md guidance explaining the gates

  - name: CI/CD Integration
    skills:
      - claude-code-hooks
      - claude-code-cicd
    workflow: |
      1. Local hooks enforce same checks as CI
      2. Marker files track local validation
      3. CI trusts hooks but verifies
      4. Headless mode uses same hook config

  - name: Enterprise Workflow
    skills:
      - claude-code-hooks
      - claude-code-commands
      - multi-agent-orchestration
    workflow: |
      1. SessionStart loads project context
      2. Custom commands for complex workflows
      3. Hooks enforce security policies
      4. Multi-agent coordination with guarantees
