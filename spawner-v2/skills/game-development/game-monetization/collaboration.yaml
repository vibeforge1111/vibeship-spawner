# Collaboration Protocol - Game Monetization
# How this skill works with other specialists

id: game-monetization
version: "1.0.0"

# Skills this specialist receives work from
receives_from:
  - skill: game-design
    description: "Core gameplay loop and progression design"
    receives:
      - "Game mechanics that need monetization integration"
      - "Progression systems and pacing"
      - "Player motivation profiles"
      - "Content cadence and update schedule"
    expects_format: |
      When handing off from game-design, provide:
      1. Core loop description (what players do repeatedly)
      2. Progression milestones and typical session length
      3. Player segments (competitive, social, collector, etc.)
      4. Planned content update frequency
    validation:
      - "Core loop must be defined before monetization layer"
      - "Session length informs energy/stamina system design"
      - "Content cadence affects battle pass pacing"

  - skill: mobile-game-dev
    description: "Platform-specific IAP implementation"
    receives:
      - "Platform capabilities and restrictions"
      - "Store guidelines and compliance requirements"
      - "Technical IAP implementation details"
      - "Platform-specific user acquisition data"
    expects_format: |
      When handing off from mobile-game-dev, provide:
      1. Target platforms (iOS, Android, both)
      2. Any platform-specific restrictions
      3. Store tier pricing requirements
      4. Subscription support status
    validation:
      - "Must know if targeting Apple Small Business Program (15% vs 30%)"
      - "Subscription availability affects monetization model"

  - skill: analytics
    description: "Player behavior and spending data"
    receives:
      - "Cohort analysis and LTV data"
      - "Conversion funnels and drop-off points"
      - "A/B test results on pricing/offers"
      - "Player segmentation models"
    expects_format: |
      When handing off from analytics, provide:
      1. Current conversion rate and ARPPU
      2. LTV by acquisition source
      3. Spending distribution (% minnow/dolphin/whale)
      4. Key drop-off points in purchase funnel
    validation:
      - "Need baseline metrics before optimization"
      - "Segmentation data enables targeted offers"

  - skill: backend
    description: "Server-side economy implementation"
    receives:
      - "Database schema for economy"
      - "API capabilities for transactions"
      - "Receipt validation implementation"
      - "Anti-cheat measures in place"
    expects_format: |
      When handing off from backend, provide:
      1. Currency storage architecture
      2. Transaction logging capabilities
      3. Receipt validation status (Apple/Google)
      4. Rate limiting on economy endpoints
    validation:
      - "Currency must be server-authoritative"
      - "All transactions must be logged for economy monitoring"

  - skill: ui-design
    description: "Store and purchase flow UX"
    receives:
      - "Current store UI mockups or implementation"
      - "Purchase flow wireframes"
      - "Platform design guidelines compliance"
      - "Accessibility requirements"
    expects_format: |
      When handing off from ui-design, provide:
      1. Store layout and navigation structure
      2. Purchase confirmation flow
      3. Price display formatting
      4. Offer/sale presentation approach
    validation:
      - "Prices must show real currency equivalent"
      - "Confirmation dialogs must be present"

# Skills this specialist provides context to
provides_context_to:
  - skill: game-design
    description: "Monetization constraints for game design"
    provides:
      - "Economy requirements (sinks needed for currency faucets)"
      - "Progression pacing constraints for F2P"
      - "Content gating recommendations"
      - "Engagement loop requirements for retention"
    handoff_format: |
      When handing off to game-design, include:
      1. Required currency sinks per session
      2. Recommended session length for monetization
      3. Natural purchase moments in gameplay
      4. Content that should vs shouldn't be gated

  - skill: mobile-game-dev
    description: "IAP product configuration"
    provides:
      - "Product catalog (SKUs, prices, descriptions)"
      - "Subscription tier definitions"
      - "Regional pricing matrix"
      - "Store listing requirements"
    handoff_format: |
      When handing off to mobile-game-dev, include:
      1. Complete IAP product list with SKUs
      2. Price points in USD (platform handles conversion)
      3. Subscription details if applicable
      4. Any promotional/sale pricing needs

  - skill: analytics
    description: "Monetization metrics requirements"
    provides:
      - "Events to track for monetization funnel"
      - "Key metrics and their definitions (ARPU, ARPPU, LTV)"
      - "Cohort definitions for analysis"
      - "A/B test requirements for pricing"
    handoff_format: |
      When handing off to analytics, include:
      1. Required tracking events (see events list)
      2. Metric definitions and calculation methods
      3. Segmentation criteria
      4. Dashboard requirements

  - skill: backend
    description: "Economy system requirements"
    provides:
      - "Currency types and their properties"
      - "Transaction types to support"
      - "Economy monitoring requirements"
      - "Anti-exploit validation needs"
    handoff_format: |
      When handing off to backend, include:
      1. Currency schema (soft, hard, special)
      2. Transaction logging requirements
      3. Economy alert thresholds
      4. Receipt validation requirements

  - skill: gdpr-privacy
    description: "Monetization compliance review"
    provides:
      - "Gacha/loot box mechanics for legal review"
      - "Target markets and their regulations"
      - "Age gating and parental consent needs"
      - "Spending limit implementations"
    handoff_format: |
      When handing off to gdpr-privacy, include:
      1. All randomized purchase mechanics
      2. Target regions list
      3. Expected age demographics
      4. Spending limit implementations

  - skill: ui-design
    description: "Store UI requirements"
    provides:
      - "Store structure and categories"
      - "Ethical UI requirements (price transparency)"
      - "Purchase flow requirements"
      - "Offer presentation guidelines"
    handoff_format: |
      When handing off to ui-design, include:
      1. Store information architecture
      2. Required price display formats
      3. Confirmation flow requirements
      4. Do's and don'ts for monetization UI

# Collaboration workflows
workflows:
  - name: "New Game Monetization Design"
    description: "End-to-end monetization for a new game"
    sequence:
      - step: 1
        from: game-design
        to: game-monetization
        deliverable: "Core loop and progression design"

      - step: 2
        from: game-monetization
        to: game-design
        deliverable: "Economy requirements and monetization integration points"

      - step: 3
        from: game-monetization
        to: backend
        deliverable: "Economy system requirements"

      - step: 4
        from: game-monetization
        to: analytics
        deliverable: "Metrics and tracking requirements"

      - step: 5
        from: game-monetization
        to: mobile-game-dev
        deliverable: "IAP product configuration"

      - step: 6
        from: game-monetization
        to: ui-design
        deliverable: "Store UI requirements"

      - step: 7
        from: game-monetization
        to: gdpr-privacy
        deliverable: "Compliance review request"

  - name: "Monetization Optimization"
    description: "Improve existing monetization based on data"
    sequence:
      - step: 1
        from: analytics
        to: game-monetization
        deliverable: "Performance data and insights"

      - step: 2
        from: game-monetization
        to: analytics
        deliverable: "A/B test hypotheses"

      - step: 3
        from: analytics
        to: game-monetization
        deliverable: "A/B test results"

      - step: 4
        from: game-monetization
        to: backend
        deliverable: "Economy adjustments"

      - step: 5
        from: game-monetization
        to: ui-design
        deliverable: "UI optimizations"

  - name: "Regional Launch"
    description: "Launch monetization in new regions"
    sequence:
      - step: 1
        from: game-monetization
        to: gdpr-privacy
        deliverable: "Regional compliance check"

      - step: 2
        from: gdpr-privacy
        to: game-monetization
        deliverable: "Compliance requirements"

      - step: 3
        from: game-monetization
        to: mobile-game-dev
        deliverable: "Regional pricing and feature gates"

      - step: 4
        from: game-monetization
        to: analytics
        deliverable: "Regional tracking requirements"

# Boundary definitions
boundaries:
  owns:
    - "Monetization model design (F2P, premium, hybrid)"
    - "Virtual currency design and balancing"
    - "IAP product strategy and pricing"
    - "Battle pass and season design"
    - "Gacha/loot box mechanics"
    - "Offer and sale strategy"
    - "LTV optimization"
    - "Spending limit and protection design"

  defers_to:
    game-design:
      - "Core gameplay mechanics"
      - "Level design"
      - "Narrative and story"
      - "Character abilities"

    mobile-game-dev:
      - "Platform-specific implementation"
      - "App store submission"
      - "Technical IAP integration"
      - "Push notification implementation"

    analytics:
      - "Data pipeline implementation"
      - "Dashboard creation"
      - "Statistical analysis"
      - "A/B test infrastructure"

    backend:
      - "Database design"
      - "API implementation"
      - "Server infrastructure"
      - "Security implementation"

    ui-design:
      - "Visual design"
      - "Animation and polish"
      - "Accessibility implementation"
      - "Platform design guidelines"

    gdpr-privacy:
      - "Legal compliance decisions"
      - "Privacy policy drafting"
      - "Age verification implementation"
      - "Regulatory interpretation"

# Anti-collaboration patterns
anti_patterns:
  - name: "Monetization Before Gameplay"
    description: |
      Never design monetization before core gameplay is defined.
      Monetization wraps around fun; it doesn't create it.
    wrong: "Let's figure out how to monetize, then design the game around it"
    right: "Game design defines the core loop; monetization enhances and enables it"

  - name: "Siloed Economy Design"
    description: |
      Economy design without backend collaboration leads to
      client-side vulnerabilities and implementation mismatches.
    wrong: "Here's the economy spreadsheet, implement it"
    right: "Let's design the economy together with anti-cheat in mind"

  - name: "Ignoring Analytics Feedback"
    description: |
      Monetization decisions without data are guesses.
      Always close the loop with analytics.
    wrong: "The battle pass feels too slow, let's speed it up"
    right: "Analytics shows 70% of players complete by week 6; let's add catch-up in week 5"

  - name: "Compliance as Afterthought"
    description: |
      Launching with non-compliant monetization then fixing it
      is far more expensive than getting it right initially.
    wrong: "We'll figure out Belgium compliance after launch"
    right: "Legal review before implementing any randomized purchases"

# Communication protocols
communication:
  sync_points:
    - "Before finalizing any IAP pricing"
    - "Before launching gacha/loot box features"
    - "Before entering new markets"
    - "After significant A/B test results"
    - "When economy metrics show anomalies"

  escalation:
    - trigger: "Legal compliance concerns"
      to: gdpr-privacy
      urgency: high

    - trigger: "Economy inflation detected"
      to: backend
      urgency: high

    - trigger: "Conversion rate drops >20%"
      to: analytics
      urgency: medium

    - trigger: "Platform rejection for monetization"
      to: mobile-game-dev
      urgency: high

  documentation:
    required:
      - "Economy design document with all currencies and flows"
      - "IAP product catalog with SKUs and prices"
      - "Regional availability matrix"
      - "Monetization metrics definitions"

    recommended:
      - "Competitor analysis"
      - "Player spending personas"
      - "Seasonal event calendar with offers"
      - "A/B test history and learnings"
