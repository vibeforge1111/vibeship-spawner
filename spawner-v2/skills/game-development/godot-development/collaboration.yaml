# Godot 4 Development - Collaboration
# How this skill works with other specialists

id: godot-development
version: "1.0.0"

# Skills this skill receives work from
receives_context_from:
  - skill: game-design
    description: "Receives game design documents to implement"
    receives:
      - "Game design document (GDD)"
      - "Core mechanics specifications"
      - "Level progression requirements"
      - "Balance parameters and formulas"
      - "Player experience goals"
    expects_format: |
      Structured game design with:
      - Core loop definition
      - Mechanic specifications
      - Resource/economy design
      - Progression systems

  - skill: procedural-generation
    description: "Receives PCG algorithms to integrate into Godot"
    receives:
      - "Generation algorithm specifications"
      - "Seed and randomization requirements"
      - "Content constraints and rules"
      - "Performance budgets for generation"
    expects_format: |
      Algorithm with:
      - Input parameters
      - Output format (meshes, tilemaps, data)
      - Performance requirements
      - Determinism requirements for seeds

  - skill: game-ai-behavior
    description: "Receives AI behavior specifications to implement"
    receives:
      - "Behavior tree specifications"
      - "State machine definitions"
      - "Pathfinding requirements"
      - "Decision-making rules"
      - "Performance budgets"
    expects_format: |
      AI specification with:
      - Behavior tree/FSM diagram
      - Trigger conditions
      - Action definitions
      - Sensory requirements

  - skill: game-art
    description: "Receives art assets to integrate"
    receives:
      - "Sprite sheets and animations"
      - "Tilesets for TileMaps"
      - "UI assets and themes"
      - "Particle textures"
      - "3D models and textures"
    expects_format: |
      Assets with:
      - Proper naming conventions
      - Animation frame data
      - Pivot points specified
      - Collision shape references

  - skill: game-audio
    description: "Receives audio specifications and assets"
    receives:
      - "Sound effect files"
      - "Music tracks"
      - "Audio bus layout"
      - "Spatial audio requirements"
    expects_format: |
      Audio package with:
      - Categorized SFX
      - Loop points for music
      - Volume recommendations
      - Trigger conditions

  - skill: shader-programming
    description: "Receives shader code to integrate"
    receives:
      - "Godot shader code (.gdshader)"
      - "Shader parameters for uniforms"
      - "Performance requirements"
      - "Material setup instructions"
    expects_format: |
      Shader with:
      - Complete .gdshader code
      - Uniform documentation
      - Example usage
      - Performance notes

  - skill: multiplayer-networking
    description: "Receives networking architecture to implement"
    receives:
      - "Network topology design"
      - "Sync requirements per entity"
      - "RPC specifications"
      - "Authority rules"
    expects_format: |
      Networking design with:
      - Architecture (P2P/server/relay)
      - What state to sync
      - RPC call definitions
      - Conflict resolution rules

# Skills this skill provides context to
provides_context_to:
  - skill: game-design
    description: "Provides implementation constraints and feedback"
    provides:
      - "Technical limitations and possibilities"
      - "Performance implications of features"
      - "Implementation complexity estimates"
      - "Prototype gameplay for testing"

  - skill: procedural-generation
    description: "Provides Godot-specific generation requirements"
    provides:
      - "TileMap/TileSet structure"
      - "Node tree requirements"
      - "Resource format for generated content"
      - "Runtime generation performance data"

  - skill: game-ai-behavior
    description: "Provides Godot AI integration requirements"
    provides:
      - "NavigationServer2D/3D setup"
      - "Collision layers for sensing"
      - "Signal-based event system"
      - "Performance profiling data"

  - skill: qa-testing
    description: "Provides testable builds and debug tools"
    provides:
      - "Debug build with tools enabled"
      - "Console commands for testing"
      - "State inspection capabilities"
      - "Reproduction steps for bugs"

  - skill: devops
    description: "Provides export and deployment requirements"
    provides:
      - "Export templates needed"
      - "Platform-specific requirements"
      - "Build configuration"
      - "CI/CD integration points"

# Collaboration workflows
workflows:
  new_game_feature:
    name: "Implementing a New Game Feature"
    description: "Full workflow from design to implementation"
    steps:
      - from: game-design
        to: godot-development
        data: "Feature specification and design"
      - action: "Implement core mechanics in GDScript"
      - from: godot-development
        to: game-art
        data: "Asset requirements (sprites, animations)"
      - from: game-art
        to: godot-development
        data: "Completed art assets"
      - from: godot-development
        to: game-audio
        data: "Sound trigger points and requirements"
      - from: game-audio
        to: godot-development
        data: "Audio files and bus configuration"
      - action: "Integrate all assets and polish"
      - from: godot-development
        to: qa-testing
        data: "Feature build for testing"

  ai_implementation:
    name: "Implementing Game AI"
    description: "Workflow for adding AI behaviors"
    steps:
      - from: game-ai-behavior
        to: godot-development
        data: "AI behavior specification"
      - action: "Set up NavigationServer and collision layers"
      - action: "Implement state machine or behavior tree"
      - action: "Create sensory systems (Area2D/3D)"
      - from: godot-development
        to: game-ai-behavior
        data: "Implementation feedback and edge cases"

  procedural_content:
    name: "Adding Procedural Content"
    description: "Workflow for PCG integration"
    steps:
      - from: procedural-generation
        to: godot-development
        data: "Generation algorithm and parameters"
      - action: "Implement generator as tool script or runtime"
      - action: "Create resource types for generated content"
      - action: "Optimize generation performance"
      - from: godot-development
        to: procedural-generation
        data: "Performance data and edge cases"

# Shared terminology
glossary:
  - term: "Node"
    definition: "Basic building block in Godot's scene system. Everything is a node."
  - term: "Scene"
    definition: "A tree of nodes saved as a .tscn file. Scenes are reusable and instantiable."
  - term: "Signal"
    definition: "Godot's observer pattern. Nodes emit signals, others connect to them."
  - term: "Resource"
    definition: "Data container that can be saved to disk (.tres). Used for game data."
  - term: "Autoload"
    definition: "Singleton node automatically loaded at game start. Persists across scenes."
  - term: "@onready"
    definition: "Annotation that initializes a variable when _ready() is called."
  - term: "@export"
    definition: "Annotation that exposes a variable in the Godot inspector."
  - term: "GDScript"
    definition: "Godot's Python-like scripting language, tightly integrated with the engine."
  - term: "TileMap"
    definition: "Node for grid-based 2D levels using TileSet resources."
  - term: "CharacterBody2D/3D"
    definition: "Physics body for player/NPC movement with built-in collision handling."
  - term: "AnimationPlayer"
    definition: "Node for playing keyframe animations on any property."
  - term: "AnimationTree"
    definition: "State machine for blending multiple animations."

# Skill boundaries
boundaries:
  owns:
    - "GDScript implementation"
    - "Scene and node architecture"
    - "Godot-specific patterns and APIs"
    - "Physics and collision setup"
    - "Animation integration"
    - "UI implementation with Control nodes"
    - "Export configuration"
    - "Godot multiplayer API usage"

  does_not_own:
    - "Game design decisions (gameplay balance)"
    - "Art asset creation"
    - "Audio asset creation"
    - "Complex AI algorithm design"
    - "Server-side multiplayer logic"
    - "Marketing and monetization"

  delegates_to:
    - skill: game-design
      when: "Design decisions about gameplay balance, progression, or player experience"
    - skill: game-ai-behavior
      when: "Complex AI algorithms like GOAP, utility AI, or ML-based behavior"
    - skill: procedural-generation
      when: "Algorithm design for procedural content generation"
    - skill: shader-programming
      when: "Complex visual effects beyond basic Godot shaders"
    - skill: multiplayer-networking
      when: "Network architecture decisions or server-side logic"
    - skill: game-art
      when: "Creating or modifying art assets"
    - skill: game-audio
      when: "Creating or modifying audio assets"

# Integration points
integration_points:
  - type: "Asset Import"
    description: "Bringing external assets into Godot"
    details: |
      - Import PNGs, OGGs, fonts via res://
      - Configure import settings per asset type
      - Use .import files for version control

  - type: "External Tools"
    description: "Integration with external development tools"
    details: |
      - Tiled for tilemaps (export as .tmj, import via addon)
      - Aseprite for sprites (direct import with plugin)
      - Blender for 3D (GLTF export recommended)
      - Audacity for audio (export as OGG)

  - type: "Version Control"
    description: "Git integration best practices"
    details: |
      - Use text-based resources (.tscn, .tres in text mode)
      - Add .godot/ to .gitignore
      - Consider LFS for large binary assets
      - Project settings in project.godot are text-friendly

  - type: "CI/CD"
    description: "Automated builds and testing"
    details: |
      - GitHub Actions with godot-ci docker image
      - Export templates for target platforms
      - GUT for unit testing
      - Use --headless for CI runs
