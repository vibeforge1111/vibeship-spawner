id: legacy-archaeology-collaboration
skill: legacy-archaeology
version: 1.0.0

receives_from:
  - skill: tech-debt-negotiation
    context: "Debt requiring understanding"
    receives:
      - "Debt items to investigate"
      - "Priority areas"
    provides: "Understanding and documentation"

  - skill: incident-postmortem
    context: "Incident root cause investigation"
    receives:
      - "Failing component"
      - "Error traces"
    provides: "System understanding, root cause"

  - skill: git-time-travel
    context: "Git history analysis"
    receives:
      - "Historical context"
      - "Change timeline"
    provides: "Contextualized understanding"

delegation_triggers:
  - trigger: "tech debt|refactor|improve"
    delegate_to: tech-debt-negotiation
    pattern: sequential
    context: "Need to prioritize changes"

  - trigger: "documentation|write up|explain"
    delegate_to: documentation-that-slaps
    pattern: sequential
    context: "Need to document findings"

  - trigger: "git|history|blame|commit"
    delegate_to: git-time-travel
    pattern: sequential
    context: "Need git history analysis"

  - trigger: "incident|failure|broke"
    delegate_to: incident-postmortem
    pattern: sequential
    context: "Need incident analysis"

feedback_loops:
  receives_feedback_from:
    - skill: tech-debt-negotiation
      signal: "Debt priority areas"
      action: "Focus archaeology efforts"

    - skill: incident-postmortem
      signal: "Incident locations"
      action: "Deep dive on risky areas"

    - skill: git-time-travel
      signal: "Historical patterns"
      action: "Contextualize understanding"

  sends_feedback_to:
    - skill: tech-debt-negotiation
      signal: "Discovered debt and risks"
      action: "Inform debt inventory"

    - skill: documentation-that-slaps
      signal: "System understanding"
      action: "Create documentation"

    - skill: incident-postmortem
      signal: "Risk areas identified"
      action: "Guide prevention"

cross_domain_insights:
  from_domains:
    - domain: archaeology
      insight: "Context is as important as artifacts"
      application: "Understand why code exists, not just what it does"

    - domain: anthropology
      insight: "Don't judge by modern standards"
      application: "Respect constraints original developers faced"

    - domain: forensics
      insight: "Follow the evidence trail"
      application: "Git history and logs tell the real story"

common_combinations:
  - name: Debt Discovery
    skills:
      - legacy-archaeology
      - tech-debt-negotiation
    workflow: |
      1. Map legacy system
      2. Identify risk areas
      3. Quantify debt impact
      4. Prioritize for business case

  - name: Knowledge Recovery
    skills:
      - legacy-archaeology
      - documentation-that-slaps
    workflow: |
      1. Excavate understanding
      2. Document discoveries
      3. Create system diagrams
      4. Write onboarding guide

  - name: Incident Investigation
    skills:
      - legacy-archaeology
      - incident-postmortem
    workflow: |
      1. Trace incident to code
      2. Understand why it failed
      3. Find historical context
      4. Document for prevention
