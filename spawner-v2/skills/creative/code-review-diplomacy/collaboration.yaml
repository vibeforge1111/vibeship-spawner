id: code-review-diplomacy-collaboration
skill: code-review-diplomacy
version: 1.0.0

receives_from:
  - skill: tech-debt-negotiation
    context: "Debt identified in reviews"
    receives:
      - "Debt patterns found"
      - "Recurring issues"
    provides: "Constructive debt feedback approach"

  - skill: documentation-that-slaps
    context: "Doc improvements in reviews"
    receives:
      - "Documentation standards"
      - "Missing docs"
    provides: "Diplomatic doc feedback"

  - skill: incident-postmortem
    context: "Review of incident-causing code"
    receives:
      - "Root cause code"
      - "Prevention suggestions"
    provides: "Blameless feedback on risky code"

delegation_triggers:
  - trigger: "tech debt|refactor|cleanup"
    delegate_to: tech-debt-negotiation
    pattern: sequential
    context: "Debt discussion in review"

  - trigger: "documentation|readme|docs"
    delegate_to: documentation-that-slaps
    pattern: sequential
    context: "Need doc guidance"

  - trigger: "incident|broke|postmortem"
    delegate_to: incident-postmortem
    pattern: sequential
    context: "Need incident analysis"

feedback_loops:
  receives_feedback_from:
    - skill: tech-debt-negotiation
      signal: "Debt patterns in code"
      action: "Guide review focus"

    - skill: documentation-that-slaps
      signal: "Doc quality standards"
      action: "Inform doc review feedback"

    - skill: incident-postmortem
      signal: "Risky patterns identified"
      action: "Heighten review vigilance"

  sends_feedback_to:
    - skill: tech-debt-negotiation
      signal: "Recurring review issues"
      action: "Aggregate into debt items"

    - skill: documentation-that-slaps
      signal: "Doc gaps found in review"
      action: "Inform doc priorities"

    - skill: incident-postmortem
      signal: "Near-miss catches"
      action: "Inform prevention focus"

cross_domain_insights:
  from_domains:
    - domain: psychology
      insight: "Feedback is received through emotional filters"
      application: "Frame feedback for how it will be heard, not just said"

    - domain: negotiation
      insight: "Start with common ground"
      application: "Acknowledge what's good before suggesting changes"

    - domain: education
      insight: "Learning requires psychological safety"
      application: "Reviews should teach, not judge"

common_combinations:
  - name: Debt-Aware Reviews
    skills:
      - code-review-diplomacy
      - tech-debt-negotiation
    workflow: |
      1. Identify debt in review
      2. Frame diplomatically
      3. Suggest follow-up ticket
      4. Track patterns for prioritization

  - name: Post-Incident Review
    skills:
      - code-review-diplomacy
      - incident-postmortem
    workflow: |
      1. Review code that caused incident
      2. Maintain blameless tone
      3. Focus on systemic fixes
      4. Suggest prevention measures

  - name: Teaching Reviews
    skills:
      - code-review-diplomacy
      - documentation-that-slaps
    workflow: |
      1. Review with teaching intent
      2. Explain the "why" behind feedback
      3. Link to resources
      4. Document patterns for team
