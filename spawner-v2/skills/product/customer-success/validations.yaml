# Customer Success Validations
# Automated checks to catch customer success anti-patterns in docs, code, and processes

validations:
  - id: cs-no-onboarding-flow
    name: Missing Onboarding Flow Definition
    severity: warning
    type: regex
    pattern:
      - 'signup|registration|create.?account'
    message: "Signup/registration detected but no onboarding flow found. Users will churn without guidance."
    fix_action: "Define onboarding steps: welcome email → first value moment → second session trigger"
    applies_to:
      - "*.md"
      - "*.txt"
      - "README*"

  - id: cs-no-health-score
    name: No Customer Health Score Definition
    severity: warning
    type: regex
    pattern:
      - 'churn|retention|customer.?success'
    message: "Customer success mentioned but no health score definition found. You cannot improve what you do not measure."
    fix_action: "Define health score: usage frequency + feature adoption + support tickets + NPS"
    applies_to:
      - "*.md"
      - "*.txt"

  - id: cs-reactive-support-only
    name: Reactive Support Without Proactive Outreach
    severity: warning
    type: regex
    pattern:
      - 'support.?ticket|help.?desk|customer.?support'
    message: "Support mentioned but no proactive outreach triggers. Waiting for tickets means waiting for problems."
    fix_action: "Add proactive triggers: usage drop alerts, milestone celebrations, check-in cadence"
    applies_to:
      - "*.md"
      - "*.txt"

  - id: cs-no-success-metrics
    name: Missing Success Metrics Definition
    severity: warning
    type: regex
    pattern:
      - 'customer.?success|cs.?team|success.?manager'
    message: "Customer success referenced without defined success metrics. What does success look like for customers?"
    fix_action: "Define customer outcomes: time to value, adoption milestones, business impact metrics"
    applies_to:
      - "*.md"
      - "*.txt"

  - id: cs-feature-announcement-no-adoption
    name: Feature Announcement Without Adoption Strategy
    severity: warning
    type: regex
    pattern:
      - 'new.?feature|launch|release.?notes|changelog'
    message: "Feature release without adoption strategy. Features do not matter if no one uses them."
    fix_action: "Add adoption plan: targeted announcement → in-app guidance → adoption tracking → follow-up"
    applies_to:
      - "*.md"
      - "CHANGELOG*"
      - "RELEASE*"

  - id: cs-nps-without-action
    name: NPS Survey Without Action Plan
    severity: warning
    type: regex
    pattern:
      - 'NPS|net.?promoter|survey|feedback.?score'
    message: "NPS/survey mentioned but no action workflow. Collecting feedback without acting destroys trust."
    fix_action: "Define action workflow: detractor rescue process, passive conversion, promoter amplification"
    applies_to:
      - "*.md"
      - "*.txt"

  - id: cs-hardcoded-email-timing
    name: Hardcoded Email Timing
    severity: warning
    type: regex
    pattern:
      - 'day.?\d+|after.?\d+.?days|wait.?\d+.?hours'
    message: "Hardcoded timing in customer communications. Different customers need different cadences."
    fix_action: "Use behavior-triggered communications instead of time-based. Trigger on actions, not calendars."
    applies_to:
      - "*.md"
      - "*.yaml"
      - "*.json"

  - id: cs-no-churn-indicators
    name: Missing Churn Early Warning Indicators
    severity: warning
    type: regex
    pattern:
      - 'churn|cancel|retention'
    message: "Churn discussed but no early warning indicators defined. Churn is a lagging indicator of problems."
    fix_action: "Define leading indicators: login frequency drop, feature usage decline, support sentiment change"
    applies_to:
      - "*.md"
      - "*.txt"

  - id: cs-no-expansion-triggers
    name: Missing Expansion Opportunity Triggers
    severity: info
    type: regex
    pattern:
      - 'upsell|expansion|upgrade|tier|plan'
    message: "Expansion mentioned but no trigger conditions. Expansion should be tied to customer success, not quotas."
    fix_action: "Define expansion triggers: hitting usage limits, achieving outcomes, requesting advanced features"
    applies_to:
      - "*.md"
      - "*.txt"

  - id: cs-generic-onboarding-email
    name: Generic Onboarding Email Copy
    severity: warning
    type: regex
    pattern:
      - 'welcome.?to|thanks.?for.?signing|get.?started'
    message: "Generic welcome language detected. Personalized onboarding converts 2-3x better."
    fix_action: "Personalize by: use case selected, company size, referral source, first action taken"
    applies_to:
      - "*.md"
      - "*.html"
      - "*.txt"

  - id: cs-no-time-to-value
    name: Missing Time to Value Definition
    severity: warning
    type: regex
    pattern:
      - 'onboard|activation|first.?run|getting.?started'
    message: "Onboarding discussed but time to value not defined. What is the aha moment and how fast should users get there?"
    fix_action: "Define TTV target: identify aha moment, measure current TTV, set improvement targets"
    applies_to:
      - "*.md"
      - "*.txt"

  - id: cs-segment-all-users-same
    name: Treating All Users The Same
    severity: warning
    type: regex
    pattern:
      - 'all.?users|every.?customer|all.?customers'
    message: "Treating all users the same detected. Different segments need different success approaches."
    fix_action: "Segment by: company size, use case, engagement level, contract value. Differentiate touch model."
    applies_to:
      - "*.md"
      - "*.txt"
