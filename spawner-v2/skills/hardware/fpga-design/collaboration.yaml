id: fpga-design-collaboration
skill: fpga-design
version: 1.0.0

receives_from:
  - skill: embedded-systems
    context: "FPGA as coprocessor for MCU"
    receives:
      - "Communication protocol (SPI, AXI, PCIe)"
      - "Data formats and rates"
    provides: "Hardware accelerator with defined interface"

  - skill: control-systems
    context: "Implement control algorithm in FPGA"
    receives:
      - "Control algorithm (fixed-point format)"
      - "Sample rate and latency requirements"
    provides: "Deterministic hardware controller"

  - skill: sensor-fusion
    context: "Hardware sensor preprocessing"
    receives:
      - "Sensor data formats"
      - "Filter specifications"
    provides: "Real-time sensor processing pipeline"

delegation_triggers:
  - trigger: "MCU|microcontroller|firmware"
    delegate_to: embedded-systems
    context: "FPGA interfaces with MCU"

  - trigger: "PID|control|MPC"
    delegate_to: control-systems
    context: "Control algorithm design"

  - trigger: "PCB|schematic|layout"
    delegate_to: hardware-design
    context: "FPGA board design"

feedback_loops:
  receives_feedback_from:
    - skill: embedded-systems
      signal: "Interface timing issues"
      action: "Add register stages, adjust clock constraints"

    - skill: control-systems
      signal: "Fixed-point precision insufficient"
      action: "Increase bit width or use floating-point IP"

  sends_feedback_to:
    - skill: embedded-systems
      signal: "Processing latency"
      action: "Plan for pipeline delay in software"

    - skill: control-systems
      signal: "Available DSP resources"
      action: "Adjust algorithm complexity to fit"

common_combinations:
  - name: Custom Sensor Interface
    skills:
      - fpga-design
      - embedded-systems
    workflow: |
      1. Define sensor protocol (LVDS, custom serial)
      2. Implement FPGA deserializer
      3. Add data preprocessing (CRC, formatting)
      4. Create memory-mapped or streaming interface
      5. Write MCU driver for FPGA interface
      6. Test end-to-end data path

  - name: Real-Time Control Accelerator
    skills:
      - fpga-design
      - control-systems
    workflow: |
      1. Convert control algorithm to fixed-point
      2. Design pipeline architecture for throughput
      3. Implement control loop in RTL
      4. Add AXI interface for configuration
      5. Create timing constraints for control rate
      6. Verify timing meets control requirements

  - name: High-Speed Data Acquisition
    skills:
      - fpga-design
      - sensor-fusion
    workflow: |
      1. Implement high-speed ADC interface
      2. Add multi-channel demultiplexing
      3. Implement real-time filtering (FIR/IIR)
      4. Create data buffering (DDR interface)
      5. Add streaming interface (PCIe, GbE)
      6. Verify timing and throughput

  - name: Image Processing Pipeline
    skills:
      - fpga-design
    workflow: |
      1. Implement camera interface (MIPI, LVDS)
      2. Add frame buffer in DDR
      3. Implement pixel processing pipeline
      4. Add output interface (HDMI, DisplayPort)
      5. Optimize for real-time performance
      6. Test with actual video stream

ecosystem:
  xilinx:
    - "Vivado - Design suite"
    - "Vitis - HLS and embedded"
    - "Vivado IP Integrator - Block design"
    - "PetaLinux - Embedded Linux"

  intel:
    - "Quartus Prime - Synthesis and P&R"
    - "Platform Designer - System integration"
    - "Intel HLS Compiler"
    - "Nios II - Soft processor"

  open_source:
    - "Yosys - Synthesis"
    - "nextpnr - Place and route"
    - "Verilator - Fast simulation"
    - "cocotb - Python testbenches"
    - "SymbiFlow - Open toolchain"

  ip_cores:
    - "Xilinx IP catalog"
    - "Intel IP catalog"
    - "OpenCores.org - Open source IP"
    - "PULP Platform - RISC-V cores"

references:
  books:
    - "FPGA Prototyping by Verilog Examples - Pong Chu"
    - "Digital Design with RTL Design, VHDL, and Verilog - Vahid"
    - "Advanced FPGA Design - Kilts"

  courses:
    - "Nandland.com - FPGA tutorials"
    - "ZipCPU.com - Formal verification"
    - "FPGA4Fun.com - Beginner projects"

  documentation:
    - "Xilinx UG901 - Vivado Synthesis"
    - "Xilinx UG903 - Constraints"
    - "Intel Quartus Handbook"
