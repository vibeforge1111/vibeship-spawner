# Collaboration - DAO Governance
# How this skill works with other skills

version: 1.0.0
skill_id: dao-governance

prerequisites:
  required:
    - skill: smart-contract-engineer
      reason: "Governor contracts require Solidity expertise"
    - skill: token-launch
      reason: "Governance tokens need proper launch"

  recommended:
    - skill: smart-contract-auditor
      reason: "Governance contracts are high-value targets"
    - skill: onchain-analytics
      reason: "Track voting patterns and participation"

delegation_triggers:
  - condition: "Launching governance token"
    delegate_to: token-launch
    context: "Ensure ERC20Votes compatibility"

  - condition: "Auditing governance contracts"
    delegate_to: smart-contract-auditor
    context: "Include governance attack vectors in scope"

  - condition: "Setting up treasury multi-sig"
    delegate_to: wallet-integration
    context: "Configure Gnosis Safe with appropriate signers"

  - condition: "Tracking governance analytics"
    delegate_to: onchain-analytics
    context: "Monitor voting, delegation, proposal success rates"

collaboration_patterns:
  - name: "Full DAO Stack"
    skills:
      - dao-governance
      - token-launch
      - smart-contract-auditor
      - onchain-analytics
    workflow: |
      1. Design governance token (token-launch)
      2. Implement Governor (dao-governance)
      3. Audit all contracts (smart-contract-auditor)
      4. Set up analytics (onchain-analytics)

  - name: "Gaming DAO"
    skills:
      - dao-governance
      - web3-gaming
      - token-launch
    workflow: |
      1. Create game token with governance (token-launch)
      2. Implement game DAO (dao-governance)
      3. Integrate governance into game (web3-gaming)

handoff_data:
  provides:
    - governor_address
    - timelock_address
    - token_address
    - snapshot_space
    - governance_params

  expects:
    - token_contract (from token-launch)
    - audit_report (from smart-contract-auditor)
    - multisig_address (from wallet-integration)

integration_notes: |
  DAO Governance is often a mid-to-late stage skill, implemented
  after token launch and initial protocol development.

  Key integration points:
  - Token must implement ERC20Votes
  - All protocol contracts should be owned by Timelock
  - Snapshot for off-chain signaling before on-chain
  - Tally for governance dashboard
  - Analytics for health monitoring

  Consider progressive decentralization:
  1. Multi-sig governance initially
  2. Token voting with guardian veto
  3. Full token governance
  4. Remove guardian
