# Collaboration - Perpetuals Trading
# How this skill works with other skills

version: 1.0.0
skill_id: perpetuals-trading

prerequisites:
  required:
    - skill: smart-contract-engineer
      reason: "Perp protocols are complex Solidity systems"
    - skill: blockchain-defi
      reason: "DeFi fundamentals required"

  recommended:
    - skill: smart-contract-auditor
      reason: "Perps are high-value attack targets"
    - skill: onchain-analytics
      reason: "Monitor protocol health and positions"

delegation_triggers:
  - condition: "Auditing perpetual contracts"
    delegate_to: smart-contract-auditor
    context: "Include oracle manipulation and liquidation scenarios"

  - condition: "Building liquidator bot"
    delegate_to: crypto-trading-bots
    context: "Share position monitoring and MEV requirements"

  - condition: "Analytics for perp protocol"
    delegate_to: onchain-analytics
    context: "Track OI, funding, liquidations, PnL"

  - condition: "Cross-chain perpetuals"
    delegate_to: cross-chain
    context: "Handle collateral and position bridging"

collaboration_patterns:
  - name: "Perp Protocol Launch"
    skills:
      - perpetuals-trading
      - smart-contract-auditor
      - onchain-analytics
    workflow: |
      1. Design and implement protocol (perpetuals-trading)
      2. Security audit (smart-contract-auditor)
      3. Set up monitoring (onchain-analytics)

  - name: "Trading Infrastructure"
    skills:
      - perpetuals-trading
      - crypto-trading-bots
      - onchain-analytics
    workflow: |
      1. Understand perp mechanics (perpetuals-trading)
      2. Build trading/liquidation bots (crypto-trading-bots)
      3. Monitor performance (onchain-analytics)

handoff_data:
  provides:
    - protocol_addresses
    - position_struct
    - liquidation_thresholds
    - funding_rate_api
    - oracle_addresses

  expects:
    - audit_report (from smart-contract-auditor)
    - monitoring_dashboard (from onchain-analytics)
    - bot_integration (from crypto-trading-bots)

integration_notes: |
  Perpetuals Trading integrates with:
  - Price oracles (Chainlink, Pyth, custom)
  - Liquidity (AMM pools or orderbooks)
  - Analytics (position tracking, PnL)
  - Trading bots (liquidators, arbitrage)

  Critical considerations:
  - Oracle security is paramount
  - Insurance fund sizing
  - Risk parameter tuning
  - Liquidation efficiency
