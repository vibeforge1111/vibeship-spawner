# Validations - Crypto Trading Bots
version: 1.0.0
skill_id: crypto-trading-bots

validations:
  - id: exposed-private-key
    name: Private key in source code
    severity: error
    type: regex
    pattern:
      - 'privateKey\s*[=:]\s*["\x27]0x[a-fA-F0-9]{64}'
      - 'PRIVATE_KEY\s*=\s*["\x27]0x'
    message: "Never hardcode private keys - use environment variables"
    fix_action: "Move to .env file and use process.env.PRIVATE_KEY"
    applies_to:
      - "*.ts"
      - "*.js"

  - id: no-slippage-protection
    name: Trading without slippage protection
    severity: error
    type: regex
    pattern:
      - 'minAmountOut\s*[=:]\s*0|minOut\s*=\s*0'
    message: "Zero slippage protection allows complete loss"
    fix_action: "Calculate reasonable minOut based on expected price"
    applies_to:
      - "*.ts"
      - "*.js"

best_practices:
  bot_security:
    recommendation: |
      Trading Bot Security:
      [ ] Private keys in secure environment
      [ ] Maximum spend limits per trade
      [ ] Use private mempools
      [ ] Implement honeypot detection
      [ ] Test thoroughly on testnet
      [ ] Monitor positions in real-time
      [ ] Implement emergency stop
