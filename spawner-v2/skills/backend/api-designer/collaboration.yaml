# API Designer Collaboration Model
# How this skill works with other AI memory specialists

prerequisites:
  skills: []
  knowledge:
    - "HTTP protocol basics (methods, status codes, headers)"
    - "JSON structure and serialization"
    - "Basic understanding of client-server architecture"
    - "REST principles (stateless, resources, representations)"

complementary_skills:
  - skill: sdk-builder
    relationship: "Client library creation"
    brings: "Type-safe SDK generation, developer experience patterns"

  - skill: docs-engineer
    relationship: "API documentation"
    brings: "OpenAPI specs, interactive docs, code examples"

  - skill: performance-hunter
    relationship: "API performance"
    brings: "Latency optimization, caching strategies, load testing"

  - skill: privacy-guardian
    relationship: "API security"
    brings: "Authentication, authorization, rate limiting implementation"

  - skill: test-architect
    relationship: "API testing"
    brings: "Contract testing, integration tests, load tests"

  - skill: observability-sre
    relationship: "API monitoring"
    brings: "Metrics, logging, tracing, alerting"

delegation:
  - trigger: "need client SDK"
    delegate_to: sdk-builder
    pattern: sequential
    context: "OpenAPI spec and language requirements"
    receive: "Generated SDK with type safety"

  - trigger: "need API documentation"
    delegate_to: docs-engineer
    pattern: parallel
    context: "Endpoint definitions and examples"
    receive: "OpenAPI spec and documentation site"

  - trigger: "API latency issues"
    delegate_to: performance-hunter
    pattern: parallel
    context: "Slow endpoints and current latency metrics"
    receive: "Optimization recommendations"

  - trigger: "need authentication"
    delegate_to: privacy-guardian
    pattern: sequential
    context: "API access requirements and user types"
    receive: "Auth strategy and implementation"

  - trigger: "need API tests"
    delegate_to: test-architect
    pattern: parallel
    context: "API contracts and edge cases"
    receive: "Test suite and coverage report"

  - trigger: "need monitoring"
    delegate_to: observability-sre
    pattern: parallel
    context: "Key API metrics and SLOs"
    receive: "Dashboards and alerting rules"

collaboration_patterns:
  sequential:
    - "I design API, then docs-engineer writes documentation"
    - "I design schema, then sdk-builder generates clients"
    - "I define contracts, then test-architect writes tests"

  parallel:
    - "I design endpoints while performance-hunter profiles existing ones"
    - "I version API while docs-engineer updates migration guides"

  review:
    - "Review sdk-builder's generated types for API alignment"
    - "Review test-architect's contract tests for completeness"
    - "Review privacy-guardian's auth design for API compatibility"

cross_domain_insights:
  - domain: ui-design
    insight: "APIs are UIs for developers - same principles apply"
    applies_when: "Designing endpoint ergonomics and error messages"

  - domain: linguistics
    insight: "Consistency in naming is like consistency in grammar"
    applies_when: "Choosing naming conventions across endpoints"

  - domain: versioning
    insight: "Semantic versioning: breaking.feature.patch"
    applies_when: "Planning API evolution strategy"

  - domain: distributed-systems
    insight: "Idempotency keys enable safe retries"
    applies_when: "Designing mutation endpoints"

  - domain: caching
    insight: "Cache-Control headers are contracts with clients"
    applies_when: "Designing cacheable resources"

ecosystem:
  primary_tools:
    - "OpenAPI/Swagger - API specification"
    - "Postman/Insomnia - API testing and exploration"
    - "Stoplight - API design platform"
    - "Redoc - API documentation generation"
    - "Prism - API mocking"

  alternatives:
    - name: GraphQL
      use_when: "Complex, interconnected data with varied client needs"
      avoid_when: "Simple CRUD, caching important, team unfamiliar"

    - name: gRPC
      use_when: "Internal services, high performance, schema evolution"
      avoid_when: "Public API, browser clients, human debugging needed"

    - name: tRPC
      use_when: "TypeScript full-stack, need end-to-end type safety"
      avoid_when: "Non-TypeScript clients, public API"

    - name: JSON:API
      use_when: "Need standardized REST with relationships"
      avoid_when: "Simple APIs, team unfamiliar with spec"

    - name: AsyncAPI
      use_when: "Event-driven APIs, WebSockets, message queues"
      avoid_when: "Request-response APIs only"

  deprecated:
    - "SOAP/XML for new APIs"
    - "Custom error formats per endpoint"
    - "Auto-increment IDs in public APIs"
    - "Undocumented breaking changes"
    - "Verbs in REST URLs"
