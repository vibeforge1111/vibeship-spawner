id: disaster-recovery-collaboration
skill: disaster-recovery
version: 1.0.0

receives_from:
  - skill: enterprise-architecture
    context: "System architecture and dependencies"
    receives:
      - "Service criticality tiers"
      - "Dependency maps"
    provides: "DR requirements per tier"

  - skill: multi-tenancy
    context: "Per-tenant recovery needs"
    receives:
      - "Tenant isolation model"
      - "Data residency requirements"
    provides: "Tenant-aware DR strategy"

delegation_triggers:
  - trigger: "enterprise.architecture|system.design"
    delegate_to: enterprise-architecture
    context: "Architecture decisions affecting DR"

  - trigger: "multi.tenant|per.tenant.backup"
    delegate_to: multi-tenancy
    context: "Tenant-specific DR requirements"

  - trigger: "compliance|audit|evidence"
    delegate_to: compliance-automation
    context: "DR compliance requirements"

feedback_loops:
  receives_feedback_from:
    - skill: enterprise-architecture
      signal: "Architecture changes"
      action: "Update DR procedures"

    - skill: multi-tenancy
      signal: "New tenant requirements"
      action: "Adjust per-tenant DR"

  sends_feedback_to:
    - skill: enterprise-architecture
      signal: "DR test results"
      action: "Improve system resilience"

    - skill: compliance-automation
      signal: "DR evidence"
      action: "Support audit requirements"

common_combinations:
  - name: DR Planning
    skills:
      - disaster-recovery
    workflow: |
      1. Define RTO/RPO per service tier
      2. Map all dependencies
      3. Select DR strategy per tier
      4. Design failover automation
      5. Document runbooks
      6. Schedule testing cadence

  - name: Backup and Restore Setup
    skills:
      - disaster-recovery
    workflow: |
      1. Define backup policies
      2. Configure backup automation
      3. Set up cross-region replication
      4. Enable backup encryption
      5. Implement restore procedures
      6. Test restore process
      7. Set retention policies

  - name: Chaos Engineering Program
    skills:
      - disaster-recovery
    workflow: |
      1. Define steady state hypotheses
      2. Design initial experiments
      3. Start with small blast radius
      4. Implement rollback triggers
      5. Run game days
      6. Expand to production chaos
      7. Document learnings

  - name: Active-Active Setup
    skills:
      - disaster-recovery
      - integration-patterns
    workflow: |
      1. Design multi-region architecture
      2. Configure database replication
      3. Implement conflict resolution
      4. Set up global load balancing
      5. Configure traffic distribution
      6. Test region isolation
      7. Document failover procedures

  - name: Database Failover Runbook
    skills:
      - disaster-recovery
    workflow: |
      1. Verify primary is truly unavailable
      2. Check replication lag
      3. Notify stakeholders
      4. Promote standby to primary
      5. Update connection strings
      6. Verify application functionality
      7. Begin RCA

ecosystem:
  backup:
    - "AWS Backup"
    - "Azure Backup"
    - "Veeam"
    - "Velero"

  replication:
    - "PostgreSQL Streaming Replication"
    - "MySQL Group Replication"
    - "MongoDB Atlas"
    - "CockroachDB"

  chaos:
    - "Gremlin"
    - "Chaos Monkey"
    - "Litmus Chaos"
    - "Chaos Mesh"
    - "AWS Fault Injection Simulator"

  dns:
    - "Route 53"
    - "Azure Traffic Manager"
    - "Cloudflare"
    - "NS1"

references:
  frameworks:
    - "AWS Disaster Recovery Workloads"
    - "Azure Business Continuity"
    - "GCP DR Planning"

  standards:
    - "ISO 22301 Business Continuity"
    - "NIST Contingency Planning"

  books:
    - "Site Reliability Engineering"
    - "Chaos Engineering - O'Reilly"
