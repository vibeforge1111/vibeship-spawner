# Burn Rate Management Validations
# Automated checks to catch financial planning and spending anti-patterns

validations:
  - id: burn-no-runway-calc
    name: No Runway Calculation
    severity: error
    type: regex
    pattern:
      - "(?i)(burn|spending|expenses|cash)(?!.*runway|.*months?\\s+left|.*\\d+\\s*months)"
    message: "Burn mentioned but no runway calculation. Calculate: cash / monthly burn = months."
    fix_action: "Add: 'Runway: $X cash / $Y monthly burn = Z months'"
    applies_to:
      - "**/*.md"

  - id: burn-missing-budget
    name: Missing Budget Breakdown
    severity: error
    type: regex
    pattern:
      - "(?i)(budget|spend|expenses)(?!.*payroll|.*infrastructure|.*marketing|.*\\$\\d+)"
    message: "Budget mentioned without breakdown. Detail: payroll, infra, marketing, etc."
    fix_action: "Add breakdown: 'Payroll: $X, Infra: $Y, Marketing: $Z, Other: $A = $Total/mo'"
    applies_to:
      - "**/*.md"

  - id: burn-untracked-expenses
    name: Untracked Recurring Expenses
    severity: warning
    type: regex
    pattern:
      - "(?i)(subscri|saas|tool|service)(?!.*\\$/.*month|.*cost|.*expense|.*budget)"
    message: "Service mentioned without cost tracking. Document all recurring expenses."
    fix_action: "Track: 'Service X: $Y/month, Service Z: $A/month' in budget sheet"
    applies_to:
      - "**/*.md"

  - id: burn-optimistic-projections
    name: Optimistic Revenue Projections
    severity: warning
    type: regex
    pattern:
      - "(?i)(expect|project|forecast)\\s+(revenue|sales)(?!.*conservative|.*worst\\s+case|.*assume)"
    message: "Revenue projection without conservative scenario. Model worst-case assumptions."
    fix_action: "Add: 'Best: $X, Likely: $Y, Worst: $Z - planning for Worst case'"
    applies_to:
      - "**/*.md"

  - id: burn-no-metrics
    name: No Burn Rate Metrics
    severity: error
    type: regex
    pattern:
      - "(?i)burn\\s+rate(?!.*\\$\\d+|.*per\\s+month|.*monthly)"
    message: "Burn rate mentioned without specific dollar amount per month."
    fix_action: "Add: 'Current burn: $X/month, Target: $Y/month by [date]'"
    applies_to:
      - "**/*.md"

  - id: burn-no-cash-tracking
    name: Cash Balance Not Tracked
    severity: critical
    type: regex
    pattern:
      - "(?i)(finances|money|cash)(?!.*\\$\\d+|.*balance|.*bank|.*current)"
    message: "Cash mentioned but not tracked. Know your exact cash balance weekly."
    fix_action: "Track weekly: 'Cash balance: $X as of [date], Updated every Monday'"
    applies_to:
      - "**/*.md"

  - id: burn-hiring-without-runway
    name: Hiring Without Runway Check
    severity: critical
    type: regex
    pattern:
      - "(?i)(hire|hiring|new\\s+role|position)(?!.*runway|.*afford|.*burn)"
    message: "Hiring plan without runway impact analysis. Each hire costs 12-18 months comp."
    fix_action: "Calculate: 'New hire costs $X/year, reduces runway by Y months to Z months'"
    applies_to:
      - "**/*.md"

  - id: burn-no-milestones
    name: No Cash Milestones Defined
    severity: warning
    type: regex
    pattern:
      - "(?i)milestones?(?!.*revenue|.*profitability|.*reduce\\s+burn|.*extend\\s+runway)"
    message: "Milestones without cash impact. Link to revenue, burn reduction, or fundraising."
    fix_action: "Add: 'Milestone X by [date]: Hit $Y MRR, reduces burn to $Z/month'"
    applies_to:
      - "**/*.md"

  - id: burn-no-zero-plan
    name: No Plan B for Running Out
    severity: critical
    type: regex
    pattern:
      - "(?i)runway(?!.*if we|.*plan\\s+b|.*fallback|.*contingency)"
    message: "No contingency plan for low runway. Define actions at 12mo, 6mo, 3mo marks."
    fix_action: "Add: 'If runway < 6mo: freeze hiring, cut X. If < 3mo: reduce to 2 founders'"
    applies_to:
      - "**/*.md"

  - id: burn-vanity-metrics
    name: Tracking Vanity Not Cash Metrics
    severity: warning
    type: regex
    pattern:
      - "(?i)(tracking|measuring)\\s+(followers|likes|page\\s+views|signups)(?!.*revenue|.*paying)"
    message: "Tracking vanity metrics, not cash metrics. Focus on revenue, burn, runway."
    fix_action: "Prioritize: MRR, burn rate, runway, CAC payback, gross margin"
    applies_to:
      - "**/*.md"

  - id: burn-unclear-path-profitability
    name: No Path to Profitability
    severity: error
    type: regex
    pattern:
      - "(?i)(profitable|profitability)(?!.*when|.*by\\s+\\d|.*at\\s+\\$\\d|.*month)"
    message: "Profitability mentioned without timeline or revenue target."
    fix_action: "Define: 'Profitable at $X MRR (covers $Y burn), achievable by [date]'"
    applies_to:
      - "**/*.md"

  - id: burn-no-review-cadence
    name: No Regular Burn Review
    severity: warning
    type: regex
    pattern:
      - "(?i)(burn|budget|runway)(?!.*weekly|.*monthly|.*review|.*check)"
    message: "No regular burn review cadence. Review weekly/monthly to catch increases early."
    fix_action: "Set: 'Monthly burn review: compare actual to budget, adjust forecast'"
    applies_to:
      - "**/*.md"
