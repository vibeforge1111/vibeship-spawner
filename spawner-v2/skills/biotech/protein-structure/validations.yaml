validations:

  - id: using-low-plddt-regions
    name: Analysis on Low-Confidence Regions
    severity: warning
    type: regex
    pattern:
      - "binding_site.*residue.*pLDDT.*<\\s*50"
      - "dock.*region.*confidence.*low"
      - "interpret.*loop.*disordered"
    message: "Avoid structural interpretation of regions with pLDDT < 50 (likely disordered)."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: no-plddt-check
    name: Structure Analysis Without Confidence Check
    severity: info
    type: regex
    pattern:
      - "load.*alphafold.*pdb(?![\\s\\S]{0,300}plddt|bfactor|confidence)"
      - "PDBParser.*alphafold(?![\\s\\S]{0,300}bfactor)"
    message: "Check pLDDT (B-factor column) before interpreting AlphaFold structures."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: no-pae-for-complex
    name: Complex Analysis Without PAE Check
    severity: warning
    type: regex
    pattern:
      - "multimer|complex.*predict(?![\\s\\S]{0,500}pae|predicted_aligned_error)"
      - "interface.*analysis(?![\\s\\S]{0,300}pae)"
    message: "Check PAE matrix for domain/interface confidence in complexes."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: single-model-only
    name: Using Only Top-Ranked Model
    severity: info
    type: regex
    pattern:
      - "ranked_0\\.pdb(?![\\s\\S]{0,200}ranked_[1-4])"
      - "model_0(?![\\s\\S]{0,200}model_[1-4])"
    message: "Consider comparing multiple ranked models for conformational diversity."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: no-relaxation
    name: Using Unrelaxed Model for Downstream
    severity: info
    type: regex
    pattern:
      - "unrelaxed.*\\.pdb.*dock"
      - "predict(?![\\s\\S]{0,200}relax|amber).*structure"
    message: "Consider AMBER relaxation before docking or molecular dynamics."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: missing-glycan-consideration
    name: Glycoprotein Without Glycan Note
    severity: info
    type: regex
    pattern:
      - "antibody.*epitope.*predict"
      - "surface.*accessibility.*glycoprotein"
    message: "Consider glycan shielding effects for glycoprotein analysis."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: trusting-af-interface
    name: Trusting Predicted Interface Without Validation
    severity: warning
    type: regex
    pattern:
      - "interface.*residue.*alphafold.*interact"
      - "complex.*predict.*binding_site"
    message: "Validate predicted interfaces experimentally; ipTM > 0.8 for high confidence."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: outdated-alphafold-db
    name: Using Old AlphaFold DB Version
    severity: info
    type: regex
    pattern:
      - "alphafold.*v[12](?!v4)"
      - "AF-.*-F1-model_v[12]"
    message: "Consider using AlphaFold DB v4 for latest predictions."
    applies_to:
      - "**/*.py"
      - "**/*.sh"
