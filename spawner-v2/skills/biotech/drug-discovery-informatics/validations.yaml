validations:

  - id: no-pains-filter
    name: Screening Without PAINS Filter
    severity: warning
    type: regex
    pattern:
      - "screen.*compound(?![\\s\\S]{0,500}pains|filter)"
      - "virtual.*screen(?![\\s\\S]{0,500}pains|filter_catalog)"
    message: "Filter PAINS (pan-assay interference compounds) before screening."
    fix_action: "Add FilterCatalog with PAINS filters"
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: docking-score-as-kd
    name: Treating Docking Score as Binding Affinity
    severity: warning
    type: regex
    pattern:
      - "docking.*score.*\\bKd\\b|\\bKi\\b"
      - "affinity.*=.*docking_score"
      - "predicted.*binding.*kcal"
    message: "Docking scores are relative rankings, not absolute affinities."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: small-docking-box
    name: Docking Box Too Small
    severity: info
    type: regex
    pattern:
      - "box_size.*=.*\\(\\s*[0-9]\\s*,"
      - "size_[xyz].*=.*[0-9](?![0-9])"
    message: "Docking box may be too small. Typical size is 15-25 Angstroms per dimension."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: no-admet-check
    name: Lead Optimization Without ADMET Tracking
    severity: warning
    type: regex
    pattern:
      - "optimize.*potency(?![\\s\\S]{0,500}admet|lipinski|druglike)"
      - "lead.*optimization(?![\\s\\S]{0,500}properties)"
    message: "Include ADMET property monitoring during lead optimization."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: no-consensus-scoring
    name: Single Docking Program Only
    severity: info
    type: regex
    pattern:
      - "vina\\.dock(?![\\s\\S]{0,500}glide|gold|gnina)"
      - "run_docking(?![\\s\\S]{0,300}consensus)"
    message: "Consider consensus scoring from multiple docking programs."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: random-train-test-split
    name: Random Split for QSAR (Not Scaffold-Based)
    severity: warning
    type: regex
    pattern:
      - "train_test_split.*smiles|compound"
      - "random.*split.*activity"
    message: "Use scaffold-based split for QSAR to avoid data leakage."
    fix_action: "Use GroupShuffleSplit with molecule scaffolds"
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: no-lipinski-check
    name: Compounds Without Drug-Likeness Filter
    severity: info
    type: regex
    pattern:
      - "generate.*molecule(?![\\s\\S]{0,500}lipinski|druglike|ro5)"
      - "library.*compound(?![\\s\\S]{0,500}filter)"
    message: "Apply Lipinski's Rule of Five or similar drug-likeness filter."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"

  - id: hardcoded-binding-site
    name: Hardcoded Binding Site Coordinates
    severity: info
    type: regex
    pattern:
      - "center_[xyz].*=.*[0-9]+\\.[0-9]+"
      - "binding_site.*=.*\\[.*[0-9]+\\.[0-9]+"
    message: "Define binding site from structure or ligand, not hardcoded values."
    applies_to:
      - "**/*.py"
      - "**/*.ipynb"
