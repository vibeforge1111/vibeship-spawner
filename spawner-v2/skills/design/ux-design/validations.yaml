# UX Design Validations
# Automated checks to catch UX design anti-patterns

validations:
  - id: missing-form-labels
    name: Missing Form Labels
    severity: error
    type: regex
    pattern: '<input(?![^>]*aria-label)(?![^>]*id=["''][^"'']+["''][^>]*>.*<label[^>]+for=["''][^"'']+["''])|<input[^>]+placeholder=["''][^"'']+["''](?![^>]*<label)'
    message: "Form input missing accessible label. Placeholder is not a replacement."
    fix_action: "Add proper <label> element or aria-label attribute"
    applies_to:
      - "*.tsx"
      - "*.jsx"
      - "*.html"

  - id: no-form-error-handling
    name: Missing Form Error Messages
    severity: error
    type: regex
    pattern:
      - '<form(?!.*error)(?!.*invalid)(?!.*aria-invalid)'
    message: "Form missing error handling and validation feedback."
    fix_action: "Add error state UI, error messages, and aria-invalid attributes"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: no-loading-state
    name: Missing Loading State
    severity: warning
    type: regex
    pattern: 'onClick.*fetch\((?!.*loading)(?!.*isLoading)|onSubmit.*axios\.(?!.*loading)'
    message: "Async action missing loading state feedback."
    fix_action: "Add loading state with spinner/skeleton and disable button during load"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: poor-button-microcopy
    name: Generic Button Text
    severity: warning
    type: regex
    pattern:
      - '<button[^>]*>(Submit|Click Here|Click Me|Button|OK)</button>'
    message: "Button text is generic. Use action-oriented microcopy."
    fix_action: "Use specific action words (e.g., 'Create Account', 'Download Report', 'Save Changes')"
    applies_to:
      - "*.tsx"
      - "*.jsx"
      - "*.html"

  - id: missing-empty-state
    name: Missing Empty State UI
    severity: warning
    type: regex
    pattern:
      - '\.length === 0.*<div>No data|\.length === 0.*<p>Empty'
    message: "Empty state lacks helpful UI. Guide users on next action."
    fix_action: "Add illustration, helpful message, and CTA (e.g., 'Create your first item')"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: destructive-action-no-confirm
    name: Destructive Action Without Confirmation
    severity: error
    type: regex
    pattern: 'onClick.*delete(?!.*confirm)(?!.*modal)|onClick.*remove(?!.*confirm)(?!.*dialog)'
    message: "Destructive action (delete/remove) lacks confirmation dialog."
    fix_action: "Add confirmation modal/dialog before executing destructive actions"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: no-success-feedback
    name: Missing Success Feedback
    severity: warning
    type: regex
    pattern:
      - 'onSubmit.*(?!toast)(?!notification)(?!success)'
    message: "Form submission missing success feedback."
    fix_action: "Show toast notification, success message, or redirect with confirmation"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: poor-password-ux
    name: Password Field UX Issues
    severity: warning
    type: regex
    pattern:
      - "<input[^>]+type=[\"']password[\"'](?!.*toggle)(?!.*show)"
    message: "Password field missing show/hide toggle."
    fix_action: "Add password visibility toggle button for better UX"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: no-input-helper-text
    name: Missing Input Helper Text
    severity: info
    type: regex
    pattern: '<input[^>]+type=["\']email["\'](?!.*help)(?!.*hint)|<input[^>]+type=["\']password["\'](?!.*requirements)'
    message: "Complex input field missing helper text or format examples."
    fix_action: "Add helper text explaining format or requirements (e.g., 'Enter your work email')"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: pagination-no-state
    name: Pagination Missing Current State
    severity: warning
    type: regex
    pattern:
      - 'pagination(?!.*active)(?!.*current)'
    message: "Pagination component not showing current page clearly."
    fix_action: "Highlight current page and show total pages (e.g., 'Page 2 of 10')"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: modal-no-close-button
    name: Modal Missing Close Button
    severity: error
    type: regex
    pattern:
      - '<(dialog|Modal)(?!.*close)(?!.*onClose)'
    message: "Modal/dialog missing clear close mechanism."
    fix_action: "Add close button (X icon) and ESC key handler"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: no-keyboard-navigation
    name: Missing Keyboard Navigation
    severity: error
    type: regex
    pattern:
      - '<div[^>]+onClick(?!.*onKeyDown)(?!.*onKeyPress)'
    message: "Click handler on non-button element without keyboard support."
    fix_action: "Add onKeyDown handler or use semantic <button> element instead"
    applies_to:
      - "*.tsx"
      - "*.jsx"
