id: color-theory-collaboration
skill: color-theory
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: ui-design
    context: "UI needs color system or palette work"
    receives:
      - "Component designs requiring color"
      - "Existing color usage patterns"
      - "Target platforms and devices"
      - "Accessibility requirements"
    provides: "Color tokens, contrast-verified palettes, dark mode colors"

  - skill: design-systems
    context: "Design system needs color architecture"
    receives:
      - "Token structure requirements"
      - "Theming needs"
      - "Platform constraints"
      - "Brand integration needs"
    provides: "Complete color token system with primitives, semantics, and component layers"

  - skill: accessibility
    context: "Accessibility audit found color issues"
    receives:
      - "WCAG failures and locations"
      - "Contrast ratio requirements"
      - "Color blindness concerns"
      - "Focus indicator issues"
    provides: "Compliant color alternatives, accessible palette, verified ratios"

  - skill: branding
    context: "Brand colors need digital application"
    receives:
      - "Brand color values"
      - "Usage guidelines"
      - "Print color specs"
      - "Tone and personality"
    provides: "Digital color system, accessible variants, dark mode adaptations"

  - skill: frontend
    context: "Implementation needs color guidance"
    receives:
      - "Technical constraints"
      - "Browser support requirements"
      - "CSS architecture"
      - "Framework specifics"
    provides: "CSS custom properties, Tailwind config, color functions, fallbacks"

  - skill: data-visualization
    context: "Charts need distinguishable colors"
    receives:
      - "Data types and series count"
      - "Chart types being used"
      - "Accessibility requirements"
      - "Print/export needs"
    provides: "Categorical, sequential, and diverging palettes optimized for data viz"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "component|layout|spacing|typography"
    delegate_to: ui-design
    pattern: sequential
    context: "Color work complete, needs component application"
    handoff_data:
      - "Color token system"
      - "Usage guidelines"
      - "Contrast requirements"
      - "State color mappings"
    receive: "Component designs with colors applied"

  - trigger: "token|design system|theme|architecture"
    delegate_to: design-systems
    pattern: parallel
    context: "Color tokens need system integration"
    handoff_data:
      - "Token naming conventions"
      - "Layer structure"
      - "Theme variants"
      - "Override patterns"
    receive: "Integrated token architecture"

  - trigger: "implement|code|css|tailwind"
    delegate_to: frontend
    pattern: sequential
    context: "Color system ready for implementation"
    handoff_data:
      - "CSS custom properties"
      - "Color functions"
      - "Fallback strategies"
      - "Browser support needs"
    receive: "Implemented color system"

  - trigger: "wcag|audit|compliance|screen reader"
    delegate_to: accessibility
    pattern: parallel
    context: "Colors need accessibility verification"
    handoff_data:
      - "Color combinations"
      - "Intended contrast ratios"
      - "Interactive element colors"
      - "Focus indicator specs"
    receive: "Accessibility audit results"

  - trigger: "brand|identity|logo|guidelines"
    delegate_to: branding
    pattern: parallel
    context: "Digital colors need brand alignment"
    handoff_data:
      - "Digital color proposals"
      - "Accessibility constraints"
      - "Dark mode requirements"
    receive: "Brand approval and guidelines"

  - trigger: "chart|graph|visualization|dashboard"
    delegate_to: data-visualization
    pattern: parallel
    context: "Data visualization needs color palette"
    handoff_data:
      - "Categorical palette"
      - "Sequential scales"
      - "Diverging scales"
      - "Accessibility notes"
    receive: "Visualization implementation needs"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: accessibility
      signal: "Contrast failures or color blindness issues"
      action: "Adjust problematic colors while maintaining harmony"

    - skill: frontend
      signal: "Browser rendering differences or performance issues"
      action: "Simplify color calculations, add fallbacks"

    - skill: ui-design
      signal: "Colors don't work in component context"
      action: "Provide alternative values, adjust semantics"

    - skill: branding
      signal: "Colors drift from brand guidelines"
      action: "Realign digital palette with brand values"

  sends_feedback_to:
    - skill: branding
      signal: "Brand colors have accessibility issues"
      action: "Propose accessible alternatives for digital use"

    - skill: ui-design
      signal: "Color usage inconsistencies detected"
      action: "Flag violations of color system"

    - skill: design-systems
      signal: "Token structure improvements"
      action: "Propose naming or organization updates"

    - skill: frontend
      signal: "Implementation differs from spec"
      action: "Clarify intended color values and behavior"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Color Psychology
    insight: |
      Psychologists understand emotional color response:
      - Blue evokes trust and calm (used by banks, healthcare)
      - Red triggers urgency and attention (alerts, sales)
      - Green signals safety and nature (eco, health)
      - Yellow activates optimism but can cause anxiety
      - Orange drives action without red's aggression
      - Purple suggests luxury and creativity

      BUT: Personal and cultural experience overrides universal responses.
      Test with your actual users, not psychology textbooks.
    applies_when: "Choosing primary brand colors, designing emotional UI states"

  - domain: Fine Art (Color Theory)
    insight: |
      Artists understand color relationships:
      - Josef Albers: Color is relative, always influenced by context
      - Simultaneous contrast: Colors shift based on neighbors
      - Complementary colors create vibration and tension
      - Analogous colors create harmony and calm
      - Value (lightness) matters more than hue for readability

      The same hex code looks different everywhere it appears.
      Always judge colors in context, not in isolation.
    applies_when: "Creating color harmonies, debugging 'wrong' colors"

  - domain: Neuroscience (Visual Perception)
    insight: |
      Neuroscientists understand how we see color:
      - Cones: Red (L), Green (M), Blue (S) - we're most sensitive to green
      - Color constancy: Brain adjusts perceived color based on context
      - Chromatic adaptation: Eyes adjust to ambient lighting
      - Mach bands: We perceive edges as more contrasty than they are
      - Peripheral vision is nearly colorblind (rod-dominated)

      Design for the center of vision, not the edges.
      Critical info needs contrast, not just color.
    applies_when: "Designing for attention, optimizing visual hierarchy"

  - domain: Printing Industry
    insight: |
      Printers understand color reproduction:
      - RGB (screen) â‰  CMYK (print) - different gamuts
      - Pantone provides consistent cross-media colors
      - Paper stock affects color appearance
      - Screen proofs never perfectly match print

      If brand consistency across media matters, define colors in
      multiple systems: Hex, RGB, CMYK, Pantone.
    applies_when: "Creating brand colors, designing for print+digital"

  - domain: Cinematography
    insight: |
      Colorists understand emotional color grading:
      - Warm tints (orange/yellow) feel nostalgic, friendly
      - Cool tints (blue/teal) feel modern, professional
      - Desaturation creates seriousness, documentary feel
      - High saturation creates energy, youth, playfulness
      - Complementary split: Teal shadows + orange highlights

      Film color grading principles apply to UI mood setting.
    applies_when: "Establishing brand mood, creating theme variations"

  - domain: Optometry/Ophthalmology
    insight: |
      Eye doctors understand vision impairment:
      - Presbyopia: Age-related focus difficulty (need larger text)
      - Cataracts: Yellowing lens (blues appear darker)
      - Glaucoma: Peripheral vision loss
      - Macular degeneration: Central vision loss
      - Color blindness: 8% men, 0.5% women

      Design for the 70-year-old with mild cataracts using a
      cheap monitor in bright sunlight. That's your edge case.
    applies_when: "Designing for accessibility, setting contrast requirements"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Brand Color System Build
    skills:
      - color-theory
      - branding
      - ui-design
      - frontend
    workflow: |
      1. Brand foundation (branding)
         - Core color values
         - Personality and tone

      2. Digital color system (color-theory)
         - Accessible variants
         - Tint/shade scales
         - Dark mode adaptation
         - Semantic mappings

      3. Component application (ui-design)
         - Apply to components
         - State colors
         - Interactive feedback

      4. Implementation (frontend)
         - CSS variables
         - Tailwind config
         - Theme switching

  - name: Dark Mode Implementation
    skills:
      - color-theory
      - ui-design
      - frontend
      - accessibility
    workflow: |
      1. Light mode audit (color-theory)
         - Document current colors
         - Identify semantic usage

      2. Dark adaptation (color-theory)
         - Transform each color
         - Reduce saturation
         - Adjust lightness
         - Define surface elevation

      3. Component mapping (ui-design)
         - Apply to all states
         - Test in context

      4. Accessibility check (accessibility)
         - Verify contrast ratios
         - Test color blindness

      5. Implementation (frontend)
         - Theme provider
         - CSS custom properties
         - Transition handling

  - name: Data Visualization Colors
    skills:
      - color-theory
      - data-visualization
      - accessibility
      - frontend
    workflow: |
      1. Palette creation (color-theory)
         - Categorical colors (distinguishable)
         - Sequential scales
         - Diverging scales

      2. Accessibility verification (accessibility)
         - Color blind simulation
         - Contrast checking
         - Pattern alternatives

      3. Chart application (data-visualization)
         - Map to data types
         - Legend design
         - Interactive states

      4. Implementation (frontend)
         - Chart library config
         - Theme integration

  - name: Accessibility Remediation
    skills:
      - accessibility
      - color-theory
      - ui-design
      - frontend
    workflow: |
      1. Audit (accessibility)
         - Identify failures
         - Document locations
         - Prioritize by severity

      2. Color fixes (color-theory)
         - Propose alternatives
         - Maintain brand recognition
         - Create compliant variants

      3. Design update (ui-design)
         - Apply fixes to components
         - Update design system

      4. Implementation (frontend)
         - Deploy fixes
         - Update tokens
         - Regression testing

# ============================================================================
# PREREQUISITES
# ============================================================================
prerequisites:
  understanding_required:
    - name: Color Spaces
      description: |
        Understand the difference between:
        - sRGB: Standard web color space
        - Display P3: Wide gamut for modern displays
        - OKLCH/OKLAB: Perceptually uniform spaces
        - HSL/HSB: Intuitive but not perceptually uniform
        - CMYK: Subtractive for print

    - name: WCAG Accessibility Standards
      description: |
        Know the contrast requirements:
        - AA: 4.5:1 normal text, 3:1 large text
        - AAA: 7:1 normal text, 4.5:1 large text
        - UI components: 3:1 minimum
        - Focus indicators: 3:1 against adjacent colors

    - name: Color Blindness Types
      description: |
        Understand the three main types:
        - Protanopia: No red cones (1% of men)
        - Deuteranopia: No green cones (6% of men)
        - Tritanopia: No blue cones (rare)
        - Achromatopsia: Complete color blindness (very rare)

    - name: CSS Color Functions
      description: |
        Know how to use:
        - rgb(), rgba()
        - hsl(), hsla()
        - oklch(), oklab()
        - color-mix()
        - color()
        - light-dark()

  tools_familiarity:
    - name: Contrast Checkers
      tools:
        - WebAIM Contrast Checker
        - Stark (Figma plugin)
        - Chrome DevTools contrast
        - Polypane

    - name: Color Blindness Simulators
      tools:
        - Sim Daltonism (Mac)
        - Color Oracle (Windows/Mac/Linux)
        - Figma Stark plugin
        - Chrome DevTools Rendering

    - name: Color Palette Tools
      tools:
        - Adobe Color
        - Coolors
        - Paletton
        - ColorBox by Lyft
        - Tailwind color palette generator

# ============================================================================
# HANDOFF CHECKLISTS
# ============================================================================
handoff_checklists:
  to_frontend:
    - "CSS custom property definitions"
    - "Fallback values for older browsers"
    - "Dark mode transformation logic"
    - "Color function usage (color-mix, oklch)"
    - "Browser support requirements"
    - "Tailwind config (if applicable)"

  to_ui_design:
    - "Complete color token list"
    - "Semantic color mappings"
    - "State color variants (hover, active, disabled)"
    - "Contrast ratio documentation"
    - "Dark mode equivalents"
    - "Usage guidelines"

  to_accessibility:
    - "All color combinations with ratios"
    - "Color blindness simulation results"
    - "Focus indicator specifications"
    - "Non-color indicator pairings"
    - "Known edge cases"

  to_branding:
    - "Digital color adaptations"
    - "Accessibility constraints explained"
    - "Print vs digital differences"
    - "Proposed accessible alternatives"
    - "Dark mode brand presence"
