id: typography-collaboration
skill: typography
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: ui-design
    context: "UI needs typography system"
    receives:
      - "Component requirements"
      - "Design system constraints"
      - "Hierarchy needs"
    provides: "Type scale, font selections, line-height system"

  - skill: branding
    context: "Brand needs typography guidelines"
    receives:
      - "Brand personality"
      - "Target audience"
      - "Platform requirements"
    provides: "Brand typography system"

  - skill: design-systems
    context: "Design system needs typography tokens"
    receives:
      - "Token structure"
      - "Platform targets"
      - "Theming requirements"
    provides: "Typography tokens and documentation"

  - skill: frontend
    context: "Implementation needs typography specs"
    receives:
      - "Performance budget"
      - "Browser requirements"
      - "Framework constraints"
    provides: "Font loading strategy, CSS implementation"

  - skill: accessibility
    context: "Typography needs accessibility review"
    receives:
      - "WCAG requirements"
      - "User needs"
      - "Compliance level"
    provides: "Accessible typography recommendations"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "implement|code|build|CSS|loading"
    delegate_to: frontend
    pattern: sequential
    context: "Typography needs implementation"
    handoff_data:
      - "Font files and formats"
      - "Loading strategy"
      - "CSS specifications"
      - "Fallback font metrics"
    receive: "Optimized font loading implementation"

  - trigger: "component|button|form|card|UI"
    delegate_to: ui-design
    pattern: parallel
    context: "Typography applied to UI components"
    handoff_data:
      - "Type scale"
      - "Hierarchy rules"
      - "Font selections"
    receive: "Component designs with typography"

  - trigger: "brand|identity|logo|voice"
    delegate_to: branding
    pattern: parallel
    context: "Typography needs brand alignment"
    handoff_data:
      - "Typography recommendations"
      - "Font pairing options"
      - "Voice considerations"
    receive: "Brand typography guidelines"

  - trigger: "accessibility|a11y|WCAG|contrast|readable"
    delegate_to: accessibility
    pattern: parallel
    context: "Typography needs accessibility validation"
    handoff_data:
      - "Type scale and sizes"
      - "Line heights"
      - "Color combinations"
    receive: "Accessibility audit and fixes"

  - trigger: "design system|tokens|theme|multi-platform"
    delegate_to: design-systems
    pattern: sequential
    context: "Typography needs systemization"
    handoff_data:
      - "Complete typography specs"
      - "Responsive behavior"
      - "Usage guidelines"
    receive: "Typography tokens in all formats"

# ============================================================================
# PREREQUISITES
# ============================================================================
prerequisites:
  required_knowledge:
    - name: Font Licensing
      description: |
        Understanding font licensing is critical:
        - Desktop licenses don't cover web use
        - Pageview limits on web licenses
        - Self-hosting vs CDN implications
        - Open source fonts (SIL OFL) vs commercial
        Always verify license before recommending fonts.

    - name: Web Font Formats
      description: |
        Format priority and support:
        - WOFF2: Best compression, 95%+ support
        - WOFF: Fallback for older browsers
        - TTF/OTF: Avoid for web (larger files)
        Variable fonts: format('woff2-variations')

    - name: Type Anatomy
      description: |
        Key terms for professional typography:
        - x-height: Height of lowercase 'x'
        - Ascender/descender: Parts above/below x-height
        - Counter: Enclosed space in letters (o, e)
        - Kerning: Space between specific letter pairs
        - Tracking: Overall letter spacing
        - Leading: Line height (from lead strips in printing)

    - name: Optical Sizing
      description: |
        Fonts behave differently at different sizes:
        - Display fonts (48px+): Thin strokes, tight spacing OK
        - Text fonts (12-24px): Generous x-height, open counters
        - Caption fonts (8-12px): Even more open, heavier strokes
        Some variable fonts have optical size axis (opsz).

  recommended_tools:
    - name: Type Scale Calculator
      url: "https://type-scale.com"
      purpose: "Generate harmonious type scales with ratio presets"

    - name: Utopia
      url: "https://utopia.fyi"
      purpose: "Fluid typography and spacing calculator"

    - name: Wakamaifondue
      url: "https://wakamaifondue.com"
      purpose: "Inspect font files, see all OpenType features"

    - name: FontDrop
      url: "https://fontdrop.info"
      purpose: "Preview fonts, check character support"

    - name: Glyphhanger
      url: "https://github.com/zachleat/glyphhanger"
      purpose: "Font subsetting for production"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: frontend
      signal: "Font loading performance metrics"
      action: "Optimize fonts, reduce weights, improve loading strategy"

    - skill: accessibility
      signal: "Readability issues, contrast failures"
      action: "Adjust sizes, line-heights, font selections"

    - skill: ui-design
      signal: "Hierarchy not working in context"
      action: "Refine type scale, adjust weights"

    - skill: analytics
      signal: "User engagement, time on page"
      action: "Evaluate readability impact on metrics"

  sends_feedback_to:
    - skill: branding
      signal: "Typography limitations in digital"
      action: "Inform brand guideline adjustments"

    - skill: ui-design
      signal: "Type scale implementation"
      action: "Guide component typography decisions"

    - skill: frontend
      signal: "Font performance recommendations"
      action: "Optimize loading implementation"

    - skill: design-systems
      signal: "Typography token updates"
      action: "Update design system documentation"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Print Typography
    insight: |
      Print typographers have centuries of wisdom:
      - Optimal line length: 45-75 characters
      - Baseline grids create harmony
      - Rivers of white space destroy justified text
      - Orphans and widows disrupt reading
      - Hierarchy through size, weight, AND space
      Web typography inherits these principles.
    applies_when: "Setting body text, creating editorial layouts"

  - domain: Calligraphy
    insight: |
      Calligraphers understand letterform relationships:
      - Stroke weight creates visual balance
      - Consistent angles create rhythm
      - Counter spaces define readability
      - Optical adjustments beat mathematical precision
      Font selection benefits from calligraphic awareness.
    applies_when: "Evaluating font quality, pairing typefaces"

  - domain: Cognitive Psychology
    insight: |
      Psychologists know how we read:
      - We recognize word shapes, not individual letters
      - All caps removes shape differentiation
      - Saccades (eye jumps) span ~8-10 characters
      - Working memory limits affect comprehension
      - Familiar fonts read faster (don't get too creative)
      Typography choices have measurable cognitive impact.
    applies_when: "Optimizing for readability and comprehension"

  - domain: Accessibility Research
    insight: |
      Accessibility experts have data on readable type:
      - Dyslexic users need generous spacing
      - Low vision users need 4.5:1+ contrast
      - Cognitive load increases with decorative fonts
      - Line height of 1.5+ reduces tracking errors
      - User font preferences exist for good reason
      Accessible typography helps everyone.
    applies_when: "Making any typography decisions"

  - domain: Performance Engineering
    insight: |
      Performance engineers optimize font delivery:
      - Font files are render-blocking
      - WOFF2 compression: 30-50% smaller
      - Subsetting removes unused glyphs
      - Preload eliminates discovery delay
      - font-display controls rendering behavior
      Typography and performance are intertwined.
    applies_when: "Implementing fonts for production"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Design System Typography
    skills:
      - typography
      - design-systems
      - ui-design
      - frontend
    workflow: |
      1. Define type scale and pairing (typography)
      2. Create design tokens (design-systems)
      3. Apply to components (ui-design)
      4. Implement with optimization (frontend)

  - name: Brand Typography
    skills:
      - typography
      - branding
      - ui-design
    workflow: |
      1. Define brand personality (branding)
      2. Select typefaces that express personality (typography)
      3. Apply across brand touchpoints (ui-design, branding)
      4. Document in brand guidelines (branding)

  - name: Accessible Editorial Design
    skills:
      - typography
      - accessibility
      - frontend
    workflow: |
      1. Define readable type system (typography)
      2. Validate WCAG compliance (accessibility)
      3. Implement with performance (frontend)
      4. Test with real users (accessibility)

  - name: Performance-First Typography
    skills:
      - typography
      - frontend
      - devops
    workflow: |
      1. Select efficient fonts (typography)
      2. Optimize loading strategy (typography)
      3. Implement with metrics (frontend)
      4. Monitor Core Web Vitals (devops)

# ============================================================================
# BOUNDARY DEFINITIONS
# ============================================================================
boundaries:
  owns_completely:
    - "Font selection and pairing"
    - "Type scale definition"
    - "Line height and measure"
    - "Font loading strategy"
    - "Typographic hierarchy"
    - "OpenType feature usage"
    - "Variable font implementation"
    - "Vertical rhythm"

  shared_with:
    - skill: ui-design
      shared: "Typography in component context"
      typography_provides: "System and rules"
      other_provides: "Application and variants"

    - skill: branding
      shared: "Brand typography selection"
      typography_provides: "Technical recommendations"
      other_provides: "Brand personality direction"

    - skill: frontend
      shared: "Font loading implementation"
      typography_provides: "Strategy and specifications"
      other_provides: "Technical implementation"

    - skill: accessibility
      shared: "Readable typography"
      typography_provides: "Type choices and sizing"
      other_provides: "Compliance validation"

  defers_to:
    - skill: branding
      when: "Brand personality and font licensing decisions"

    - skill: frontend
      when: "Technical implementation constraints"

    - skill: accessibility
      when: "WCAG compliance requirements"

    - skill: design-systems
      when: "Token naming and structure conventions"
