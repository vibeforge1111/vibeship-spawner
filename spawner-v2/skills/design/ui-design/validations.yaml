# UI Design Validations
# Automated checks to catch UI design anti-patterns

validations:
  - id: inconsistent-spacing-scale
    name: Inconsistent Spacing Scale
    severity: warning
    type: regex
    pattern: '(margin|padding|gap):\s*(3px|5px|7px|9px|11px|13px|15px|17px|19px)|(margin|padding|gap):\s*["'']?(3|5|7|9|11|13|15|17|19)px["'']?'
    message: "Using spacing values outside standard 4px/8px scale."
    fix_action: "Use consistent spacing scale: 4, 8, 12, 16, 20, 24, 32, 40, 48, 64px"
    applies_to:
      - "*.tsx"
      - "*.jsx"
      - "*.css"
      - "*.scss"

  - id: no-dark-mode-support
    name: Missing Dark Mode Support
    severity: warning
    type: regex
    pattern: "bg-white|bg-black(?!.*dark:)|backgroundColor:\\s*[\"']#(fff|000)[\"']"
    message: "Hardcoded light/dark colors without dark mode variants."
    fix_action: "Use semantic color tokens that support dark mode (e.g., bg-background, dark:bg-gray-900)"
    applies_to:
      - "*.tsx"
      - "*.jsx"
      - "*.css"

  - id: poor-color-contrast
    name: Potential Color Contrast Issue
    severity: error
    type: regex
    pattern: 'text-gray-400 bg-white|text-yellow-300|color:\s*#ccc'
    message: "Color combination may fail WCAG contrast requirements."
    fix_action: "Ensure text has 4.5:1 contrast ratio (3:1 for large text). Use contrast checker."
    applies_to:
      - "*.tsx"
      - "*.jsx"
      - "*.css"

  - id: missing-hover-states
    name: Missing Interactive Hover States
    severity: warning
    type: regex
    pattern: '<button(?!.*hover:)|<a[^>]+href(?!.*hover:)'
    message: "Interactive element missing hover state styling."
    fix_action: "Add hover states to all clickable elements (e.g., hover:bg-gray-100)"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: tiny-touch-targets
    name: Touch Target Too Small
    severity: error
    type: regex
    pattern: '<button[^>]+className=["\'][^"\']*text-xs[^"\']*p-1|<button[^>]+className=["\'][^"\']*w-6[^"\']*h-6'
    message: "Touch target smaller than 44x44px minimum (WCAG 2.5.5)."
    fix_action: "Ensure interactive elements are at least 44x44px for mobile accessibility"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: inconsistent-button-height
    name: Inconsistent Button Sizing
    severity: warning
    type: regex
    pattern: '<button[^>]+style={{[^}]*height:|<button[^>]+className=["\'][^"\']*h-\['
    message: "Custom button heights detected. Use standardized button sizes."
    fix_action: "Use button size variants (sm, md, lg) from design system"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: missing-loading-skeleton
    name: No Loading Skeleton
    severity: warning
    type: regex
    pattern: 'isLoading.*<div>Loading\.\.\.</div>|loading.*<p>Loading'
    message: "Basic loading text instead of skeleton UI."
    fix_action: "Replace with skeleton components matching content layout"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: no-disabled-state-styling
    name: Missing Disabled State Styling
    severity: warning
    type: regex
    pattern: '<button[^>]+disabled(?!.*disabled:)|<input[^>]+disabled(?!.*disabled:)'
    message: "Disabled elements missing visual disabled state."
    fix_action: "Add disabled state styling (e.g., disabled:opacity-50 disabled:cursor-not-allowed)"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: inconsistent-icon-sizes
    name: Inconsistent Icon Sizing
    severity: info
    type: regex
    pattern: '<Icon[^>]+size={?(13|15|17|19|21|23|25)}|className=["\'][^"\']*w-\[15px\]'
    message: "Icon sizes outside standard scale (16, 20, 24, 32, 40)."
    fix_action: "Use consistent icon sizes from design system"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: poor-visual-hierarchy
    name: No Visual Hierarchy
    severity: warning
    type: regex
    pattern: '<h1[^>]*className=["\'][^"\']*text-base|<p[^>]*className=["\'][^"\']*text-4xl'
    message: "Text sizing doesn't follow logical hierarchy."
    fix_action: "Use type scale: h1 (text-4xl), h2 (text-3xl), h3 (text-2xl), body (text-base)"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: missing-focus-visible
    name: Missing Keyboard Focus Indicators
    severity: error
    type: regex
    pattern:
      - '<(button|a|input|select|textarea)(?!.*focus:)'
    message: "Interactive element missing keyboard focus indicator."
    fix_action: "Add focus styles (e.g., focus:ring-2 focus:ring-offset-2 focus:outline-none)"
    applies_to:
      - "*.tsx"
      - "*.jsx"

  - id: text-not-selectable
    name: Text Selection Disabled
    severity: warning
    type: regex
    pattern: 'user-select:\s*none|userSelect:\s*["\']none["\']'
    message: "Text selection disabled unnecessarily."
    fix_action: "Only disable text selection on UI controls, not content text"
    applies_to:
      - "*.tsx"
      - "*.jsx"
      - "*.css"
