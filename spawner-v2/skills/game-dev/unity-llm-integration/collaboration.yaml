id: unity-llm-integration-collaboration
skill: unity-llm-integration
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: llm-npc-dialogue
    context: "NPC dialogue system needs Unity implementation"
    receives:
      - "Dialogue system design"
      - "Memory management approach"
      - "Prompt templates"
      - "Character definitions"
    provides: "Working Unity implementation with LLMUnity"

  - skill: game-development
    context: "Game needs AI-powered features in Unity"
    receives:
      - "Game architecture"
      - "Performance requirements"
      - "Target platforms"
    provides: "LLM integration within Unity architecture"

  - skill: llm-architect
    context: "Model selection needs Unity implementation"
    receives:
      - "Model recommendations"
      - "Quantization settings"
      - "Performance targets"
    provides: "Unity-specific configuration for recommended models"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "dialogue design|personality|character prompt"
    delegate_to: llm-npc-dialogue
    pattern: sequential
    context: "Need dialogue system design, not just Unity code"
    handoff_data:
      - "Unity constraints"
      - "Platform targets"
      - "Performance requirements"
    receive: "Dialogue patterns to implement in Unity"

  - trigger: "godot|gdscript"
    delegate_to: godot-llm-integration
    pattern: sequential
    context: "User asking about wrong engine"
    handoff_data:
      - "Requirements (for equivalent solution)"
    receive: "Godot-specific implementation"

  - trigger: "unreal|blueprint|c\\+\\+"
    delegate_to: unreal-llm-integration
    pattern: sequential
    context: "User asking about wrong engine"
    handoff_data:
      - "Requirements (for equivalent solution)"
    receive: "Unreal-specific implementation"

  - trigger: "model selection|which model|quantization|gguf format"
    delegate_to: llm-architect
    pattern: sequential
    context: "Need model recommendation"
    handoff_data:
      - "Unity platform targets"
      - "Memory constraints"
      - "Quality requirements"
    receive: "Model recommendations with Unity config"

  - trigger: "voice|tts|speech synthesis"
    delegate_to: ai-audio-production
    pattern: parallel
    context: "NPC needs voice output"
    handoff_data:
      - "Dialogue output format"
      - "Real-time requirements"
      - "Unity audio system info"
    receive: "TTS integration approach for Unity"

  - trigger: "multiplayer|networking|server"
    delegate_to: backend
    pattern: parallel
    context: "Multiplayer game with AI NPCs"
    handoff_data:
      - "NPC architecture"
      - "Sync requirements"
    receive: "Server-side NPC handling approach"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: qa-engineering
      signal: "Build failures or platform-specific bugs"
      action: "Fix platform-specific issues, add build verification"

    - skill: codebase-optimization
      signal: "Performance issues in Unity profiler"
      action: "Optimize LLM calls, memory usage, threading"

    - skill: llm-npc-dialogue
      signal: "Dialogue system changes"
      action: "Update Unity implementation to match new patterns"

  sends_feedback_to:
    - skill: llm-npc-dialogue
      signal: "Unity-specific constraints"
      action: "Adjust dialogue patterns for Unity limitations"

    - skill: llm-architect
      signal: "Model performance in Unity"
      action: "Request different model recommendations"

    - skill: game-development
      signal: "LLM integration requirements"
      action: "Update game architecture for LLM features"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Mobile Development
    insight: |
      Mobile developers know memory constraints:
      - Apps get killed without warning for memory
      - Thermal throttling reduces performance over time
      - Background app memory reclamation is aggressive
      Unity LLM on mobile needs the same discipline.
    applies_when: "Deploying to iOS or Android"

  - domain: Console Development
    insight: |
      Console developers know certification:
      - No dynamic code loading (affects some LLM approaches)
      - Strict memory budgets
      - Performance requirements are contractual
      Unity LLM on console needs extra planning.
    applies_when: "Considering console deployment"

  - domain: Unity Plugin Development
    insight: |
      Plugin developers know native interop:
      - P/Invoke has overhead
      - Native crashes are hard to debug
      - Platform-specific code paths multiply complexity
      LLMUnity abstracts this but issues still surface.
    applies_when: "Debugging native library issues"

  - domain: Game UX Design
    insight: |
      UX designers know waiting:
      - 100ms feels instant
      - 1 second needs feedback
      - 3+ seconds needs explanation and progress
      LLM response times need appropriate UX treatment.
    applies_when: "Designing dialogue UI and feedback"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Unity AI NPC Complete
    skills:
      - unity-llm-integration
      - llm-npc-dialogue
      - game-development
    workflow: |
      1. Design NPC system (llm-npc-dialogue)
      2. Choose models and config (llm-architect)
      3. Implement in Unity (unity-llm-integration)
      4. Integrate with game (game-development)
      5. Test on all platforms (unity-llm-integration)

  - name: Unity Voice NPCs
    skills:
      - unity-llm-integration
      - llm-npc-dialogue
      - ai-audio-production
    workflow: |
      1. Dialogue system design (llm-npc-dialogue)
      2. LLM integration (unity-llm-integration)
      3. TTS integration (ai-audio-production)
      4. Audio playback in Unity (unity-llm-integration)

  - name: Cross-Platform Unity LLM
    skills:
      - unity-llm-integration
      - llm-architect
      - devops
    workflow: |
      1. Define platform targets (unity-llm-integration)
      2. Select models per platform (llm-architect)
      3. Set up build pipeline (devops)
      4. Implement platform switching (unity-llm-integration)
      5. Test on all targets (unity-llm-integration)
