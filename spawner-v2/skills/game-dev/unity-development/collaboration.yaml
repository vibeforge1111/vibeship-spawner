id: unity-development-collaboration
skill: unity-development
version: 1.0.0

# ==============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ==============================================================================
receives_from:
  - skill: game-design
    context: "Unity implementation of game design"
    receives:
      - "Game design document"
      - "Core mechanics specification"
      - "Game loop requirements"
      - "Player experience goals"
    provides: "Working Unity prototype with mechanics implemented"

  - skill: mobile-game-dev
    context: "Unity mobile implementation"
    receives:
      - "Mobile platform requirements"
      - "Performance budgets"
      - "Input scheme (touch, tilt)"
      - "Monetization integration needs"
    provides: "Optimized Unity mobile build"

  - skill: vr-ar-development
    context: "Unity XR implementation"
    receives:
      - "XR platform targets (Quest, Vive, HoloLens)"
      - "Interaction requirements"
      - "Performance constraints"
      - "Comfort considerations"
    provides: "Unity XR application with proper interactions"

  - skill: product-management
    context: "Game feature implementation"
    receives:
      - "Feature requirements"
      - "User stories"
      - "Success metrics"
      - "Timeline constraints"
    provides: "Playable Unity builds for testing"

  - skill: ui-design
    context: "Unity UI implementation"
    receives:
      - "UI mockups and wireframes"
      - "Art assets"
      - "Animation specifications"
      - "Responsive design requirements"
    provides: "Implemented Unity UI with Canvas/UGUI"

  - skill: backend
    context: "Unity client for backend services"
    receives:
      - "API specifications"
      - "Authentication flow"
      - "Data models"
      - "Real-time requirements"
    provides: "Unity client with backend integration"

# ==============================================================================
# DELEGATION TRIGGERS (When to hand off to other skills)
# ==============================================================================
delegation_triggers:
  - trigger: "shader|hlsl|shadergraph|material|custom rendering|visual effect graph"
    delegate_to: shader-programming
    pattern: parallel
    context: "Need custom shaders or advanced rendering"
    handoff_data:
      - "Visual requirements"
      - "Target platforms"
      - "Performance budget"
      - "Reference images"
    receive: "Shader files, materials, ShaderGraph assets"

  - trigger: "multiplayer|netcode|photon|mirror|networking|lobby|matchmaking"
    delegate_to: game-networking
    pattern: sequential
    context: "Need multiplayer networking implementation"
    handoff_data:
      - "Player count requirements"
      - "Sync requirements (positions, state)"
      - "Latency tolerance"
      - "Platform targets"
    receive: "Network architecture, sync scripts, lobby system"

  - trigger: "audio|sound design|music|fmod|wwise|ambiance|sfx"
    delegate_to: game-audio
    pattern: parallel
    context: "Need audio system implementation"
    handoff_data:
      - "Audio requirements"
      - "Middleware choice (Unity native, FMOD, Wwise)"
      - "Platform targets"
      - "Memory constraints"
    receive: "Audio system, sound integration, music system"

  - trigger: "game ai|pathfinding|navmesh|behavior tree|state machine ai|enemy ai"
    delegate_to: game-ai-behavior
    pattern: parallel
    context: "Need AI and behavior implementation"
    handoff_data:
      - "AI requirements"
      - "Behavior complexity"
      - "Performance budget"
      - "NavMesh requirements"
    receive: "AI scripts, behavior trees, NavMesh setup"

  - trigger: "vr|ar|xr|oculus|openxr|hand tracking|motion controller"
    delegate_to: vr-ar-development
    pattern: sequential
    context: "Need VR/AR specific implementation"
    handoff_data:
      - "Target platform (Quest, PCVR, HoloLens)"
      - "Interaction requirements"
      - "Locomotion needs"
      - "Comfort requirements"
    receive: "XR rig setup, interaction system"

  - trigger: "mobile optimization|ios build|android build|touch input|mobile performance"
    delegate_to: mobile-game-dev
    pattern: sequential
    context: "Need mobile-specific optimization"
    handoff_data:
      - "Target devices (min spec)"
      - "Current performance metrics"
      - "Battery/thermal constraints"
      - "Build size limits"
    receive: "Optimization recommendations, platform-specific code"

  - trigger: "procedural generation|level generation|terrain|noise|dungeon"
    delegate_to: procedural-generation
    pattern: parallel
    context: "Need procedural content generation"
    handoff_data:
      - "Generation requirements"
      - "Seed/reproducibility needs"
      - "Performance constraints"
      - "Content types needed"
    receive: "Generation algorithms, seed systems"

  - trigger: "art|sprites|3d models|animation|rigging"
    delegate_to: pixel-art-sprites
    pattern: parallel
    context: "Need game art assets"
    handoff_data:
      - "Art style requirements"
      - "Resolution/scale"
      - "Animation needs"
      - "Platform constraints"
    receive: "Art assets, sprite sheets, animation files"

  - trigger: "world building|lore|narrative|story|quests"
    delegate_to: worldbuilding
    pattern: parallel
    context: "Need world and narrative design"
    handoff_data:
      - "Game world requirements"
      - "Narrative scope"
      - "Quest system needs"
      - "Dialogue requirements"
    receive: "World design documents, quest structures"

# ==============================================================================
# FEEDBACK LOOPS
# ==============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: qa-engineering
      signal: "Bugs, crashes, performance issues"
      action: "Fix issues, improve stability"

    - skill: codebase-optimization
      signal: "Performance bottlenecks identified"
      action: "Optimize identified systems"

    - skill: mobile-game-dev
      signal: "Mobile-specific issues"
      action: "Apply mobile optimizations"

    - skill: game-design
      signal: "Gameplay feel adjustments"
      action: "Tune mechanics and numbers"

    - skill: vr-ar-development
      signal: "XR comfort or interaction issues"
      action: "Adjust XR implementation"

  sends_feedback_to:
    - skill: game-design
      signal: "Technical constraints or opportunities"
      action: "Adjust design for technical reality"

    - skill: shader-programming
      signal: "Shader performance impact"
      action: "Optimize or simplify shaders"

    - skill: game-networking
      signal: "Client-side network issues"
      action: "Adjust network architecture"

    - skill: game-audio
      signal: "Audio system integration issues"
      action: "Adjust audio implementation"

    - skill: ui-design
      signal: "UI implementation constraints"
      action: "Adjust designs for Unity UI capabilities"

# ==============================================================================
# CROSS-DOMAIN INSIGHTS
# ==============================================================================
cross_domain_insights:
  - domain: Film and Animation
    insight: |
      Animators know the 12 principles apply to games:
      - Anticipation before action
      - Follow-through and overlapping motion
      - Ease in/out for natural movement
      - Secondary action adds life
      Unity's animation system supports all of these - use Animation Curves.
    applies_when: "Creating animations or polishing game feel"

  - domain: Software Architecture
    insight: |
      Enterprise architects know:
      - Dependency injection for testability
      - Event-driven for decoupling
      - Interface segregation for flexibility
      - Single responsibility for maintainability
      Unity's component system is already composition-based - lean into it.
    applies_when: "Architecting game systems"

  - domain: Mobile Development
    insight: |
      Mobile developers know constraints:
      - Battery life matters
      - Thermal throttling is real
      - Memory is limited
      - Network is unreliable
      Profile on actual devices, not just in editor.
    applies_when: "Building for mobile platforms"

  - domain: Psychology
    insight: |
      Psychologists understand player motivation:
      - Variable rewards create engagement
      - Near-misses drive retry behavior
      - Progression systems satisfy mastery needs
      - Social features leverage belongingness
      Game feel is player psychology made tangible.
    applies_when: "Designing reward systems or progression"

  - domain: Performance Engineering
    insight: |
      Performance engineers profile first:
      - Measure before optimizing
      - Focus on actual bottlenecks
      - Memory and CPU trade-offs
      - 90th percentile matters more than average
      Unity Profiler is your friend - use it constantly.
    applies_when: "Optimizing game performance"

# ==============================================================================
# COMMON COMBINATIONS
# ==============================================================================
common_combinations:
  - name: Mobile Unity Game
    skills:
      - unity-development
      - mobile-game-dev
      - game-design
      - ui-design
    workflow: |
      1. Game design defines mechanics (game-design)
      2. UI mockups created (ui-design)
      3. Unity prototype built (unity-development)
      4. Mobile optimization applied (mobile-game-dev)
      5. Iterate on feel (unity-development)

  - name: Unity Multiplayer Game
    skills:
      - unity-development
      - game-networking
      - backend
      - game-design
    workflow: |
      1. Single-player prototype (unity-development)
      2. Network architecture design (game-networking)
      3. Backend services (backend)
      4. Network integration (unity-development + game-networking)
      5. Playtesting and tuning (game-design)

  - name: Unity VR Experience
    skills:
      - unity-development
      - vr-ar-development
      - game-design
      - shader-programming
    workflow: |
      1. VR design and comfort planning (vr-ar-development + game-design)
      2. Core mechanics in Unity (unity-development)
      3. VR-specific interactions (vr-ar-development)
      4. Visual polish and shaders (shader-programming)
      5. Performance optimization (unity-development)

  - name: Unity Game with Custom Shaders
    skills:
      - unity-development
      - shader-programming
      - game-design
    workflow: |
      1. Art direction and requirements (game-design)
      2. Core game systems (unity-development)
      3. Custom shaders and materials (shader-programming)
      4. Integration and optimization (unity-development)

  - name: Unity AI-Driven Game
    skills:
      - unity-development
      - game-ai-behavior
      - game-design
    workflow: |
      1. AI behavior requirements (game-design)
      2. Core game systems (unity-development)
      3. AI implementation (game-ai-behavior)
      4. Integration and tuning (unity-development + game-design)

# ==============================================================================
# PREREQUISITES
# ==============================================================================
prerequisites:
  knowledge:
    - "C# programming fundamentals"
    - "Basic understanding of game loops"
    - "Unity Editor navigation"
    - "Understanding of transforms and GameObjects"

  tools:
    - name: Unity Editor
      version: "2022.3 LTS or newer recommended"
      purpose: "Game development environment"

    - name: Visual Studio or Rider
      version: "Latest"
      purpose: "C# code editing with Unity integration"

    - name: Unity Profiler
      purpose: "Performance analysis (built into Unity)"

  optional_tools:
    - name: UniTask
      purpose: "Better async/await for Unity"
      when: "Any async operations"

    - name: DOTween
      purpose: "Tweening and animation"
      when: "UI animations, juice effects"

    - name: Addressables
      purpose: "Asset management and loading"
      when: "Large projects, DLC, memory management"

    - name: TextMeshPro
      purpose: "High-quality text rendering"
      when: "Any text in game (built into Unity)"

# ==============================================================================
# HANDOFF CHECKLIST
# ==============================================================================
handoff_checklist:
  when_receiving:
    - "Understand target platforms"
    - "Clarify Unity version requirements"
    - "Identify performance constraints"
    - "Review art style and asset requirements"
    - "Understand scope and timeline"

  when_delegating:
    - "Provide clear requirements document"
    - "Share Unity project structure"
    - "Document existing systems that will integrate"
    - "Specify naming conventions and folder structure"
    - "Include platform and performance requirements"

  when_completing:
    - "Project builds without errors"
    - "Core mechanics playable"
    - "Performance profiled on target hardware"
    - "Documentation for custom systems"
    - "Known issues documented"
