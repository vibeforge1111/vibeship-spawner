id: environment-art-collaboration
skill: environment-art
version: 1.0.0

# ============================================================================
# RECEIVES FROM (Who delegates TO this skill)
# ============================================================================
receives_from:
  - skill: level-design
    context: "Level design complete, ready for art pass"
    receives:
      - "Approved blockout/graybox geometry"
      - "Gameplay-locked metrics (cover positions, sightlines)"
      - "Critical path and player flow"
      - "Lighting intentions and mood notes"
      - "Prop callouts for storytelling beats"
    provides: "Fully art-passed environment with modular kits and set dressing"

  - skill: worldbuilding
    context: "World/lore context for environment authenticity"
    receives:
      - "Biome specifications and visual language"
      - "Faction/culture design language"
      - "Historical context for environmental storytelling"
      - "Material and architectural references"
      - "Environmental narrative beats"
    provides: "Environments that reinforce world lore and player immersion"

  - skill: game-design
    context: "Game mechanics requiring environmental support"
    receives:
      - "Gameplay requirements (cover, traversal, hazards)"
      - "Interactable object specifications"
      - "Visual affordance requirements"
      - "Performance/memory budgets"
    provides: "Environments that support and enhance gameplay"

  - skill: 3d-modeling
    context: "Raw assets ready for environment integration"
    receives:
      - "Hero prop models"
      - "Modular kit pieces"
      - "Set dressing props"
      - "Collision geometry"
    provides: "Feedback on asset fit, scale, and LOD requirements"

  - skill: texture-art
    context: "Materials ready for environment use"
    receives:
      - "Trim sheet textures"
      - "Material atlases"
      - "Tileable textures"
      - "Decal libraries"
    provides: "UV and material requirements, variation needs"

  - skill: art-direction
    context: "Visual direction for environment style"
    receives:
      - "Style guides and mood boards"
      - "Color palettes and keys"
      - "Reference imagery"
      - "Quality bar examples"
    provides: "Executed environments matching art direction"

# ============================================================================
# DELEGATION TRIGGERS
# ============================================================================
delegation_triggers:
  - trigger: "lighting|lights|GI|baked lighting|realtime lights|shadows"
    delegate_to: lighting-design
    pattern: sequential
    context: "Environment geometry ready for lighting pass"
    handoff_data:
      - "Completed environment geometry and materials"
      - "Intended mood and time of day"
      - "Key focal points requiring light emphasis"
      - "Performance constraints and platform targets"
    receive: "Lit environment with atmosphere and mood"

  - trigger: "texture|material|PBR|substance|trim sheet|albedo|normal"
    delegate_to: texture-art
    pattern: parallel
    context: "Environment needs textures or materials"
    handoff_data:
      - "Asset list requiring textures"
      - "Texel density requirements"
      - "Material type specifications"
      - "Variation needs (clean/dirty/damaged)"
    receive: "Texture sets and materials"

  - trigger: "model|mesh|sculpt|hero prop|asset creation"
    delegate_to: 3d-modeling
    pattern: parallel
    context: "Environment needs new 3D assets"
    handoff_data:
      - "Asset specifications and reference"
      - "Polycount and LOD requirements"
      - "Pivot point and scale conventions"
      - "Collision mesh requirements"
    receive: "3D models ready for environment use"

  - trigger: "procedural|PCG|scatter|random placement|biome generation"
    delegate_to: procedural-generation
    pattern: sequential
    context: "Environment needs procedural content"
    handoff_data:
      - "Placement rules and constraints"
      - "Asset pools for scattering"
      - "Density and variation parameters"
      - "Collision and gameplay considerations"
    receive: "Procedurally placed environment elements"

  - trigger: "shader|material graph|custom effect|VFX"
    delegate_to: shader-programming
    pattern: parallel
    context: "Environment needs custom shaders"
    handoff_data:
      - "Effect requirements and reference"
      - "Performance constraints"
      - "Input texture/data specifications"
      - "Integration with existing materials"
    receive: "Custom shaders for environment"

  - trigger: "performance|optimization|LOD|draw calls|frame rate"
    delegate_to: codebase-optimization
    pattern: sequential
    context: "Environment needs performance optimization"
    handoff_data:
      - "Current performance profile"
      - "Draw call and memory breakdown"
      - "Target platform specifications"
      - "Visual quality priorities"
    receive: "Optimized environment configuration"

  - trigger: "worldbuilding|lore|faction|history|narrative"
    delegate_to: worldbuilding
    pattern: sequential
    context: "Environment needs world context"
    handoff_data:
      - "Location in world/story"
      - "Questions about history/culture"
      - "Storytelling opportunities"
      - "Current narrative staging"
    receive: "Lore and world context for environment"

  - trigger: "animation|moving parts|destructible|physics"
    delegate_to: animation-systems
    pattern: parallel
    context: "Environment has animated or dynamic elements"
    handoff_data:
      - "Assets requiring animation"
      - "Interaction triggers"
      - "Physics requirements"
      - "State change specifications"
    receive: "Animated environment elements"

# ============================================================================
# FEEDBACK LOOPS
# ============================================================================
feedback_loops:
  receives_feedback_from:
    - skill: lighting-design
      signal: "Geometry causing lighting issues"
      action: "Adjust geometry for better light baking, add occluders"

    - skill: level-design
      signal: "Gameplay blocked by art"
      action: "Modify set dressing to restore gameplay space"

    - skill: qa-engineering
      signal: "Collision or navigation bugs"
      action: "Fix collision meshes, adjust prop placement"

    - skill: codebase-optimization
      signal: "Performance bottlenecks identified"
      action: "Reduce draw calls, optimize LODs, cull distant detail"

    - skill: game-design
      signal: "Visual clarity issues"
      action: "Improve readability, adjust value hierarchy"

  sends_feedback_to:
    - skill: 3d-modeling
      signal: "Asset scale, pivot, or LOD issues"
      action: "Request asset fixes or new LODs"

    - skill: texture-art
      signal: "Material tiling or variation needs"
      action: "Request trim sheet updates or new variations"

    - skill: level-design
      signal: "Blockout metrics impacting art"
      action: "Negotiate geometry changes before art lock"

    - skill: art-direction
      signal: "Style inconsistencies discovered"
      action: "Clarify art direction or get exception approval"

    - skill: worldbuilding
      signal: "Lore questions during staging"
      action: "Request clarification on historical/cultural details"

# ============================================================================
# CROSS-DOMAIN INSIGHTS
# ============================================================================
cross_domain_insights:
  - domain: Architecture
    insight: |
      Architects understand space and human experience:
      - Circulation paths define how people move
      - Natural light changes perception of space
      - Proportions create emotional responses (grand, intimate, oppressive)
      - Materials communicate use and status
      - Negative space is as designed as positive space

      Game environments are architecture with impossible freedom.
      Learn from built form, then break rules intentionally.
    applies_when: "Designing interior spaces, establishing proportions"

  - domain: Cinematography
    insight: |
      Cinematographers compose for emotion:
      - Every frame tells a story
      - Light and shadow direct attention
      - Foreground/midground/background create depth
      - Rule of thirds, leading lines, framing guide the eye
      - Color temperature affects mood

      Environment artists compose in 3D for infinite cameras.
      Every angle the player sees is a potential frame.
    applies_when: "Setting up key vistas, placing hero moments"

  - domain: Theme Park Design
    insight: |
      Imagineers invented environmental storytelling:
      - "Weenies" draw visitors forward (visual landmarks)
      - Transitions prepare guests for mood shifts
      - Forced perspective makes spaces feel larger
      - Every detail supports the narrative
      - The environment IS the story

      Game levels are interactive theme parks.
      Guide, don't tell. Show, don't explain.
    applies_when: "Creating player flow, staging environmental narrative"

  - domain: Set Design (Film/Theater)
    insight: |
      Set designers balance art and function:
      - Hero props define character and era
      - Practical elements must work for actors
      - "Dressing" fills space without distracting
      - Every object is a prop, not decoration
      - Sets are designed for specific camera angles

      Game environments are sets for player-controlled cameras.
      Everything must read from every angle the player can reach.
    applies_when: "Set dressing, prop hierarchy, storytelling staging"

  - domain: Military Operations
    insight: |
      Military tacticians understand spatial advantage:
      - Cover and concealment are different things
      - Sight lines determine engagement
      - Choke points control movement
      - High ground confers advantage
      - Terrain is never neutral

      Combat environments are tactical puzzles.
      Art must enhance gameplay affordance, never obscure it.
    applies_when: "Combat space design, cover placement, tactical readability"

# ============================================================================
# COMMON COMBINATIONS
# ============================================================================
common_combinations:
  - name: Environment Production Pipeline
    skills:
      - worldbuilding
      - level-design
      - environment-art
      - lighting-design
      - codebase-optimization
    workflow: |
      1. World context and biome design (worldbuilding)
      2. Blockout and gameplay lock (level-design)
      3. Kit creation and art pass (environment-art)
      4. Lighting and atmosphere (lighting-design)
      5. Optimization pass (codebase-optimization)
      6. Polish and iteration (environment-art)

  - name: Modular Kit Development
    skills:
      - environment-art
      - 3d-modeling
      - texture-art
      - shader-programming
    workflow: |
      1. Kit planning and grid setup (environment-art)
      2. Modular piece modeling (3d-modeling)
      3. Trim sheet and atlas creation (texture-art)
      4. Master material setup (shader-programming)
      5. Assembly and validation (environment-art)

  - name: Environmental Narrative
    skills:
      - worldbuilding
      - environment-art
      - game-design
    workflow: |
      1. Narrative beats and history (worldbuilding)
      2. Gameplay-narrative integration (game-design)
      3. Environmental staging and storytelling (environment-art)
      4. Player testing and iteration (game-design + environment-art)

  - name: Open World Biome Creation
    skills:
      - worldbuilding
      - environment-art
      - procedural-generation
      - lighting-design
    workflow: |
      1. Biome specification (worldbuilding + environment-art)
      2. Asset kit creation (environment-art)
      3. Procedural placement rules (procedural-generation)
      4. Time-of-day and weather (lighting-design)
      5. Hero location hand-crafting (environment-art)

  - name: Performance-Critical Environment
    skills:
      - environment-art
      - codebase-optimization
      - shader-programming
    workflow: |
      1. Budget establishment (codebase-optimization)
      2. Kit design with constraints (environment-art)
      3. Optimized materials (shader-programming)
      4. LOD and occlusion setup (environment-art + codebase-optimization)
      5. Platform validation (codebase-optimization)

# ============================================================================
# HANDOFF CHECKLIST
# ============================================================================
handoff_checklists:
  to_lighting_design:
    - "Environment geometry finalized and approved"
    - "Materials assigned with correct roughness/metallic values"
    - "Lightmap UVs generated and validated"
    - "Emissive surfaces marked and documented"
    - "Light blocking volumes placed where needed"
    - "Mood reference and color script provided"
    - "Performance budget communicated"

  to_qa_engineering:
    - "Collision meshes validated in-engine"
    - "Navigation mesh baked and tested"
    - "All props have appropriate collision"
    - "Known collision issues documented"
    - "Traversal paths tested at player scale"
    - "Gameplay-critical sightlines verified"

  from_level_design:
    - "Blockout geometry approved and locked"
    - "Gameplay metrics finalized (cover, spacing)"
    - "Critical path clearly marked"
    - "Prop callouts with reference"
    - "Performance/memory budget provided"
    - "Platform targets specified"
