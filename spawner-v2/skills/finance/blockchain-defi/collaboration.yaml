id: blockchain-defi-collaboration
skill: blockchain-defi
version: 1.0.0

receives_from:
  - skill: algorithmic-trading
    context: "DeFi trading strategies"
    receives:
      - "Trading signals"
      - "Execution parameters"
    provides: "On-chain execution"

  - skill: risk-modeling
    context: "DeFi risk assessment"
    receives:
      - "Protocol risk scores"
      - "Impermanent loss analysis"
    provides: "Position monitoring"

delegation_triggers:
  - trigger: "backtest|strategy|signal"
    delegate_to: algorithmic-trading
    context: "Trading strategy development"

  - trigger: "var|risk.*model|stress.test"
    delegate_to: risk-modeling
    context: "DeFi risk analysis"

  - trigger: "fiat|bank|plaid|stripe"
    delegate_to: fintech-integration
    context: "Fiat on/off ramps"

  - trigger: "portfolio|allocat|rebalance"
    delegate_to: portfolio-optimization
    context: "DeFi portfolio management"

feedback_loops:
  receives_feedback_from:
    - skill: algorithmic-trading
      signal: "Trade execution needed"
      action: "Execute on-chain swap"

    - skill: risk-modeling
      signal: "Risk threshold exceeded"
      action: "Reduce DeFi exposure"

  sends_feedback_to:
    - skill: algorithmic-trading
      signal: "Transaction confirmed"
      action: "Update position tracking"

    - skill: risk-modeling
      signal: "IL exceeds threshold"
      action: "Trigger exit evaluation"

common_combinations:
  - name: DeFi Trading Bot
    skills:
      - blockchain-defi
      - algorithmic-trading
    workflow: |
      1. Monitor pool prices
      2. Detect arbitrage opportunities
      3. Calculate optimal trade
      4. Execute with slippage protection
      5. Track P&L including gas

  - name: Yield Farming Strategy
    skills:
      - blockchain-defi
      - portfolio-optimization
    workflow: |
      1. Scan yield opportunities
      2. Score by risk-adjusted yield
      3. Allocate capital
      4. Monitor IL and fees
      5. Rebalance periodically

  - name: DeFi Risk Management
    skills:
      - blockchain-defi
      - risk-modeling
    workflow: |
      1. Map protocol exposures
      2. Calculate protocol risk scores
      3. Stress test positions
      4. Set concentration limits
      5. Monitor oracle health

ecosystem:
  smart_contracts:
    - "OpenZeppelin - Security standards"
    - "Foundry - Development framework"
    - "Hardhat - JavaScript tooling"

  security:
    - "Slither - Static analysis"
    - "Echidna - Fuzz testing"
    - "Mythril - Symbolic execution"

  integration:
    - "web3.py - Python"
    - "ethers.js - JavaScript"
    - "viem - TypeScript"

  data:
    - "The Graph - Indexing"
    - "Dune Analytics - Dashboards"
    - "DefiLlama - TVL tracking"

references:
  protocols:
    - "Uniswap V3/V4 Docs"
    - "Aave V3 Documentation"
    - "Curve Technical Docs"

  security:
    - "SWC Registry - Vulnerabilities"
    - "Rekt.news - Exploit Analysis"
    - "OpenZeppelin Security Guides"

  tutorials:
    - "Foundry Book"
    - "DeFi Developer Road Map"
