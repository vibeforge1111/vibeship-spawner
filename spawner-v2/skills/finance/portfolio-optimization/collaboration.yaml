id: portfolio-optimization-collaboration
skill: portfolio-optimization
version: 1.0.0

receives_from:
  - skill: risk-modeling
    context: "Risk constraints and metrics"
    receives:
      - "VaR/ES estimates"
      - "Correlation matrices"
    provides: "Portfolio weights for risk calculation"

  - skill: algorithmic-trading
    context: "Execution feedback"
    receives:
      - "Transaction cost estimates"
      - "Execution quality metrics"
    provides: "Rebalancing orders"

delegation_triggers:
  - trigger: "var|value.at.risk|stress.test"
    delegate_to: risk-modeling
    context: "Portfolio risk metrics"

  - trigger: "execute|trade|rebalance.*order"
    delegate_to: algorithmic-trading
    context: "Portfolio rebalancing"

  - trigger: "option|derivative|hedge"
    delegate_to: derivatives-pricing
    context: "Options overlay"

  - trigger: "defi|yield|liquidity"
    delegate_to: blockchain-defi
    context: "DeFi portfolio strategies"

feedback_loops:
  receives_feedback_from:
    - skill: risk-modeling
      signal: "VaR breach warning"
      action: "Reduce risk in optimization"

    - skill: algorithmic-trading
      signal: "Execution complete"
      action: "Update current holdings"

  sends_feedback_to:
    - skill: risk-modeling
      signal: "New target weights"
      action: "Recalculate portfolio risk"

    - skill: algorithmic-trading
      signal: "Rebalancing trades"
      action: "Execute rebalancing"

common_combinations:
  - name: Institutional Portfolio Management
    skills:
      - portfolio-optimization
      - risk-modeling
    workflow: |
      1. Define investment universe
      2. Estimate returns and covariance
      3. Optimize with constraints
      4. Calculate portfolio VaR
      5. Stress test allocation
      6. Implement rebalancing rules

  - name: Factor Investing
    skills:
      - portfolio-optimization
    workflow: |
      1. Define factor exposures
      2. Estimate factor loadings
      3. Optimize factor tilts
      4. Control tracking error
      5. Monitor factor attribution

  - name: Multi-Asset Allocation
    skills:
      - portfolio-optimization
      - derivatives-pricing
    workflow: |
      1. Strategic asset allocation
      2. Tactical overlay
      3. Options for tail hedging
      4. Rebalancing schedule
      5. Performance attribution

ecosystem:
  optimization:
    - "PyPortfolioOpt - Full optimization"
    - "skfolio - Scikit-learn style"
    - "cvxpy - Convex optimization"
    - "riskfolio-lib - Risk parity"

  covariance:
    - "sklearn.covariance - Shrinkage"
    - "numpy - Matrix operations"

  data:
    - "yfinance - Price data"
    - "pandas-datareader - Multi-source"

  backtesting:
    - "backtesting.py - Strategy testing"
    - "vectorbt - Vectorized backtests"

references:
  books:
    - "Advances in Financial Machine Learning - Lopez de Prado"
    - "Expected Returns - Ilmanen"
    - "Active Portfolio Management - Grinold & Kahn"

  papers:
    - "DeMiguel et al. (2009) - 1/N Paper"
    - "Ledoit & Wolf - Shrinkage Estimator"
    - "Hierarchical Risk Parity - Lopez de Prado"

  tutorials:
    - "PyPortfolioOpt Documentation"
    - "skfolio User Guide"
