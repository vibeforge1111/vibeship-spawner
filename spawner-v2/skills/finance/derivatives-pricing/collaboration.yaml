id: derivatives-pricing-collaboration
skill: derivatives-pricing
version: 1.0.0

receives_from:
  - skill: risk-modeling
    context: "Volatility estimates"
    receives:
      - "GARCH volatility forecasts"
      - "Historical volatility"
    provides: "Option prices and Greeks"

  - skill: algorithmic-trading
    context: "Options execution"
    receives:
      - "Trade signals"
      - "Market data"
    provides: "Theoretical prices and Greeks for trading"

delegation_triggers:
  - trigger: "var|value.at.risk|stress.test"
    delegate_to: risk-modeling
    context: "Portfolio risk with options"

  - trigger: "allocat|weight|portfolio.*optim"
    delegate_to: portfolio-optimization
    context: "Options in portfolio"

  - trigger: "execute|algo|order"
    delegate_to: algorithmic-trading
    context: "Options execution"

  - trigger: "smart.?contract|defi|on.?chain"
    delegate_to: blockchain-defi
    context: "DeFi options protocols"

feedback_loops:
  receives_feedback_from:
    - skill: risk-modeling
      signal: "Volatility forecast update"
      action: "Reprice options"

    - skill: algorithmic-trading
      signal: "Market data update"
      action: "Update theoretical prices"

  sends_feedback_to:
    - skill: risk-modeling
      signal: "Greeks and sensitivities"
      action: "Update portfolio risk"

    - skill: algorithmic-trading
      signal: "Price vs theoretical"
      action: "Identify trading opportunities"

common_combinations:
  - name: Options Trading Desk
    skills:
      - derivatives-pricing
      - algorithmic-trading
      - risk-modeling
    workflow: |
      1. Price options (Black-Scholes/trees)
      2. Calculate Greeks
      3. Identify mispricings
      4. Execute trades
      5. Monitor Greeks exposure

  - name: Volatility Trading
    skills:
      - derivatives-pricing
      - risk-modeling
    workflow: |
      1. Build volatility surface
      2. Identify rich/cheap vol
      3. Construct vega-neutral spreads
      4. Monitor vanna/volga
      5. Roll positions

  - name: Structured Products
    skills:
      - derivatives-pricing
      - portfolio-optimization
    workflow: |
      1. Design payoff structure
      2. Price exotic components
      3. Calculate issuer hedge cost
      4. Optimize hedge Greeks
      5. Monitor and rebalance

ecosystem:
  pricing_engines:
    - "QuantLib - Comprehensive derivatives library"
    - "py_vollib - Black-Scholes implementation"
    - "mibian - Options pricing"

  volatility:
    - "arch - GARCH volatility modeling"
    - "py_lets_be_rational - Implied vol solver"

  data:
    - "yfinance - Options chains"
    - "CBOE DataShop - VIX data"

  visualization:
    - "matplotlib - Payoff diagrams"
    - "plotly - Interactive vol surfaces"

references:
  books:
    - "Options, Futures, and Other Derivatives - Hull"
    - "The Volatility Surface - Gatheral"
    - "Dynamic Hedging - Taleb"

  tutorials:
    - "QuantLib Python Tutorial"
    - "py_vollib Documentation"

  papers:
    - "Black-Scholes (1973)"
    - "Heston (1993)"
    - "SABR Model - Hagan"
