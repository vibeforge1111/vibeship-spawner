# Scroll Experience Validations

validations:
  - id: no-reduced-motion
    name: No Reduced Motion Support
    severity: high
    type: pattern
    check: "Should respect prefers-reduced-motion"
    pattern: "prefers-reduced-motion"
    indicators:
      - "No @media (prefers-reduced-motion)"
      - "Animations run regardless of preference"
      - "No matchMedia check for reduced motion"
    message: "Not respecting reduced motion preference - accessibility issue."
    fix_action: "Add prefers-reduced-motion media query to disable/reduce animations"

  - id: scroll-event-no-throttle
    name: Unthrottled Scroll Events
    severity: medium
    type: pattern
    check: "Scroll events should be throttled"
    pattern: "addEventListener.*scroll"
    indicators:
      - "Raw scroll event listeners"
      - "Heavy computation on scroll"
      - "No requestAnimationFrame"
    message: "Scroll events may not be throttled - potential jank."
    fix_action: "Use requestAnimationFrame or GSAP ScrollTrigger for smooth performance"

  - id: animating-layout-properties
    name: Animating Layout-Triggering Properties
    severity: medium
    type: pattern
    check: "Should only animate transform and opacity"
    pattern: "animation.*(?:width|height|top|left|margin|padding)"
    indicators:
      - "Animating width/height"
      - "Animating position properties"
      - "Animating margin/padding"
    message: "Animating layout properties causes jank."
    fix_action: "Use transform (translate, scale) and opacity instead"

  - id: no-will-change
    name: Missing will-change Optimization
    severity: low
    type: conceptual
    check: "Heavy animations should use will-change"
    indicators:
      - "Complex animations without will-change"
      - "Many animated elements"
      - "No GPU hints"
    message: "Consider adding will-change for heavy animations."
    fix_action: "Add will-change: transform to frequently animated elements"

  - id: scroll-hijacking
    name: Scroll Hijacking Detected
    severity: medium
    type: pattern
    check: "Should not prevent default scroll"
    pattern: "preventDefault.*scroll|scrollTo.*behavior"
    indicators:
      - "Preventing default scroll"
      - "Custom scroll speed"
      - "Scroll snapping everything"
    message: "May be hijacking scroll behavior."
    fix_action: "Let users scroll naturally, use scrub animations instead"
